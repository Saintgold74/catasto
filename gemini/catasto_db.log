2025-04-30 09:50:00,322 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-04-30 09:50:00,460 - CatastoDB - INFO - Connessione stabilita con successo
2025-04-30 09:51:23,130 - CatastoDB - ERROR - Errore DB specifico rilevato: UndefinedFunction - ERRORE:  la funzione ricerca_avanzata_possessori(unknown) non esiste
LINE 1: SELECT * FROM ricerca_avanzata_possessori('fossati')
                      ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-04-30 09:51:23,131 - CatastoDB - ERROR - SQLSTATE: 42883
2025-04-30 09:51:23,132 - CatastoDB - ERROR - Query renderizzata: b"SELECT * FROM ricerca_avanzata_possessori('fossati')"
2025-04-30 09:51:23,133 - CatastoDB - INFO - Rollback eseguito.
2025-04-30 09:51:23,134 - CatastoDB - WARNING - Funzione 'ricerca_avanzata_possessori' non trovata.
2025-04-30 09:55:45,633 - CatastoDB - INFO - Disconnessione completata
2025-04-30 10:40:05,968 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-04-30 10:40:06,086 - CatastoDB - INFO - Connessione stabilita con successo
2025-04-30 10:44:16,871 - CatastoDB - INFO - Disconnessione completata
2025-04-30 10:49:25,714 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-04-30 10:49:25,786 - CatastoDB - INFO - Connessione stabilita con successo
2025-04-30 10:50:06,801 - CatastoDB - WARNING - La funzione SQL 'ricerca_avanzata_immobili' potrebbe non essere definita o aggiornata per comune_id.
2025-04-30 10:50:06,828 - CatastoDB - ERROR - Errore DB specifico rilevato: UndefinedFunction - ERRORE:  la funzione ricerca_avanzata_immobili(integer, unknown, unknown, unknown, unknown) non esiste
LINE 1: SELECT * FROM ricerca_avanzata_immobili(3, 'casa', NULL, NUL...
                      ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-04-30 10:50:06,828 - CatastoDB - ERROR - SQLSTATE: 42883
2025-04-30 10:50:06,829 - CatastoDB - ERROR - Query renderizzata: b"SELECT * FROM ricerca_avanzata_immobili(3, 'casa', NULL, NULL, NULL)"
2025-04-30 10:50:06,830 - CatastoDB - INFO - Rollback eseguito.
2025-04-30 10:50:06,830 - CatastoDB - WARNING - Funzione 'ricerca_avanzata_immobili' non trovata.
2025-04-30 11:14:46,289 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-04-30 11:14:46,492 - CatastoDB - INFO - Connessione stabilita con successo
2025-04-30 11:14:58,774 - CatastoDB - WARNING - La funzione SQL 'ricerca_avanzata_immobili' potrebbe non essere definita o aggiornata per comune_id.
2025-04-30 11:23:24,592 - CatastoDB - INFO - Localit‡ 'Regione Bagnoli' (Comune ID: 4) inserita con ID: 7
2025-04-30 11:24:14,683 - CatastoDB - INFO - Localit‡ 'Regione Poca' (Comune ID: 4) inserita con ID: 8
2025-04-30 11:24:30,590 - CatastoDB - ERROR - Errore DB specifico rilevato: UndefinedFunction - ERRORE:  la procedura registra_nuova_proprieta(integer, integer, date, json, json) non esiste
LINE 1: CALL registra_nuova_proprieta(4, 99, '2025-04-01'::date, '[{...
             ^
HINT:  Nessuna procedura trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-04-30 11:24:30,592 - CatastoDB - ERROR - SQLSTATE: 42883
2025-04-30 11:24:30,592 - CatastoDB - ERROR - Query renderizzata: b'CALL registra_nuova_proprieta(4, 99, \'2025-04-01\'::date, \'[{"nome_completo": "Santoro Marco di Pasquale", "cognome_nome": "Santoro Marco", "paternita": "di Pasquale"}]\'::json, \'[{"natura": "Casa", "localita_id": 7, "classificazione": null, "numero_piani": 2, "numero_vani": 2, "consistenza": "120"}, {"natura": "Casa", "localita_id": 8, "classificazione": null, "numero_piani": null, "numero_vani": null, "consistenza": null}]\'::json)'
2025-04-30 11:24:30,593 - CatastoDB - INFO - Rollback eseguito.
2025-04-30 11:24:30,593 - CatastoDB - ERROR - Errore DB registrazione nuova propriet‡ (Partita 99): ERRORE:  la procedura registra_nuova_proprieta(integer, integer, date, json, json) non esiste
LINE 1: CALL registra_nuova_proprieta(4, 99, '2025-04-01'::date, '[{...
             ^
HINT:  Nessuna procedura trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-04-30 11:33:22,797 - CatastoDB - INFO - Disconnessione completata
2025-04-30 11:33:25,824 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-04-30 11:33:25,898 - CatastoDB - INFO - Connessione stabilita con successo
2025-04-30 11:34:25,191 - CatastoDB - INFO - Localit‡ 'Regione Bagnoli' (Comune ID: 4) inserita con ID: 9
2025-04-30 11:34:35,875 - CatastoDB - ERROR - Errore DB specifico rilevato: UndefinedFunction - ERRORE:  la procedura registra_nuova_proprieta(integer, integer, date, json, json) non esiste
LINE 1: CALL registra_nuova_proprieta(4, 99, '2025-04-01'::date, '[{...
             ^
HINT:  Nessuna procedura trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-04-30 11:34:35,876 - CatastoDB - ERROR - SQLSTATE: 42883
2025-04-30 11:34:35,876 - CatastoDB - ERROR - Query renderizzata: b'CALL registra_nuova_proprieta(4, 99, \'2025-04-01\'::date, \'[{"nome_completo": "Santoro Marco di Pasquale", "cognome_nome": "Santoro Marco", "paternita": "di Pasquale"}]\'::json, \'[{"natura": "casa", "localita_id": 9, "classificazione": null, "numero_piani": null, "numero_vani": null, "consistenza": null}]\'::json)'
2025-04-30 11:34:35,877 - CatastoDB - INFO - Rollback eseguito.
2025-04-30 11:34:35,878 - CatastoDB - ERROR - Errore DB registrazione nuova propriet‡ (Partita 99): ERRORE:  la procedura registra_nuova_proprieta(integer, integer, date, json, json) non esiste
LINE 1: CALL registra_nuova_proprieta(4, 99, '2025-04-01'::date, '[{...
             ^
HINT:  Nessuna procedura trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-04-30 11:35:04,462 - CatastoDB - INFO - Disconnessione completata
2025-04-30 11:35:38,140 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-04-30 11:35:38,209 - CatastoDB - INFO - Connessione stabilita con successo
2025-04-30 11:37:02,260 - CatastoDB - INFO - Localit‡ 'Regione Bagnoli' (Comune ID: 3) inserita con ID: 7
2025-04-30 11:37:10,781 - CatastoDB - INFO - Registrata nuova propriet‡: Comune ID 3, Partita N.99
2025-04-30 11:38:46,937 - CatastoDB - ERROR - Errore DB specifico rilevato: RaiseException - ERRORE:  Errore durante l'inserimento del contratto per variazione ID 1: Esiste gi√† un contratto per la variazione con ID 1
CONTEXT:  funzione PL/pgSQL inserisci_contratto(integer,character varying,date,character varying,character varying,text) riga 21 a RAISE

2025-04-30 11:38:46,937 - CatastoDB - ERROR - SQLSTATE: P0001
2025-04-30 11:38:46,938 - CatastoDB - ERROR - Query renderizzata: b"CALL inserisci_contratto(1, 'Vendita', '2025-01-01'::date, NULL, NULL, NULL)"
2025-04-30 11:38:46,938 - CatastoDB - INFO - Rollback eseguito.
2025-04-30 11:38:46,939 - __main__ - ERROR - Errore non gestito nel menu principale: type object 'RaiseException' has no attribute 'sqlstate'
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 517, in insert_contratto
    if self.execute_query(call_proc, params): self.commit(); logger.info(f"Contratto inserito per variazione ID {variazione_id}."); return True
       ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 162, in execute_query
    raise db_err # RILANCIA l'eccezione per gestione specifica nel chiamante
    ^^^^^^^^^^^^
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 140, in execute_query
    self.cur.execute(query, params)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\saint\AppData\Local\Programs\Python\Python313\Lib\site-packages\psycopg2\extras.py", line 146, in execute
    return super().execute(query, vars)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.RaiseException: ERRORE:  Errore durante l'inserimento del contratto per variazione ID 1: Esiste gi√† un contratto per la variazione con ID 1
CONTEXT:  funzione PL/pgSQL inserisci_contratto(integer,character varying,date,character varying,character varying,text) riga 21 a RAISE


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\python_example.py", line 1413, in main
    menu_principale(db)
    ~~~~~~~~~~~~~~~^^^^
  File "C:\Users\saint\catasto\gemini\python_example.py", line 300, in menu_principale
    elif scelta == "2": menu_inserimento(db)
                        ~~~~~~~~~~~~~~~~^^^^
  File "C:\Users\saint\catasto\gemini\python_example.py", line 576, in menu_inserimento
    elif scelta == "7": _inserisci_contratto_interattivo(db)   # Invariato
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^
  File "C:\Users\saint\catasto\gemini\python_example.py", line 779, in _inserisci_contratto_interattivo
    if db.insert_contratto(var_id, tipo_contr, data_contr, notaio, repertorio, note): print(f"Contratto inserito per Variazione ID {var_id}.")
       ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 520, in insert_contratto
    if hasattr(db_err, 'pgcode') and db_err.pgcode == psycopg2.errors.RaiseException.sqlstate and 'Esiste gi‡ un contratto' in str(db_err): logger.warning(f"Contratto per variazione ID {variazione_id} esiste gi‡.")
                                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'RaiseException' has no attribute 'sqlstate'
2025-04-30 11:38:47,037 - CatastoDB - INFO - Disconnessione completata
2025-04-30 11:45:42,033 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-04-30 11:45:42,140 - CatastoDB - INFO - Connessione stabilita con successo
2025-04-30 11:45:59,486 - CatastoDB - ERROR - Errore DB specifico rilevato: RaiseException - ERRORE:  Errore durante l'inserimento del contratto per variazione ID 1: Esiste gi√† un contratto per la variazione con ID 1
CONTEXT:  funzione PL/pgSQL inserisci_contratto(integer,character varying,date,character varying,character varying,text) riga 21 a RAISE

2025-04-30 11:45:59,486 - CatastoDB - ERROR - SQLSTATE: P0001
2025-04-30 11:45:59,486 - CatastoDB - ERROR - Query renderizzata: b"CALL inserisci_contratto(1, 'Vendita', '2025-04-01'::date, NULL, NULL, NULL)"
2025-04-30 11:45:59,487 - CatastoDB - INFO - Rollback eseguito.
2025-04-30 11:45:59,487 - CatastoDB - ERROR - Errore DB inserimento contratto var ID 1: ERRORE:  Errore durante l'inserimento del contratto per variazione ID 1: Esiste gi√† un contratto per la variazione con ID 1
CONTEXT:  funzione PL/pgSQL inserisci_contratto(integer,character varying,date,character varying,character varying,text) riga 21 a RAISE

2025-04-30 11:48:05,993 - CatastoDB - INFO - Disconnessione completata
2025-04-30 11:48:23,618 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-04-30 11:48:23,816 - CatastoDB - INFO - Connessione stabilita con successo
2025-04-30 11:48:42,330 - CatastoDB - ERROR - Errore DB specifico rilevato: RaiseException - ERRORE:  Errore durante l'inserimento del contratto per variazione ID 1: Esiste gi√† un contratto per la variazione con ID 1
CONTEXT:  funzione PL/pgSQL inserisci_contratto(integer,character varying,date,character varying,character varying,text) riga 21 a RAISE

2025-04-30 11:48:42,330 - CatastoDB - ERROR - SQLSTATE: P0001
2025-04-30 11:48:42,331 - CatastoDB - ERROR - Query renderizzata: b"CALL inserisci_contratto(1, 'Successione', '2025-01-01'::date, NULL, NULL, NULL)"
2025-04-30 11:48:42,331 - CatastoDB - INFO - Rollback eseguito.
2025-04-30 11:48:42,332 - CatastoDB - ERROR - Errore DB inserimento contratto var ID 1: ERRORE:  Errore durante l'inserimento del contratto per variazione ID 1: Esiste gi√† un contratto per la variazione con ID 1
CONTEXT:  funzione PL/pgSQL inserisci_contratto(integer,character varying,date,character varying,character varying,text) riga 21 a RAISE

2025-04-30 11:49:49,821 - CatastoDB - INFO - Partita ID 1 duplicata in N.999.
2025-04-30 11:50:51,444 - CatastoDB - ERROR - Errore DB specifico rilevato: UndefinedColumn - ERRORE:  il record "v_partita" non ha un campo "comune_nome"
CONTEXT:  Assegnazione PL/pgSQL "v_certificato := v_certificato || 'COMUNE: ' || v_partita.comune_nome || E'\n'"
funzione PL/pgSQL genera_certificato_proprieta(integer) riga 24 a assegnazione

2025-04-30 11:50:51,444 - CatastoDB - ERROR - SQLSTATE: 42703
2025-04-30 11:50:51,444 - CatastoDB - ERROR - Query renderizzata: b'SELECT genera_certificato_proprieta(1) AS certificato'
2025-04-30 11:50:51,445 - CatastoDB - INFO - Rollback eseguito.
2025-04-30 11:50:51,445 - CatastoDB - ERROR - Errore DB gen cert prop (ID: 1): ERRORE:  il record "v_partita" non ha un campo "comune_nome"
CONTEXT:  Assegnazione PL/pgSQL "v_certificato := v_certificato || 'COMUNE: ' || v_partita.comune_nome || E'\n'"
funzione PL/pgSQL genera_certificato_proprieta(integer) riga 24 a assegnazione

2025-04-30 11:55:15,451 - CatastoDB - INFO - Disconnessione completata
2025-04-30 11:55:32,427 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-04-30 11:55:32,495 - CatastoDB - INFO - Connessione stabilita con successo
2025-04-30 11:55:36,184 - CatastoDB - ERROR - Errore DB specifico rilevato: UndefinedColumn - ERRORE:  il record "v_partita" non ha un campo "comune_nome"
CONTEXT:  Assegnazione PL/pgSQL "v_certificato := v_certificato || 'COMUNE: ' || v_partita.comune_nome || E'\n'"
funzione PL/pgSQL genera_certificato_proprieta(integer) riga 17 a assegnazione

2025-04-30 11:55:36,184 - CatastoDB - ERROR - SQLSTATE: 42703
2025-04-30 11:55:36,185 - CatastoDB - ERROR - Query renderizzata: b'SELECT genera_certificato_proprieta(1) AS certificato'
2025-04-30 11:55:36,186 - CatastoDB - INFO - Rollback eseguito.
2025-04-30 11:55:36,186 - CatastoDB - ERROR - Errore DB gen cert prop (ID: 1): ERRORE:  il record "v_partita" non ha un campo "comune_nome"
CONTEXT:  Assegnazione PL/pgSQL "v_certificato := v_certificato || 'COMUNE: ' || v_partita.comune_nome || E'\n'"
funzione PL/pgSQL genera_certificato_proprieta(integer) riga 17 a assegnazione

2025-04-30 11:55:50,315 - CatastoDB - INFO - Disconnessione completata
2025-05-02 18:32:35,377 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-02 18:32:35,470 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-02 18:36:02,083 - CatastoDB - ERROR - Errore DB specifico rilevato: RaiseException - ERRORE:  Backup ID 1 non trovato
CONTEXT:  funzione PL/pgSQL get_restore_commands(integer) riga 9 a RAISE

2025-05-02 18:36:02,083 - CatastoDB - ERROR - SQLSTATE: P0001
2025-05-02 18:36:02,084 - CatastoDB - ERROR - Query renderizzata: b'SELECT get_restore_commands(1) AS command'
2025-05-02 18:36:02,085 - CatastoDB - INFO - Rollback eseguito.
2025-05-02 18:36:02,085 - CatastoDB - ERROR - Errore DB get_restore_cmd (ID: 1): ERRORE:  Backup ID 1 non trovato
CONTEXT:  funzione PL/pgSQL get_restore_commands(integer) riga 9 a RAISE

2025-05-02 18:36:20,055 - CatastoDB - INFO - Disconnessione completata
2025-05-03 08:05:18,224 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-03 08:05:18,322 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-03 08:07:20,909 - CatastoDB - WARNING - La funzione SQL 'ricerca_avanzata_immobili' potrebbe non essere definita o aggiornata per comune_id.
2025-05-03 08:10:22,632 - CatastoDB - INFO - Immobile ID 1100 trasferito a partita ID 1300.
2025-05-03 08:16:20,436 - CatastoDB - INFO - Disconnessione completata
2025-05-03 21:24:27,701 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-03 21:24:27,811 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-03 21:25:14,640 - __main__ - ERROR - Errore non gestito nel menu principale: cannot access local variable 'utente_db' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\python_example.py", line 1413, in main
    menu_principale(db)
    ~~~~~~~~~~~~~~~^^^^
  File "C:\Users\saint\catasto\gemini\python_example.py", line 303, in menu_principale
    elif scelta == "5": menu_audit(db)
                        ~~~~~~~~~~^^^^
  File "C:\Users\saint\catasto\gemini\python_example.py", line 1091, in menu_audit
    logs = db.get_audit_log(tabella, op, rec_id, data_inizio, data_fine, utente_db, app_user_id, session_id_str)
                                                                         ^^^^^^^^^
UnboundLocalError: cannot access local variable 'utente_db' where it is not associated with a value
2025-05-03 21:25:14,739 - CatastoDB - INFO - Disconnessione completata
2025-05-03 21:25:36,210 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-03 21:25:36,348 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-03 21:25:42,280 - CatastoDB - ERROR - Errore DB specifico rilevato: UndefinedFunction - ERRORE:  la procedura verifica_integrita_database(unknown) non esiste
LINE 1: CALL verifica_integrita_database(NULL)
             ^
HINT:  Nessuna procedura trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-03 21:25:42,281 - CatastoDB - ERROR - SQLSTATE: 42883
2025-05-03 21:25:42,281 - CatastoDB - ERROR - Query renderizzata: b'CALL verifica_integrita_database(NULL)'
2025-05-03 21:25:42,282 - CatastoDB - INFO - Rollback eseguito.
2025-05-03 21:25:42,282 - CatastoDB - ERROR - Errore DB verifica integrit‡: ERRORE:  la procedura verifica_integrita_database(unknown) non esiste
LINE 1: CALL verifica_integrita_database(NULL)
             ^
HINT:  Nessuna procedura trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-03 21:25:56,889 - CatastoDB - INFO - Avvio aggiornamento viste materializzate...
2025-05-03 21:25:57,519 - CatastoDB - INFO - Aggiornamento viste completato.
2025-05-03 21:26:06,730 - CatastoDB - INFO - Avvio manutenzione database (ANALYZE, REFRESH MV)...
2025-05-03 21:26:07,273 - CatastoDB - INFO - Manutenzione (ANALYZE, REFRESH MV) completata.
2025-05-03 21:26:22,292 - CatastoDB - WARNING - La funzione SQL 'analizza_query_lente' potrebbe non essere definita.
2025-05-03 21:26:22,296 - CatastoDB - ERROR - Errore DB specifico rilevato: UndefinedFunction - ERRORE:  la funzione analizza_query_lente(integer) non esiste
LINE 1: SELECT * FROM analizza_query_lente(1000)
                      ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-03 21:26:22,297 - CatastoDB - ERROR - SQLSTATE: 42883
2025-05-03 21:26:22,297 - CatastoDB - ERROR - Query renderizzata: b'SELECT * FROM analizza_query_lente(1000)'
2025-05-03 21:26:22,298 - CatastoDB - INFO - Rollback eseguito.
2025-05-03 21:26:22,299 - CatastoDB - WARNING - Funzione 'analizza_query_lente' non trovata.
2025-05-03 21:26:31,898 - CatastoDB - WARNING - La procedura SQL 'controlla_frammentazione_indici' potrebbe non essere definita.
2025-05-03 21:26:31,899 - CatastoDB - INFO - Avvio controllo frammentazione indici (risultati nei log DB)...
2025-05-03 21:26:31,901 - CatastoDB - ERROR - Errore DB specifico rilevato: UndefinedFunction - ERRORE:  la procedura controlla_frammentazione_indici() non esiste
LINE 1: CALL controlla_frammentazione_indici()
             ^
HINT:  Nessuna procedura trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-03 21:26:31,901 - CatastoDB - ERROR - SQLSTATE: 42883
2025-05-03 21:26:31,901 - CatastoDB - ERROR - Query renderizzata: b'CALL controlla_frammentazione_indici()'
2025-05-03 21:26:31,902 - CatastoDB - INFO - Rollback eseguito.
2025-05-03 21:26:31,903 - CatastoDB - WARNING - Procedura 'controlla_frammentazione_indici' non trovata.
2025-05-03 21:26:41,752 - CatastoDB - WARNING - La funzione SQL 'suggerimenti_ottimizzazione' potrebbe non essere definita o corretta.
2025-05-03 21:26:41,753 - CatastoDB - ERROR - Errore DB specifico rilevato: UndefinedFunction - ERRORE:  la funzione suggerimenti_ottimizzazione() non esiste
LINE 1: SELECT suggerimenti_ottimizzazione() AS suggestions
               ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-03 21:26:41,754 - CatastoDB - ERROR - SQLSTATE: 42883
2025-05-03 21:26:41,755 - CatastoDB - ERROR - Query renderizzata: b'SELECT suggerimenti_ottimizzazione() AS suggestions'
2025-05-03 21:26:41,755 - CatastoDB - INFO - Rollback eseguito.
2025-05-03 21:26:41,756 - CatastoDB - WARNING - Funzione 'suggerimenti_ottimizzazione' non trovata.
2025-05-03 21:27:08,485 - __main__ - WARNING - Login fallito (utente 'Saintgold' non trovato/attivo).
2025-05-03 21:27:27,589 - CatastoDB - INFO - Disconnessione completata
2025-05-12 18:10:36,884 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-12 18:10:37,007 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-12 18:11:46,941 - CatastoDB - ERROR - Errore DB specifico rilevato: UndefinedFunction - ERRORE:  la procedura verifica_integrita_database(unknown) non esiste
LINE 1: CALL verifica_integrita_database(NULL)
             ^
HINT:  Nessuna procedura trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-12 18:11:46,942 - CatastoDB - ERROR - SQLSTATE: 42883
2025-05-12 18:11:46,943 - CatastoDB - ERROR - Query renderizzata: b'CALL verifica_integrita_database(NULL)'
2025-05-12 18:11:46,944 - CatastoDB - INFO - Rollback eseguito.
2025-05-12 18:11:46,945 - CatastoDB - ERROR - Errore DB verifica integrit‡: ERRORE:  la procedura verifica_integrita_database(unknown) non esiste
LINE 1: CALL verifica_integrita_database(NULL)
             ^
HINT:  Nessuna procedura trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-12 18:12:04,184 - CatastoDB - INFO - Disconnessione completata
2025-05-12 18:14:20,143 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-12 18:14:20,459 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-12 18:14:56,569 - CatastoDB - INFO - Immobile ID 1 trasferito a partita ID 2.
2025-05-12 18:17:58,632 - CatastoDB - INFO - Disconnessione completata
2025-05-12 18:19:59,733 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-12 18:19:59,830 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-12 18:21:41,682 - CatastoDB - INFO - Localit‡ 'Regione Pizzaballa' (Comune ID: 6) inserita con ID: 101
2025-05-12 18:23:28,117 - CatastoDB - INFO - Localit‡ 'Regione Pizzaballa' (Comune ID: 6) inserita con ID: 102
2025-05-12 18:23:56,290 - CatastoDB - INFO - Registrata nuova propriet‡: Comune ID 6, Partita N.999
2025-05-12 18:27:00,135 - CatastoDB - ERROR - Errore DB specifico rilevato: RaiseException - ERRORE:  [registra_passaggio_proprieta] Errore: La partita 999 gi√† esiste nel comune ID 6
CONTEXT:  funzione PL/pgSQL registra_passaggio_proprieta(integer,integer,integer,character varying,date,character varying,date,character varying,character varying,json,integer[],text) riga 79 a RAISE

2025-05-12 18:27:00,135 - CatastoDB - ERROR - SQLSTATE: P0001
2025-05-12 18:27:00,135 - CatastoDB - ERROR - Query renderizzata: b'CALL registra_passaggio_proprieta(1, 6, 999, \'Vendita\', \'2025-05-01\'::date, \'Vendita\', \'1950-05-01\'::date, \'Licia Col\xc3\xb2\', NULL, \'[{"nome_completo": "Alfredo O\'\'Chiatt", "cognome_nome": "Chiatto Alfredo", "paternita": "di Apulio"}]\'::json, NULL, NULL)'
2025-05-12 18:27:00,136 - CatastoDB - INFO - Rollback eseguito.
2025-05-12 18:27:00,136 - CatastoDB - ERROR - Errore DB registrazione passaggio propriet‡ (Origine ID 1): ERRORE:  [registra_passaggio_proprieta] Errore: La partita 999 gi√† esiste nel comune ID 6
CONTEXT:  funzione PL/pgSQL registra_passaggio_proprieta(integer,integer,integer,character varying,date,character varying,date,character varying,character varying,json,integer[],text) riga 79 a RAISE

2025-05-13 08:48:22,911 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-13 08:48:23,091 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-13 08:48:45,045 - CatastoDB - INFO - Disconnessione completata
2025-05-13 09:43:16,790 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-13 09:43:16,896 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-13 09:51:46,449 - CatastoDB - INFO - Disconnessione completata
2025-05-13 10:01:22,527 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-13 10:01:22,595 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-13 10:09:03,380 - __main__ - ERROR - Errore non gestito nel menu principale: cannot access local variable 'utente_db' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\python_example.py", line 1413, in main
    menu_principale(db)
    ~~~~~~~~~~~~~~~^^^^
  File "C:\Users\saint\catasto\gemini\python_example.py", line 303, in menu_principale
    elif scelta == "5": menu_audit(db)
                        ~~~~~~~~~~^^^^
  File "C:\Users\saint\catasto\gemini\python_example.py", line 1091, in menu_audit
    logs = db.get_audit_log(tabella, op, rec_id, data_inizio, data_fine, utente_db, app_user_id, session_id_str)
                                                                         ^^^^^^^^^
UnboundLocalError: cannot access local variable 'utente_db' where it is not associated with a value
2025-05-13 10:09:03,394 - CatastoDB - INFO - Disconnessione completata
2025-05-13 10:12:51,820 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-13 10:12:51,994 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-13 10:13:12,102 - CatastoDB - ERROR - Errore DB specifico rilevato: UndefinedFunction - ERRORE:  la funzione get_record_history(unknown, integer) non esiste
LINE 1: SELECT * FROM get_record_history('partita', 1)
                      ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-13 10:13:12,102 - CatastoDB - ERROR - SQLSTATE: 42883
2025-05-13 10:13:12,103 - CatastoDB - ERROR - Query renderizzata: b"SELECT * FROM get_record_history('partita', 1)"
2025-05-13 10:13:12,104 - CatastoDB - INFO - Rollback eseguito.
2025-05-13 10:13:12,104 - CatastoDB - ERROR - Errore DB get_record_history: ERRORE:  la funzione get_record_history(unknown, integer) non esiste
LINE 1: SELECT * FROM get_record_history('partita', 1)
                      ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-13 10:13:22,239 - CatastoDB - ERROR - Errore DB specifico rilevato: UndefinedTable - ERRORE:  la relazione "v_audit_dettagliato" non esiste
LINE 1: SELECT * FROM v_audit_dettagliato ORDER BY timestamp DESC LI...
                      ^

2025-05-13 10:13:22,240 - CatastoDB - ERROR - SQLSTATE: 42P01
2025-05-13 10:13:22,240 - CatastoDB - ERROR - Query renderizzata: b'SELECT * FROM v_audit_dettagliato ORDER BY timestamp DESC LIMIT 1000'
2025-05-13 10:13:22,246 - CatastoDB - INFO - Rollback eseguito.
2025-05-13 10:13:22,246 - CatastoDB - ERROR - Errore DB get_audit_log: ERRORE:  la relazione "v_audit_dettagliato" non esiste
LINE 1: SELECT * FROM v_audit_dettagliato ORDER BY timestamp DESC LI...
                      ^

2025-05-14 09:55:16,355 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-14 09:55:16,527 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-14 09:55:28,980 - CatastoDB - INFO - Disconnessione completata
2025-05-14 10:16:44,158 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-14 10:16:44,263 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-14 10:17:07,541 - __main__ - WARNING - Login fallito (utente 'postgres' non trovato/attivo).
2025-05-14 10:18:00,122 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-14 10:18:00,174 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-14 10:32:39,817 - CatastoDB - INFO - Avvio manutenzione database (ANALYZE, REFRESH MV)...
2025-05-14 10:54:27,621 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-14 10:54:27,680 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-14 10:55:12,311 - CatastoDB - INFO - Utente 'antongiulio' creato.
2025-05-14 10:55:27,476 - __main__ - INFO - Login OK per ID: 3
2025-05-14 10:55:27,480 - CatastoDB - ERROR - Errore DB specifico rilevato: UndefinedFunction - ERRORE:  la procedura registra_accesso(integer, unknown, unknown, unknown, boolean, unknown, unknown) non esiste
LINE 1: CALL registra_accesso(3, 'login', '127.0.0.1', NULL, true, '...
             ^
HINT:  Nessuna procedura trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-14 10:55:27,481 - CatastoDB - ERROR - SQLSTATE: 42883
2025-05-14 10:55:27,481 - CatastoDB - ERROR - Query renderizzata: b"CALL registra_accesso(3, 'login', '127.0.0.1', NULL, true, '9fdf65fd-98b3-46fc-9e86-c990084bb894', 'CatastoApp')"
2025-05-14 10:55:27,482 - CatastoDB - INFO - Rollback eseguito.
2025-05-14 10:55:27,482 - CatastoDB - ERROR - Errore DB registrazione accesso utente ID 3: ERRORE:  la procedura registra_accesso(integer, unknown, unknown, unknown, boolean, unknown, unknown) non esiste
LINE 1: CALL registra_accesso(3, 'login', '127.0.0.1', NULL, true, '...
             ^
HINT:  Nessuna procedura trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-14 10:55:29,044 - __main__ - ERROR - Login OK per ID 3 ma fallita reg. accesso.
2025-05-14 10:55:49,592 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-14 10:55:49,750 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-14 10:55:51,459 - CatastoDB - INFO - Disconnessione completata
2025-05-15 09:08:19,236 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-15 09:08:19,345 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-15 09:08:50,068 - CatastoDB - INFO - Disconnessione completata
2025-05-15 10:18:20,492 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-15 10:18:20,603 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-15 10:21:01,331 - CatastoDB - INFO - Disconnessione completata
2025-05-15 16:55:33,006 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-15 16:55:33,095 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-15 16:56:11,070 - CatastoDB - INFO - Utente 'pippo' creato.
2025-05-15 16:56:22,579 - __main__ - INFO - Login OK per ID: 2
2025-05-15 16:56:22,585 - CatastoDB - ERROR - Errore DB specifico rilevato: UndefinedFunction - ERRORE:  la procedura registra_accesso(integer, unknown, unknown, unknown, boolean, unknown, unknown) non esiste
LINE 1: CALL registra_accesso(2, 'login', '127.0.0.1', NULL, true, '...
             ^
HINT:  Nessuna procedura trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-15 16:56:22,585 - CatastoDB - ERROR - SQLSTATE: 42883
2025-05-15 16:56:22,585 - CatastoDB - ERROR - Query renderizzata: b"CALL registra_accesso(2, 'login', '127.0.0.1', NULL, true, 'e02a0de5-7f71-4a76-a1da-cb381ca3ee72', 'CatastoApp')"
2025-05-15 16:56:22,586 - CatastoDB - INFO - Rollback eseguito.
2025-05-15 16:56:22,586 - CatastoDB - ERROR - Errore DB registrazione accesso utente ID 2: ERRORE:  la procedura registra_accesso(integer, unknown, unknown, unknown, boolean, unknown, unknown) non esiste
LINE 1: CALL registra_accesso(2, 'login', '127.0.0.1', NULL, true, '...
             ^
HINT:  Nessuna procedura trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-15 16:56:26,096 - __main__ - ERROR - Login OK per ID 2 ma fallita reg. accesso.
2025-05-15 17:02:18,921 - CatastoDB - INFO - Registrata nuova propriet‡: Comune ID 1, Partita N.1
2025-05-15 17:04:18,647 - CatastoDB - INFO - Avvio aggiornamento viste materializzate...
2025-05-15 17:04:18,780 - CatastoDB - INFO - Aggiornamento viste completato.
2025-05-15 17:04:34,619 - CatastoDB - INFO - Disconnessione completata
2025-05-15 18:00:37,205 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-15 18:00:37,305 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-15 18:03:39,684 - CatastoDB - WARNING - La funzione SQL 'ricerca_avanzata_immobili' potrebbe non essere definita o aggiornata per comune_id.
2025-05-15 18:05:51,731 - CatastoDB - INFO - Immobile ID 1 trasferito a partita ID 2.
2025-05-15 18:07:17,550 - CatastoDB - ERROR - Errore DB specifico rilevato: UniqueViolation - ERRORE:  un valore chiave duplicato viola il vincolo univoco "utente_username_key"
DETAIL:  La chiave (username)=(pippo) esiste gi‡.
CONTEXT:  istruzione SQL "INSERT INTO utente (username, password_hash, nome_completo, email, ruolo)
    VALUES (p_username, p_password, p_nome_completo, p_email, p_ruolo)"
funzione PL/pgSQL crea_utente(character varying,character varying,character varying,character varying,character varying) riga 3 a istruzione SQL

2025-05-15 18:07:17,550 - CatastoDB - ERROR - SQLSTATE: 23505
2025-05-15 18:07:17,550 - CatastoDB - ERROR - Query renderizzata: b"CALL crea_utente('pippo', '$2b$12$ATiRsJFv4Mw6Td5vgLvWWOruhEeLgQ9S/42/88D7txmAAAkMhVJ.6', 'pippo', 'pippo', 'admin')"
2025-05-15 18:07:17,551 - CatastoDB - INFO - Rollback eseguito.
2025-05-15 18:07:17,551 - CatastoDB - ERROR - Errore creazione utente: Username 'pippo' o Email 'pippo' gi‡ esistente.
2025-05-15 18:07:44,539 - __main__ - INFO - Login OK per ID: 2
2025-05-15 18:07:44,541 - CatastoDB - ERROR - Errore DB specifico rilevato: UndefinedFunction - ERRORE:  la procedura registra_accesso(integer, unknown, unknown, unknown, boolean, unknown, unknown) non esiste
LINE 1: CALL registra_accesso(2, 'login', '127.0.0.1', NULL, true, '...
             ^
HINT:  Nessuna procedura trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-15 18:07:44,541 - CatastoDB - ERROR - SQLSTATE: 42883
2025-05-15 18:07:44,541 - CatastoDB - ERROR - Query renderizzata: b"CALL registra_accesso(2, 'login', '127.0.0.1', NULL, true, '31b9fbfa-04dc-425f-ad2c-b5c143d22f51', 'CatastoApp')"
2025-05-15 18:07:44,541 - CatastoDB - INFO - Rollback eseguito.
2025-05-15 18:07:44,541 - CatastoDB - ERROR - Errore DB registrazione accesso utente ID 2: ERRORE:  la procedura registra_accesso(integer, unknown, unknown, unknown, boolean, unknown, unknown) non esiste
LINE 1: CALL registra_accesso(2, 'login', '127.0.0.1', NULL, true, '...
             ^
HINT:  Nessuna procedura trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-15 18:07:44,542 - __main__ - ERROR - Login OK per ID 2 ma fallita reg. accesso.
2025-05-15 18:09:37,413 - CatastoDB - INFO - Disconnessione completata
2025-05-15 18:32:26,289 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-15 18:32:26,351 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-15 18:32:36,745 - __main__ - ERROR - Errore non gestito nel menu principale: cannot access local variable 'utente_db' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\python_example.py", line 1413, in main
    menu_principale(db)
    ~~~~~~~~~~~~~~~^^^^
  File "C:\Users\saint\catasto\gemini\python_example.py", line 303, in menu_principale
    elif scelta == "5": menu_audit(db)
                        ~~~~~~~~~~^^^^
  File "C:\Users\saint\catasto\gemini\python_example.py", line 1091, in menu_audit
    logs = db.get_audit_log(tabella, op, rec_id, data_inizio, data_fine, utente_db, app_user_id, session_id_str)
                                                                         ^^^^^^^^^
UnboundLocalError: cannot access local variable 'utente_db' where it is not associated with a value
2025-05-15 18:32:36,759 - CatastoDB - INFO - Disconnessione completata
2025-05-15 18:32:44,936 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-15 18:32:45,010 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-15 18:32:57,108 - __main__ - WARNING - Login fallito (utente 'pippo' non trovato/attivo).
2025-05-15 18:33:24,388 - CatastoDB - INFO - Utente 'pippo' creato.
2025-05-15 18:33:40,850 - __main__ - INFO - Login OK per ID: 3
2025-05-15 18:33:40,854 - CatastoDB - INFO - Registrato accesso: Utente ID 3, Azione login, Esito True, Sessione e367fbab...
2025-05-15 18:41:26,163 - CatastoDB - ERROR - Errore DB specifico rilevato: UndefinedFunction - ERRORE:  la procedura logout_utente(integer, unknown, unknown) non esiste
LINE 1: CALL logout_utente(3, 'e367fbab-8e9e-4391-9d49-bb3e172d09b5'...
             ^
HINT:  Nessuna procedura trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-15 18:41:26,164 - CatastoDB - ERROR - SQLSTATE: 42883
2025-05-15 18:41:26,164 - CatastoDB - ERROR - Query renderizzata: b"CALL logout_utente(3, 'e367fbab-8e9e-4391-9d49-bb3e172d09b5', '127.0.0.1')"
2025-05-15 18:41:26,164 - CatastoDB - INFO - Rollback eseguito.
2025-05-15 18:41:26,164 - CatastoDB - ERROR - Errore DB logout utente ID 3: ERRORE:  la procedura logout_utente(integer, unknown, unknown) non esiste
LINE 1: CALL logout_utente(3, 'e367fbab-8e9e-4391-9d49-bb3e172d09b5'...
             ^
HINT:  Nessuna procedura trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-15 18:41:26,165 - CatastoDB - INFO - Disconnessione completata
2025-05-15 18:41:36,961 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-15 18:41:37,022 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-15 18:41:55,561 - CatastoDB - INFO - Recuperati 2 utenti.
2025-05-15 18:51:26,975 - CatastoDB - INFO - Utente 'santoro' creato.
2025-05-15 18:51:37,558 - __main__ - INFO - Login OK per ID: 4
2025-05-15 18:51:37,560 - CatastoDB - INFO - Registrato accesso: Utente ID 4, Azione login, Esito True, Sessione cea5427e...
2025-05-15 18:51:57,181 - CatastoDB - ERROR - Errore DB specifico rilevato: UndefinedFunction - ERRORE:  la procedura logout_utente(integer, unknown, unknown) non esiste
LINE 1: CALL logout_utente(4, 'cea5427e-0f7f-4126-82fb-0c7832aa9e27'...
             ^
HINT:  Nessuna procedura trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-15 18:51:57,181 - CatastoDB - ERROR - SQLSTATE: 42883
2025-05-15 18:51:57,181 - CatastoDB - ERROR - Query renderizzata: b"CALL logout_utente(4, 'cea5427e-0f7f-4126-82fb-0c7832aa9e27', '127.0.0.1')"
2025-05-15 18:51:57,181 - CatastoDB - INFO - Rollback eseguito.
2025-05-15 18:51:57,181 - CatastoDB - ERROR - Errore DB logout utente ID 4: ERRORE:  la procedura logout_utente(integer, unknown, unknown) non esiste
LINE 1: CALL logout_utente(4, 'cea5427e-0f7f-4126-82fb-0c7832aa9e27'...
             ^
HINT:  Nessuna procedura trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-15 18:51:57,182 - CatastoDB - INFO - Disconnessione completata
2025-05-15 18:58:36,051 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-15 18:58:36,114 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-15 18:58:38,358 - CatastoDB - INFO - Disconnessione completata
2025-05-15 18:58:47,269 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-15 18:58:47,331 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-15 18:59:06,467 - CatastoDB - INFO - Recuperati 3 utenti.
2025-05-15 19:00:21,099 - CatastoDB - INFO - Registrata consultazione: Richiedente 'Antongiulio', Data 2025-05-15
2025-05-15 19:01:01,878 - __main__ - ERROR - Errore non gestito nel menu principale: cannot access local variable 'utente_db' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\python_example.py", line 1439, in main
    menu_principale(db)
    ~~~~~~~~~~~~~~~^^^^
  File "C:\Users\saint\catasto\gemini\python_example.py", line 303, in menu_principale
    elif scelta == "5": menu_audit(db)
                        ~~~~~~~~~~^^^^
  File "C:\Users\saint\catasto\gemini\python_example.py", line 1091, in menu_audit
    logs = db.get_audit_log(tabella, op, rec_id, data_inizio, data_fine, utente_db, app_user_id, session_id_str)
                                                                         ^^^^^^^^^
UnboundLocalError: cannot access local variable 'utente_db' where it is not associated with a value
2025-05-15 19:01:01,893 - CatastoDB - INFO - Disconnessione completata
2025-05-15 19:01:49,728 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-15 19:01:49,790 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-15 19:02:02,792 - __main__ - INFO - Login OK per ID: 3
2025-05-15 19:02:02,803 - CatastoDB - INFO - Registrato accesso: Utente ID 3, Azione login, Esito True, Sessione ab67a918...
2025-05-15 19:06:08,632 - CatastoDB - INFO - Logout registrato per utente ID 3, sessione ab67a918...
2025-05-15 19:06:08,632 - CatastoDB - INFO - Disconnessione completata
2025-05-15 19:06:19,457 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-15 19:06:19,518 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-15 19:06:30,804 - CatastoDB - INFO - Credenziali recuperate per utente: pippo
2025-05-15 19:06:31,024 - __main__ - INFO - Login OK per ID: 3
2025-05-15 19:06:31,040 - CatastoDB - INFO - Registrato accesso: Utente ID 3, Azione login, Esito True, Sessione 15dcd4f7...
2025-05-15 19:14:06,321 - CatastoDB - INFO - Logout registrato per utente ID 3, sessione 15dcd4f7...
2025-05-15 19:14:06,322 - CatastoDB - INFO - Disconnessione completata
2025-05-15 19:14:10,535 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-15 19:14:10,597 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-15 19:14:28,837 - CatastoDB - INFO - Credenziali recuperate per utente: pippo
2025-05-15 19:14:29,059 - __main__ - INFO - Login OK per ID: 3
2025-05-15 19:14:29,070 - CatastoDB - INFO - Registrato accesso: Utente ID 3, Azione login, Esito True, Sessione 525ef173...
2025-05-15 19:18:46,143 - __main__ - WARNING - Login fallito (utente 'pippo' non trovato/attivo).
2025-05-15 19:18:46,149 - CatastoDB - INFO - Registrato accesso: Utente ID 3, Azione login, Esito True, Sessione d9bbb2bc...
2025-05-15 19:18:48,207 - __main__ - WARNING - Login fallito (utente 'pippo' non trovato/attivo).
2025-05-15 19:18:48,208 - CatastoDB - INFO - Registrato accesso: Utente ID 3, Azione login, Esito True, Sessione bea41487...
2025-05-15 19:18:51,391 - __main__ - WARNING - Login fallito (utente 'pippo' non trovato/attivo).
2025-05-15 19:18:51,392 - CatastoDB - INFO - Registrato accesso: Utente ID 3, Azione login, Esito True, Sessione 342dbddc...
2025-05-15 19:18:59,415 - __main__ - WARNING - Login fallito (utente 'pippo' non trovato/attivo).
2025-05-15 19:18:59,421 - CatastoDB - INFO - Registrato accesso: Utente ID 3, Azione login, Esito True, Sessione 7a5ab7da...
2025-05-15 19:19:04,920 - CatastoDB - INFO - Logout registrato per utente ID 3, sessione 7a5ab7da...
2025-05-15 19:19:04,921 - CatastoDB - INFO - Disconnessione completata
2025-05-15 19:19:07,809 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-15 19:19:07,978 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-15 19:19:29,569 - CatastoDB - INFO - Credenziali recuperate per utente: pippo
2025-05-15 19:19:29,789 - __main__ - INFO - Login OK per ID: 3
2025-05-15 19:19:29,818 - CatastoDB - INFO - Registrato accesso: Utente ID 3, Azione login, Esito True, Sessione 4ddb62ce...
2025-05-15 19:19:42,383 - __main__ - WARNING - Login fallito (utente 'pippo' non trovato/attivo).
2025-05-15 19:19:42,384 - CatastoDB - INFO - Registrato accesso: Utente ID 3, Azione login, Esito True, Sessione db86bb78...
2025-05-15 19:19:47,687 - __main__ - WARNING - Login fallito (utente 'pippo' non trovato/attivo).
2025-05-15 19:19:47,688 - CatastoDB - INFO - Registrato accesso: Utente ID 3, Azione login, Esito True, Sessione f333211d...
2025-05-15 19:19:50,288 - __main__ - WARNING - Login fallito (utente 'pippo' non trovato/attivo).
2025-05-15 19:19:50,293 - CatastoDB - INFO - Registrato accesso: Utente ID 3, Azione login, Esito True, Sessione e19876ef...
2025-05-15 19:20:04,463 - __main__ - WARNING - Login fallito (utente 'pippo' non trovato/attivo).
2025-05-15 19:20:04,464 - CatastoDB - INFO - Registrato accesso: Utente ID 3, Azione login, Esito True, Sessione 367dbf16...
2025-05-15 19:20:14,567 - __main__ - WARNING - Login fallito (utente 'pippo' non trovato/attivo).
2025-05-15 19:20:14,573 - CatastoDB - INFO - Registrato accesso: Utente ID 3, Azione login, Esito True, Sessione ac97f7a4...
2025-05-15 19:20:16,655 - __main__ - WARNING - Login fallito (utente 'pippo' non trovato/attivo).
2025-05-15 19:20:16,656 - CatastoDB - INFO - Registrato accesso: Utente ID 3, Azione login, Esito True, Sessione 6720ba51...
2025-05-15 19:20:22,951 - __main__ - WARNING - Login fallito (utente 'pippo' non trovato/attivo).
2025-05-15 19:20:22,952 - CatastoDB - INFO - Registrato accesso: Utente ID 3, Azione login, Esito True, Sessione 47816622...
2025-05-15 19:26:36,147 - __main__ - WARNING - Login fallito (utente 'pippo' non trovato/attivo).
2025-05-15 19:26:36,153 - CatastoDB - INFO - Registrato accesso: Utente ID 3, Azione login, Esito True, Sessione 78ecdfe7...
2025-05-15 19:26:37,710 - CatastoDB - INFO - Logout registrato per utente ID 3, sessione 78ecdfe7...
2025-05-15 19:26:37,712 - CatastoDB - INFO - Disconnessione completata
2025-05-15 19:27:30,067 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-15 19:27:30,227 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-15 19:27:38,409 - CatastoDB - INFO - Disconnessione completata
2025-05-16 15:50:16,398 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-16 15:50:16,506 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-16 15:50:23,862 - CatastoDB - INFO - Credenziali recuperate per utente: pippo
2025-05-16 15:50:24,294 - CatastoDB - INFO - Registrato accesso: Utente ID 3, Azione login, Esito True, Sessione 7fe0f6b5...
2025-05-16 15:50:58,203 - __main__ - INFO - Uscita inattesa da menu_principale con utente ancora loggato. Terminazione.
2025-05-16 16:05:54,704 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-16 16:05:54,776 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-16 16:06:02,540 - CatastoDB - INFO - Credenziali recuperate per utente: pippo
2025-05-16 16:06:02,893 - CatastoDB - INFO - Registrato accesso: Utente ID 3, Azione login, Esito True, Sessione 4764c31e...
2025-05-16 16:06:13,014 - CatastoDB - INFO - Disconnessione completata
2025-05-16 16:06:15,780 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-16 16:06:15,847 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-16 16:06:22,098 - CatastoDB - INFO - Credenziali recuperate per utente: pippo
2025-05-16 16:06:22,499 - CatastoDB - INFO - Registrato accesso: Utente ID 3, Azione login, Esito True, Sessione 1efdf3e3...
2025-05-16 16:06:33,594 - CatastoDB - ERROR - Errore DB specifico rilevato: UndefinedTable - ERRORE:  la relazione "v_audit_dettagliato" non esiste
LINE 1: SELECT * FROM v_audit_dettagliato ORDER BY timestamp DESC LI...
                      ^

2025-05-16 16:06:33,594 - CatastoDB - ERROR - SQLSTATE: 42P01
2025-05-16 16:06:33,595 - CatastoDB - ERROR - Query renderizzata: b'SELECT * FROM v_audit_dettagliato ORDER BY timestamp DESC LIMIT 100'
2025-05-16 16:06:33,595 - CatastoDB - INFO - Rollback eseguito.
2025-05-16 16:06:33,596 - CatastoDB - ERROR - Errore DB get_audit_log: ERRORE:  la relazione "v_audit_dettagliato" non esiste
LINE 1: SELECT * FROM v_audit_dettagliato ORDER BY timestamp DESC LI...
                      ^

2025-05-16 16:07:34,241 - __main__ - WARNING - Login fallito (utente 'santoro' non trovato/attivo).
2025-05-16 16:26:25,654 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-16 16:26:25,889 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-16 16:27:50,640 - __main__ - WARNING - Login fallito (utente 'pippo' non trovato/attivo).
2025-05-16 16:28:14,694 - CatastoDB - INFO - Disconnessione completata
2025-05-16 16:34:05,083 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-16 16:34:05,195 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-16 16:34:21,117 - __main__ - WARNING - Login fallito (utente 'pippo' non trovato/attivo).
2025-05-16 16:35:23,986 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-16 16:35:24,091 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-16 16:35:26,019 - CatastoDB - INFO - Disconnessione completata
2025-05-16 17:20:21,722 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-16 17:20:21,936 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-16 17:22:51,384 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-16 17:22:51,614 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-16 17:22:56,590 - __main__ - WARNING - Login fallito (utente 'pippo' non trovato/attivo).
2025-05-16 17:23:04,689 - __main__ - WARNING - Login fallito (utente 'pippo' non trovato/attivo).
2025-05-16 17:23:09,328 - __main__ - WARNING - Login fallito (utente 'pippo' non trovato/attivo).
2025-05-16 17:23:09,343 - CatastoDB - INFO - Disconnessione completata
2025-05-16 18:31:04,322 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-16 18:31:04,528 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-16 18:31:10,973 - CatastoDB - INFO - Credenziali recuperate per utente: admin
2025-05-16 18:31:11,065 - __main__ - ERROR - Tentativo di verifica con hash non valido: password_h...
2025-05-16 18:31:11,157 - __main__ - WARNING - Login fallito (pwd errata) per user ID: 1
2025-05-16 18:31:11,257 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito False, Sessione 8fcda1f7...
2025-05-16 18:31:27,787 - __main__ - WARNING - Login fallito (utente 'santoro' non trovato/attivo).
2025-05-16 18:31:40,419 - __main__ - WARNING - Login fallito (utente 'pippo' non trovato/attivo).
2025-05-16 18:31:40,519 - CatastoDB - INFO - Disconnessione completata
2025-05-16 18:31:58,196 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-16 18:31:58,343 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-16 18:32:09,421 - CatastoDB - INFO - Credenziali recuperate per utente: admin
2025-05-16 18:32:09,426 - __main__ - ERROR - Tentativo di verifica con hash non valido: password_h...
2025-05-16 18:32:09,433 - __main__ - WARNING - Login fallito (pwd errata) per user ID: 1
2025-05-16 18:32:09,441 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito False, Sessione 506e56e1...
2025-05-16 18:32:15,606 - CatastoDB - INFO - Disconnessione completata
2025-05-17 07:38:34,710 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-17 07:38:34,850 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-17 07:38:43,239 - CatastoDB - INFO - Credenziali recuperate per utente: pippo
2025-05-17 07:38:44,269 - CatastoDB - INFO - Registrato accesso: Utente ID 3, Azione login, Esito True, Sessione d326ab53...
2025-05-17 07:40:24,653 - __main__ - ERROR - Errore non gestito nel programma: CatastoDBManager.ricerca_avanzata_possessori() got an unexpected keyword argument 'similarity_threshold'
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\python_example.py", line 1091, in main
    menu_principale(db) # Entra nel menu principale dopo login riuscito
    ~~~~~~~~~~~~~~~^^^^
  File "C:\Users\saint\catasto\gemini\python_example.py", line 1045, in menu_principale
    if scelta == "1": menu_consultazione(db)
                      ~~~~~~~~~~~~~~~~~~^^^^
  File "C:\Users\saint\catasto\gemini\python_example.py", line 365, in menu_consultazione
    results_possessori = db.ricerca_avanzata_possessori(query_text, similarity_threshold=soglia) # Rinominato
TypeError: CatastoDBManager.ricerca_avanzata_possessori() got an unexpected keyword argument 'similarity_threshold'
2025-05-17 07:40:24,764 - CatastoDB - INFO - Logout registrato per utente ID 3, sessione d326ab53...
2025-05-17 07:40:24,766 - CatastoDB - INFO - Disconnessione completata
2025-05-17 07:40:42,226 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-17 07:40:42,308 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-17 07:40:47,416 - CatastoDB - INFO - Credenziali recuperate per utente: pippo
2025-05-17 07:40:48,340 - CatastoDB - INFO - Registrato accesso: Utente ID 3, Azione login, Esito True, Sessione 3b8b1a59...
2025-05-17 07:41:01,982 - CatastoDB - INFO - Recuperati 4 utenti.
2025-05-17 07:41:32,824 - CatastoDB - INFO - Disconnessione completata
2025-05-17 08:09:28,930 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-17 08:09:29,098 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-17 08:09:34,693 - CatastoDB - INFO - Credenziali recuperate per utente: pippo
2025-05-17 08:09:35,608 - CatastoDB - INFO - Registrato accesso: Utente ID 3, Azione login, Esito True, Sessione c8a9ed1c...
2025-05-17 08:10:25,737 - CatastoDB - INFO - Recuperati 4 utenti.
2025-05-17 08:11:08,516 - CatastoDB - INFO - Credenziali recuperate per utente: admin
2025-05-17 08:11:08,516 - __main__ - ERROR - Tentativo di verifica con hash non valido: password_h...
2025-05-17 08:11:08,517 - __main__ - WARNING - Login fallito (pwd errata) per user ID: 1
2025-05-17 08:11:08,519 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito False, Sessione 1a52a2cc...
2025-05-17 08:11:15,447 - CatastoDB - INFO - Credenziali recuperate per utente: sa
2025-05-17 08:11:16,370 - CatastoDB - INFO - Registrato accesso: Utente ID 2, Azione login, Esito True, Sessione 470f2a75...
2025-05-17 08:12:50,871 - CatastoDB - ERROR - Errore DB specifico rilevato: UndefinedFunction - ERRORE:  la procedura verifica_integrita_database(unknown) non esiste
LINE 1: CALL verifica_integrita_database(NULL)
             ^
HINT:  Nessuna procedura trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-17 08:12:50,873 - CatastoDB - ERROR - SQLSTATE: 42883
2025-05-17 08:12:50,874 - CatastoDB - ERROR - Query renderizzata: b'CALL verifica_integrita_database(NULL)'
2025-05-17 08:12:50,875 - CatastoDB - INFO - Rollback eseguito.
2025-05-17 08:12:50,876 - CatastoDB - ERROR - Errore DB verifica integrit‡: ERRORE:  la procedura verifica_integrita_database(unknown) non esiste
LINE 1: CALL verifica_integrita_database(NULL)
             ^
HINT:  Nessuna procedura trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-17 08:13:36,344 - CatastoDB - ERROR - Errore DB specifico rilevato: UndefinedTable - ERRORE:  la relazione "v_audit_dettagliato" non esiste
LINE 1: SELECT * FROM v_audit_dettagliato ORDER BY timestamp DESC LI...
                      ^

2025-05-17 08:13:36,345 - CatastoDB - ERROR - SQLSTATE: 42P01
2025-05-17 08:13:36,345 - CatastoDB - ERROR - Query renderizzata: b'SELECT * FROM v_audit_dettagliato ORDER BY timestamp DESC LIMIT 100'
2025-05-17 08:13:36,346 - CatastoDB - INFO - Rollback eseguito.
2025-05-17 08:13:36,346 - CatastoDB - ERROR - Errore DB get_audit_log: ERRORE:  la relazione "v_audit_dettagliato" non esiste
LINE 1: SELECT * FROM v_audit_dettagliato ORDER BY timestamp DESC LI...
                      ^

2025-05-17 08:15:05,561 - CatastoDB - INFO - Disconnessione completata
2025-05-17 10:37:28,649 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-17 10:37:28,785 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-17 10:37:33,759 - __main__ - WARNING - Login fallito (utente 'pippo' non trovato/attivo).
2025-05-17 10:37:42,947 - __main__ - WARNING - Login fallito (utente 'pippo' non trovato/attivo).
2025-05-17 10:37:45,803 - __main__ - WARNING - Login fallito (utente 'sa' non trovato/attivo).
2025-05-17 10:37:45,810 - CatastoDB - INFO - Disconnessione completata
2025-05-17 10:37:49,738 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-17 10:37:49,950 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-17 10:37:58,150 - CatastoDB - INFO - Credenziali recuperate per utente: admin
2025-05-17 10:37:58,155 - __main__ - ERROR - Tentativo di verifica con hash non valido: password_h...
2025-05-17 10:37:58,161 - __main__ - WARNING - Login fallito (pwd errata) per user ID: 1
2025-05-17 10:37:58,187 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito False, Sessione 726ef06b...
2025-05-17 10:38:05,891 - __main__ - WARNING - Login fallito (utente 'Admin' non trovato/attivo).
2025-05-17 10:38:08,590 - CatastoDB - INFO - Disconnessione completata
2025-05-17 10:46:02,315 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-17 10:46:02,429 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-17 10:46:07,756 - CatastoDB - INFO - Credenziali recuperate per utente: admin
2025-05-17 10:46:07,762 - __main__ - ERROR - Tentativo di verifica con hash non valido: password_h...
2025-05-17 10:46:07,767 - __main__ - WARNING - Login fallito (pwd errata) per user ID: 1
2025-05-17 10:46:07,776 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito False, Sessione ee1520c8...
2025-05-17 10:47:51,238 - CatastoDB - INFO - Disconnessione completata
2025-05-17 10:49:32,624 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-17 10:49:32,838 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-17 10:49:38,414 - CatastoDB - INFO - Credenziali recuperate per utente: admin
2025-05-17 10:49:38,419 - __main__ - ERROR - Tentativo di verifica con hash non valido: password_h...
2025-05-17 10:49:38,425 - __main__ - WARNING - Login fallito (pwd errata) per user ID: 1
2025-05-17 10:49:38,435 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito False, Sessione a6b9839b...
2025-05-17 10:49:43,918 - CatastoDB - INFO - Disconnessione completata
2025-05-17 10:55:55,175 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-17 10:55:55,288 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-17 10:56:01,153 - CatastoDB - INFO - Credenziali recuperate per utente: admin
2025-05-17 10:56:01,158 - __main__ - ERROR - Tentativo di verifica con hash non valido: password_h...
2025-05-17 10:56:01,164 - __main__ - WARNING - Login fallito (pwd errata) per user ID: 1
2025-05-17 10:56:01,173 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito False, Sessione 5420aba4...
2025-05-17 10:56:19,359 - CatastoDB - INFO - Credenziali recuperate per utente: admin
2025-05-17 10:56:19,365 - __main__ - ERROR - Tentativo di verifica con hash non valido: password_h...
2025-05-17 10:56:19,370 - __main__ - WARNING - Login fallito (pwd errata) per user ID: 1
2025-05-17 10:56:19,377 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito False, Sessione 69f6dc22...
2025-05-17 10:56:30,311 - CatastoDB - INFO - Credenziali recuperate per utente: admin
2025-05-17 10:56:30,317 - __main__ - ERROR - Tentativo di verifica con hash non valido: password_h...
2025-05-17 10:56:30,323 - __main__ - WARNING - Login fallito (pwd errata) per user ID: 1
2025-05-17 10:56:30,329 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito False, Sessione 2fa2180c...
2025-05-17 10:56:30,338 - CatastoDB - INFO - Disconnessione completata
2025-05-17 11:12:53,920 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-17 11:12:54,160 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-17 11:12:59,079 - CatastoDB - INFO - Credenziali recuperate per utente: admin
2025-05-17 11:12:59,335 - __main__ - WARNING - Login fallito (pwd errata) per user ID: 1
2025-05-17 11:12:59,344 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito False, Sessione 60c27911...
2025-05-17 11:13:13,917 - CatastoDB - INFO - Credenziali recuperate per utente: admin
2025-05-17 11:13:14,194 - __main__ - WARNING - Login fallito (pwd errata) per user ID: 1
2025-05-17 11:13:14,201 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito False, Sessione 5b821f4a...
2025-05-17 11:13:18,975 - CatastoDB - INFO - Disconnessione completata
2025-05-17 11:30:29,297 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-17 11:30:29,415 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-17 11:30:35,851 - CatastoDB - INFO - Credenziali recuperate per utente: admin
2025-05-17 11:30:36,114 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 76495234...
2025-05-17 12:32:06,194 - CatastoDB - INFO - Disconnessione completata
2025-05-17 12:32:10,796 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-17 12:32:10,966 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-17 12:32:21,770 - CatastoDB - INFO - Disconnessione completata
2025-05-17 12:32:51,118 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-17 12:32:51,229 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-17 12:32:55,842 - CatastoDB - INFO - Credenziali recuperate per utente: admin
2025-05-17 12:32:55,865 - __main__ - ERROR - Tentativo di verifica con hash non valido: password_h...
2025-05-17 12:32:55,881 - __main__ - WARNING - Login fallito (pwd errata) per user ID: 1
2025-05-17 12:32:55,913 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito False, Sessione 38a8a2d6...
2025-05-17 12:33:13,907 - CatastoDB - INFO - Disconnessione completata
2025-05-17 12:58:24,947 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-17 12:58:25,114 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-17 12:58:30,362 - CatastoDB - INFO - Credenziali recuperate per utente: admin
2025-05-17 12:58:30,627 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 39443c3d...
2025-05-17 12:58:42,609 - CatastoDB - INFO - Disconnessione completata
2025-05-17 12:59:23,405 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-17 12:59:23,622 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-17 12:59:27,827 - CatastoDB - INFO - Credenziali recuperate per utente: admin
2025-05-17 12:59:28,091 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 898a5ae2...
2025-05-17 12:59:44,032 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-17 13:09:16,531 - CatastoDB - INFO - Disconnessione completata
2025-05-17 13:10:16,820 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-17 13:10:17,037 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-17 13:10:20,905 - __main__ - ERROR - Errore non gestito nel programma: 'CatastoDBManager' object has no attribute 'get_user_credentials'
Traceback (most recent call last):
  File "U:\catasto\gemini\python_example.py", line 1255, in main
    if not esegui_login(db):
           ~~~~~~~~~~~~^^^^
  File "U:\catasto\gemini\python_example.py", line 159, in esegui_login
    credentials = db.get_user_credentials(username_login) # Assumiamo restituisca id, username, password_hash, nome_completo
                  ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CatastoDBManager' object has no attribute 'get_user_credentials'
2025-05-17 13:10:21,057 - CatastoDB - INFO - Disconnessione completata
2025-05-17 13:11:45,117 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-17 13:11:45,246 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-17 13:11:50,261 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-17 13:11:50,522 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 1bd89b5d...
2025-05-17 13:12:53,254 - CatastoDB - INFO - Disconnessione completata
2025-05-17 13:12:55,982 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-17 13:12:56,200 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-17 13:13:00,727 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-17 13:13:00,987 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 13f3bedd...
2025-05-17 13:13:37,321 - CatastoDB - INFO - Utente 'santoro' creato.
2025-05-17 13:13:52,359 - CatastoDB - INFO - Recuperati 2 utenti.
2025-05-17 13:14:33,554 - __main__ - ERROR - Errore non gestito nel programma: _seleziona_utente_da_elenco() got an unexpected keyword argument 'exclude_user_id'
Traceback (most recent call last):
  File "U:\catasto\gemini\python_example.py", line 1259, in main
    menu_principale(db) # Entra nel menu principale dopo login riuscito
    ~~~~~~~~~~~~~~~^^^^
  File "U:\catasto\gemini\python_example.py", line 1219, in menu_principale
    utente_ancora_loggato = menu_utenti(db) # menu_utenti ora restituisce False se l'utente fa logout
  File "U:\catasto\gemini\python_example.py", line 1113, in menu_utenti
    user_id_to_toggle = _seleziona_utente_da_elenco(db, "Seleziona l'utente da disattivare/riattivare:", exclude_user_id=logged_in_user_id)
TypeError: _seleziona_utente_da_elenco() got an unexpected keyword argument 'exclude_user_id'
2025-05-17 13:14:33,701 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 13f3bedd...
2025-05-17 13:14:33,707 - CatastoDB - INFO - Disconnessione completata
2025-05-17 13:18:00,436 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-17 13:18:00,573 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-17 13:18:05,067 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: santoro, Ruolo: admin
2025-05-17 13:18:05,342 - CatastoDB - INFO - Registrato accesso: Utente ID 2, Azione login, Esito True, Sessione 5ad54c9c...
2025-05-17 13:18:09,569 - CatastoDB - INFO - Recuperati 2 utenti.
2025-05-17 13:18:39,153 - CatastoDB - INFO - Disconnessione completata
2025-05-17 15:15:09,210 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-17 15:15:09,342 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-17 15:15:14,404 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-17 15:15:14,670 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 9d865890...
2025-05-17 15:15:26,824 - CatastoDB - INFO - Recuperati 2 utenti.
2025-05-17 15:16:00,654 - CatastoDB - INFO - Utente 'pippo' creato.
2025-05-17 15:16:08,584 - CatastoDB - INFO - Recuperati 3 utenti.
2025-05-17 15:16:17,609 - CatastoDB - INFO - Disconnessione completata
2025-05-17 15:40:23,007 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-17 15:40:23,120 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-17 15:40:27,435 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: pippo, Ruolo: consultatore
2025-05-17 15:40:27,710 - CatastoDB - INFO - Registrato accesso: Utente ID 3, Azione login, Esito True, Sessione 791271c0...
2025-05-17 15:40:35,707 - CatastoDB - INFO - Recuperati 3 utenti.
2025-05-17 15:40:55,999 - CatastoDB - INFO - Logout registrato per utente ID 3, sessione 791271c0...
2025-05-17 15:41:04,370 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: santoro, Ruolo: admin
2025-05-17 15:41:04,628 - CatastoDB - INFO - Registrato accesso: Utente ID 2, Azione login, Esito True, Sessione 981daba6...
2025-05-17 15:41:13,452 - CatastoDB - INFO - Recuperati 3 utenti.
2025-05-17 15:41:40,616 - CatastoDB - INFO - Dettagli utente ID 3 aggiornati.
2025-05-17 15:41:49,265 - CatastoDB - INFO - Recuperati 3 utenti.
2025-05-17 15:42:18,129 - CatastoDB - INFO - Recuperati 3 utenti.
2025-05-17 15:42:33,527 - CatastoDB - INFO - Password resettata per utente ID 3.
2025-05-17 15:42:40,823 - CatastoDB - INFO - Logout registrato per utente ID 2, sessione 981daba6...
2025-05-17 15:42:43,461 - CatastoDB - INFO - Disconnessione completata
2025-05-17 15:42:48,084 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-17 15:42:48,294 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-17 15:42:53,920 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: pippo, Ruolo: archivista
2025-05-17 15:42:54,182 - CatastoDB - INFO - Registrato accesso: Utente ID 3, Azione login, Esito True, Sessione 9210f438...
2025-05-17 15:43:54,538 - CatastoDB - INFO - Logout registrato per utente ID 3, sessione 9210f438...
2025-05-17 15:44:03,551 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: santoro, Ruolo: admin
2025-05-17 15:44:03,812 - CatastoDB - INFO - Registrato accesso: Utente ID 2, Azione login, Esito True, Sessione 9e449315...
2025-05-17 15:44:19,380 - CatastoDB - INFO - Recuperati 3 utenti.
2025-05-17 15:44:25,139 - CatastoDB - INFO - Utente ID 3 disattivato.
2025-05-17 15:44:45,806 - CatastoDB - INFO - Recuperati 3 utenti.
2025-05-17 15:44:52,338 - CatastoDB - INFO - Logout registrato per utente ID 2, sessione 9e449315...
2025-05-17 15:45:00,335 - __main__ - WARNING - Login fallito (utente 'pippo' non trovato/attivo).
2025-05-17 15:45:44,623 - CatastoDB - INFO - Disconnessione completata
2025-05-17 16:39:05,827 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-17 16:39:06,076 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-17 16:39:12,579 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-17 16:39:12,851 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 9ceef3a7...
2025-05-17 16:39:30,844 - CatastoDB - INFO - Recuperati 3 utenti.
2025-05-17 16:39:47,140 - CatastoDB - ERROR - Errore DB specifico rilevato: ForeignKeyViolation - ERRORE:  l'istruzione UPDATE o DELETE sulla tabella "utente" viola il vincolo di chiave esterna "accesso_log_utente_id_fkey" sulla tabella "accesso_log"
DETAIL:  La chiave (id)=(3) Ë ancora referenziata dalla tabella "accesso_log".

2025-05-17 16:39:47,146 - CatastoDB - ERROR - SQLSTATE: 23503
2025-05-17 16:39:47,151 - CatastoDB - ERROR - Query renderizzata: b'DELETE FROM utente WHERE id = 3'
2025-05-17 16:39:47,157 - CatastoDB - INFO - Rollback eseguito.
2025-05-17 16:39:47,162 - CatastoDB - ERROR - Errore DB durante l'eliminazione fisica dell'utente ID 3: ERRORE:  l'istruzione UPDATE o DELETE sulla tabella "utente" viola il vincolo di chiave esterna "accesso_log_utente_id_fkey" sulla tabella "accesso_log"
DETAIL:  La chiave (id)=(3) Ë ancora referenziata dalla tabella "accesso_log".

2025-05-17 16:39:47,168 - CatastoDB - INFO - Rollback eseguito.
2025-05-17 16:42:02,140 - CatastoDB - INFO - Disconnessione completata
2025-05-17 16:44:38,584 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-17 16:44:38,701 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-17 16:44:44,992 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-17 16:44:45,252 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 629b832d...
2025-05-17 16:45:15,691 - CatastoDB - INFO - Utente 'santoro' creato.
2025-05-17 16:45:28,578 - CatastoDB - INFO - Recuperati 2 utenti.
2025-05-17 16:45:43,297 - CatastoDB - INFO - Recuperati 2 utenti.
2025-05-17 16:45:56,940 - CatastoDB - INFO - Utente ID 2 eliminato fisicamente con successo.
2025-05-17 16:46:39,938 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-17 16:48:29,107 - __main__ - INFO - Uscita inattesa da menu_principale con utente ancora loggato. Terminazione.
2025-05-17 16:48:29,117 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 629b832d...
2025-05-17 16:48:29,124 - CatastoDB - INFO - Disconnessione completata
2025-05-17 18:34:21,888 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-17 18:34:22,022 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-17 18:34:28,971 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-17 18:34:29,232 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 1e6f20ed...
2025-05-17 18:34:53,935 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 1e6f20ed...
2025-05-17 18:35:06,271 - CatastoDB - INFO - Disconnessione completata
2025-05-17 18:38:33,965 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-17 18:38:34,078 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-17 18:38:39,024 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-17 18:38:39,289 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione b1b57cd0...
2025-05-17 18:49:13,664 - CatastoDB - INFO - Disconnessione completata
2025-05-17 18:49:41,725 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-17 18:49:41,838 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-17 18:49:51,409 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-17 18:49:51,671 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 96252fa3...
2025-05-17 18:50:30,053 - __main__ - ERROR - Errore esportazione PDF partita
Traceback (most recent call last):
  File "U:\catasto\gemini\python_example.py", line 318, in _esporta_partita_pdf
    pdf.chapter_body({
    ~~~~~~~~~~~~~~~~^^
        'ID Partita': p.get('id'), 'Comune': p.get('comune_nome'),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        'Data Chiusura': p.get('data_chiusura')
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    })
    ^^
  File "U:\catasto\gemini\python_example.py", line 289, in chapter_body
    self.multi_cell(0, 5, f"{key.replace('_', ' ').title()}: {value if value is not None else 'N/D'}")
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\fpdf\fpdf.py", line 221, in wrapper
    return fn(self, *args, **kwargs)
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\fpdf\deprecation.py", line 32, in wrapper
    return fn(self, *args, **kwargs)
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\fpdf\fpdf.py", line 4172, in multi_cell
    text_line = multi_line_break.get_line()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\fpdf\line_break.py", line 792, in get_line
    raise FPDFException(
        "Not enough horizontal space to render a single character"
    )
fpdf.errors.FPDFException: Not enough horizontal space to render a single character
2025-05-17 19:52:11,842 - CatastoDB - INFO - Disconnessione completata
2025-05-17 19:52:16,838 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-17 19:52:16,952 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-17 19:52:22,137 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-17 19:52:22,400 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 45b40f39...
2025-05-17 19:52:36,112 - __main__ - ERROR - Errore esportazione PDF partita
Traceback (most recent call last):
  File "U:\catasto\gemini\python_example.py", line 323, in _esporta_partita_pdf
    pdf.add_page()
    ~~~~~~~~~~~~^^
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\fpdf\fpdf.py", line 1079, in add_page
    self.header()
    ~~~~~~~~~~~^^
  File "U:\catasto\gemini\python_example.py", line 273, in header
    self.cell(0, 10, 'Dettaglio Partita Catastale', 0, new_x=XPos.LMARGIN, new_y=YPos.NEXT, align='C')
                                                             ^^^^
NameError: name 'XPos' is not defined
2025-05-17 19:54:26,393 - CatastoDB - INFO - Disconnessione completata
2025-05-17 19:54:31,456 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-17 19:54:31,669 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-17 19:54:39,137 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-17 19:54:39,406 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 76f9ef99...
2025-05-17 19:56:23,832 - CatastoDB - INFO - Disconnessione completata
2025-05-17 19:56:29,869 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-17 19:56:29,988 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-17 19:56:34,584 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-17 19:56:34,848 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione e16be22a...
2025-05-17 19:56:45,089 - __main__ - ERROR - Errore esportazione PDF partita
Traceback (most recent call last):
  File "U:\catasto\gemini\python_example.py", line 353, in _esporta_partita_pdf
    pdf.output(filename, 'F')
    ~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\fpdf\fpdf.py", line 5659, in output
    Path(name).write_bytes(self.buffer)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Python313\Lib\pathlib\_abc.py", line 641, in write_bytes
    with self.open(mode='wb') as f:
         ~~~~~~~~~^^^^^^^^^^^
  File "C:\Python313\Lib\pathlib\_local.py", line 537, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
PermissionError: [Errno 13] Permission denied: 'partita_1540_2025-05-17.pdf'
2025-05-17 19:57:03,668 - __main__ - ERROR - Errore esportazione PDF partita
Traceback (most recent call last):
  File "U:\catasto\gemini\python_example.py", line 353, in _esporta_partita_pdf
    pdf.output(filename, 'F')
    ~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\fpdf\fpdf.py", line 5659, in output
    Path(name).write_bytes(self.buffer)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Python313\Lib\pathlib\_abc.py", line 641, in write_bytes
    with self.open(mode='wb') as f:
         ~~~~~~~~~^^^^^^^^^^^
  File "C:\Python313\Lib\pathlib\_local.py", line 537, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
PermissionError: [Errno 13] Permission denied: 'partita_1540_2025-05-17.pdf'
2025-05-17 20:00:11,001 - CatastoDB - INFO - Disconnessione completata
2025-05-17 20:13:19,958 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-17 20:13:20,199 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-17 20:15:18,266 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-17 20:15:18,546 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 6cae06e3...
2025-05-17 20:15:29,898 - __main__ - ERROR - Errore esportazione PDF partita
Traceback (most recent call last):
  File "U:\catasto\gemini\python_example.py", line 411, in _esporta_partita_pdf
    pdf.output(filename) # Rimosso 'F'
    ^^^^^^^^^^^^^^^^
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\fpdf\fpdf.py", line 5659, in output
    Path(name).write_bytes(self.buffer)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Python313\Lib\pathlib\_abc.py", line 641, in write_bytes
    with self.open(mode='wb') as f:
         ~~~~~~~~~^^^^^^^^^^^
  File "C:\Python313\Lib\pathlib\_local.py", line 537, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
PermissionError: [Errno 13] Permission denied: 'partita_1540_2025-05-17.pdf'
2025-05-17 20:16:26,416 - CatastoDB - INFO - Disconnessione completata
2025-05-18 11:55:04,983 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-18 11:55:05,126 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-18 11:55:12,190 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-18 11:55:12,449 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-18 11:55:12,476 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione b57f8306...
2025-05-18 11:57:20,078 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-18 11:57:20,188 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-18 11:57:25,245 - CatastoGUI - INFO - Login annullato o fallito. Uscita dall'applicazione GUI.
2025-05-18 11:57:25,257 - CatastoDB - INFO - Disconnessione completata
2025-05-18 11:57:35,034 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-18 11:57:35,172 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-18 11:57:41,273 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-18 11:57:41,527 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-18 11:57:41,536 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 1e8bd154...
2025-05-18 11:57:43,223 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-18 11:59:50,403 - CatastoDB - INFO - Localit‡ 'Borgata Sarcazzo' (Comune ID: 3) inserita con ID: 101
2025-05-18 12:01:01,370 - CatastoDB - INFO - Registrata nuova propriet‡: Comune ID 3, Partita N.1
2025-05-18 12:01:55,848 - CatastoDB - INFO - Avvio aggiornamento viste materializzate...
2025-05-18 12:01:56,024 - CatastoDB - INFO - Aggiornamento viste completato.
2025-05-18 12:05:41,601 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-18 12:05:41,710 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-18 12:05:49,041 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-18 12:05:49,308 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-18 12:05:49,317 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione f32db834...
2025-05-18 12:05:51,313 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-18 12:06:15,007 - CatastoDB - INFO - Utente 'santoro' creato.
2025-05-18 12:06:16,248 - CatastoDB - INFO - Recuperati 2 utenti.
2025-05-18 12:06:32,979 - CatastoDB - INFO - Utente ID 3 eliminato fisicamente con successo.
2025-05-18 12:06:33,790 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-18 12:25:51,222 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-18 12:25:51,372 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-18 12:25:59,644 - CatastoGUI - WARNING - Login GUI fallito (utente 'santoro' non trovato/attivo).
2025-05-18 12:26:09,023 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-18 12:26:09,290 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-18 12:26:09,304 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione daf1d77e...
2025-05-18 12:26:11,072 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-18 12:31:07,698 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione daf1d77e...
2025-05-18 12:31:09,337 - CatastoDB - INFO - Disconnessione completata
2025-05-18 12:31:09,346 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-18 14:48:08,500 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-18 14:48:08,644 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-18 14:48:16,032 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-18 14:48:16,282 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-18 14:48:16,302 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione ac2bf37f...
2025-05-18 14:48:18,446 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-18 14:50:59,243 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione ac2bf37f...
2025-05-18 14:51:00,509 - CatastoDB - INFO - Disconnessione completata
2025-05-18 14:51:00,514 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-18 15:17:02,056 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-18 15:17:02,160 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-18 15:17:07,848 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-18 15:17:08,103 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-18 15:17:08,112 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 6218f953...
2025-05-18 15:17:09,144 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-18 15:17:22,980 - CatastoDB - INFO - Avvio aggiornamento viste materializzate...
2025-05-18 15:17:23,128 - CatastoDB - INFO - Aggiornamento viste completato.
2025-05-18 15:17:27,085 - CatastoDB - INFO - Avvio manutenzione database (ANALYZE, REFRESH MV)...
2025-05-18 15:17:27,293 - CatastoDB - INFO - Manutenzione (ANALYZE, REFRESH MV) completata.
2025-05-18 15:55:50,574 - CatastoGUI - INFO - Esecuzione logout di sicurezza per utente ID: 1 prima della chiusura...
2025-05-18 15:55:50,588 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 6218f953...
2025-05-18 15:55:50,595 - CatastoDB - INFO - Disconnessione completata
2025-05-18 15:55:50,600 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-18 15:56:35,852 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-18 15:56:35,980 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-18 15:56:41,881 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-18 15:56:42,142 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione cf80e6cd...
2025-05-18 16:16:53,288 - CatastoDB - INFO - Disconnessione completata
2025-05-18 16:38:58,010 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-18 16:38:58,118 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-18 16:39:02,470 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-18 16:39:02,732 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 68812a4a...
2025-05-18 16:39:12,466 - CatastoDB - WARNING - Nessun dato trovato per possessore ID 1 per l'esportazione.
2025-05-18 16:39:36,326 - CatastoDB - INFO - Disconnessione completata
2025-05-19 08:13:37,487 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 08:13:37,644 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 08:13:45,809 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-19 08:13:45,810 - CatastoGUI - ERROR - Tentativo di verifica con hash non valido: password_h...
2025-05-19 08:13:47,350 - CatastoGUI - WARNING - Login GUI fallito (pwd errata) per ID: 1
2025-05-19 08:13:58,391 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-19 08:13:58,391 - CatastoGUI - ERROR - Tentativo di verifica con hash non valido: password_h...
2025-05-19 08:13:59,371 - CatastoGUI - WARNING - Login GUI fallito (pwd errata) per ID: 1
2025-05-19 08:14:03,964 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-19 08:14:03,965 - CatastoGUI - ERROR - Tentativo di verifica con hash non valido: password_h...
2025-05-19 08:14:04,845 - CatastoGUI - WARNING - Login GUI fallito (pwd errata) per ID: 1
2025-05-19 08:14:10,901 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-19 08:14:10,902 - CatastoGUI - ERROR - Tentativo di verifica con hash non valido: password_h...
2025-05-19 08:14:11,789 - CatastoGUI - WARNING - Login GUI fallito (pwd errata) per ID: 1
2025-05-19 08:14:13,953 - CatastoGUI - INFO - Login annullato o fallito. Uscita dall'applicazione GUI.
2025-05-19 08:14:13,962 - CatastoDB - INFO - Disconnessione completata
2025-05-19 08:14:46,584 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 08:14:46,679 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 08:14:53,596 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-19 08:14:53,597 - CatastoGUI - ERROR - Tentativo di verifica con hash non valido: password_h...
2025-05-19 08:14:54,776 - CatastoGUI - WARNING - Login GUI fallito (pwd errata) per ID: 1
2025-05-19 08:14:59,262 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-19 08:14:59,263 - CatastoGUI - ERROR - Tentativo di verifica con hash non valido: password_h...
2025-05-19 08:14:59,966 - CatastoGUI - WARNING - Login GUI fallito (pwd errata) per ID: 1
2025-05-19 08:15:03,736 - CatastoGUI - INFO - Login annullato o fallito. Uscita dall'applicazione GUI.
2025-05-19 08:15:03,741 - CatastoDB - INFO - Disconnessione completata
2025-05-19 08:18:36,245 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 08:18:36,350 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 08:18:42,778 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-19 08:18:43,137 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-19 08:18:43,161 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 3e7e7d30...
2025-05-19 08:18:46,165 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-19 08:22:24,920 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 3e7e7d30...
2025-05-19 08:22:26,188 - CatastoDB - INFO - Disconnessione completata
2025-05-19 08:22:26,188 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-19 09:08:37,870 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 09:08:38,002 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 09:08:39,805 - CatastoGUI - INFO - Login annullato o fallito. Uscita dall'applicazione GUI.
2025-05-19 09:08:39,814 - CatastoDB - INFO - Disconnessione completata
2025-05-19 09:09:14,778 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 09:09:14,980 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 09:09:23,050 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-19 09:09:23,365 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-19 09:09:23,418 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 64d56f80...
2025-05-19 09:09:25,612 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-19 09:10:15,222 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 09:10:15,361 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 09:10:22,469 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-19 09:10:22,848 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-19 09:10:22,897 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione e74aae32...
2025-05-19 09:10:24,900 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-19 09:11:25,210 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 09:11:25,339 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 09:11:31,461 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-19 09:11:32,606 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 92c11af7...
2025-05-19 09:11:59,567 - CatastoDB - INFO - Disconnessione completata
2025-05-19 09:16:21,436 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 09:16:21,555 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 09:16:32,452 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-19 09:16:32,774 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-19 09:16:32,852 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione a8d52b34...
2025-05-19 09:16:35,219 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-19 09:18:25,232 - CatastoGUI - INFO - Esecuzione logout di sicurezza per utente ID: 1 prima della chiusura...
2025-05-19 09:18:25,252 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione a8d52b34...
2025-05-19 09:18:25,255 - CatastoDB - INFO - Disconnessione completata
2025-05-19 09:18:25,255 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-19 10:01:36,819 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 10:01:37,061 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 10:01:44,597 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-19 10:01:44,895 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-19 10:01:44,966 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione d4f9e151...
2025-05-19 10:01:46,937 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-19 10:02:43,539 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 10:02:43,608 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 10:02:50,067 - __main__ - WARNING - Login fallito (utente 'santoro' non trovato/attivo).
2025-05-19 10:02:58,556 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-19 10:02:59,006 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 5372b372...
2025-05-19 10:03:05,129 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-19 10:03:37,382 - CatastoDB - INFO - Utente 'santoro' creato.
2025-05-19 10:03:42,205 - CatastoDB - INFO - Recuperati 2 utenti.
2025-05-19 10:03:52,630 - CatastoDB - INFO - Disconnessione completata
2025-05-19 10:03:55,364 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 10:03:55,430 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 10:03:58,847 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: santoro, Ruolo: admin
2025-05-19 10:03:59,301 - CatastoDB - INFO - Registrato accesso: Utente ID 2, Azione login, Esito True, Sessione a5920a65...
2025-05-19 10:04:06,150 - CatastoDB - INFO - Disconnessione completata
2025-05-19 10:04:09,567 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 10:04:09,634 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 10:04:14,793 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: santoro, Ruolo: admin
2025-05-19 10:04:15,082 - CatastoGUI - INFO - Login GUI OK per ID: 2
2025-05-19 10:04:15,089 - CatastoDB - INFO - Registrato accesso: Utente ID 2, Azione login, Esito True, Sessione c8d0e29d...
2025-05-19 10:04:16,397 - CatastoDB - INFO - Recuperati 2 utenti.
2025-05-19 10:04:46,852 - CatastoDB - INFO - Password resettata per utente ID 1.
2025-05-19 10:10:51,867 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 10:10:51,953 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 10:10:57,335 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: santoro, Ruolo: admin
2025-05-19 10:10:57,629 - CatastoGUI - INFO - Login GUI OK per ID: 2
2025-05-19 10:10:57,680 - CatastoDB - INFO - Registrato accesso: Utente ID 2, Azione login, Esito True, Sessione 434647ec...
2025-05-19 10:10:59,213 - CatastoDB - INFO - Recuperati 2 utenti.
2025-05-19 10:11:47,354 - CatastoDB - INFO - Utente 'pippo' creato.
2025-05-19 10:11:48,623 - CatastoDB - INFO - Recuperati 3 utenti.
2025-05-19 10:12:24,748 - CatastoDB - INFO - Utente ID 3 disattivato.
2025-05-19 10:12:25,944 - CatastoDB - INFO - Recuperati 3 utenti.
2025-05-19 10:12:39,287 - CatastoDB - INFO - Dettagli utente ID 3 aggiornati.
2025-05-19 10:12:40,322 - CatastoDB - INFO - Recuperati 3 utenti.
2025-05-19 10:13:06,856 - CatastoDB - INFO - Logout registrato per utente ID 2, sessione 434647ec...
2025-05-19 10:13:08,005 - CatastoDB - INFO - Disconnessione completata
2025-05-19 10:13:08,005 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-19 10:37:31,433 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 10:37:31,514 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 10:37:41,395 - __main__ - WARNING - Login fallito (utente 'pippo' non trovato/attivo).
2025-05-19 10:37:49,198 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: santoro, Ruolo: admin
2025-05-19 10:37:49,609 - CatastoDB - INFO - Registrato accesso: Utente ID 2, Azione login, Esito True, Sessione 021d5327...
2025-05-19 10:55:35,319 - __main__ - ERROR - Errore non gestito nel programma: CatastoDBManager.ricerca_avanzata_possessori() got an unexpected keyword argument 'similarity_threshold'
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\python_example.py", line 1733, in main
    menu_principale(db) # Entra nel menu principale dopo login riuscito
    ~~~~~~~~~~~~~~~^^^^
  File "C:\Users\saint\catasto\gemini\python_example.py", line 1687, in menu_principale
    if scelta == "1": menu_consultazione(db)
                      ~~~~~~~~~~~~~~~~~~^^^^
  File "C:\Users\saint\catasto\gemini\python_example.py", line 728, in menu_consultazione
    results_possessori = db.ricerca_avanzata_possessori(query_text, similarity_threshold=soglia) # Rinominato
TypeError: CatastoDBManager.ricerca_avanzata_possessori() got an unexpected keyword argument 'similarity_threshold'
2025-05-19 10:55:35,363 - CatastoDB - INFO - Logout registrato per utente ID 2, sessione 021d5327...
2025-05-19 10:55:35,365 - CatastoDB - INFO - Disconnessione completata
2025-05-19 10:55:38,737 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 10:55:38,809 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 10:55:42,382 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: santoro, Ruolo: admin
2025-05-19 10:55:42,774 - CatastoDB - INFO - Registrato accesso: Utente ID 2, Azione login, Esito True, Sessione 508703e0...
2025-05-19 10:55:50,096 - __main__ - ERROR - Errore non gestito nel programma: CatastoDBManager.ricerca_avanzata_possessori() got an unexpected keyword argument 'similarity_threshold'
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\python_example.py", line 1733, in main
    menu_principale(db) # Entra nel menu principale dopo login riuscito
    ~~~~~~~~~~~~~~~^^^^
  File "C:\Users\saint\catasto\gemini\python_example.py", line 1687, in menu_principale
    if scelta == "1": menu_consultazione(db)
                      ~~~~~~~~~~~~~~~~~~^^^^
  File "C:\Users\saint\catasto\gemini\python_example.py", line 728, in menu_consultazione
    results_possessori = db.ricerca_avanzata_possessori(query_text, similarity_threshold=soglia) # Rinominato
TypeError: CatastoDBManager.ricerca_avanzata_possessori() got an unexpected keyword argument 'similarity_threshold'
2025-05-19 10:55:50,125 - CatastoDB - INFO - Logout registrato per utente ID 2, sessione 508703e0...
2025-05-19 10:55:50,128 - CatastoDB - INFO - Disconnessione completata
2025-05-19 10:58:56,621 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 10:58:56,704 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 10:59:00,355 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: santoro, Ruolo: admin
2025-05-19 10:59:00,754 - CatastoDB - INFO - Registrato accesso: Utente ID 2, Azione login, Esito True, Sessione 936c6b79...
2025-05-19 10:59:07,027 - CatastoDB - WARNING - La funzione SQL 'ricerca_avanzata_immobili' potrebbe non essere definita o aggiornata per comune_id.
2025-05-19 10:59:17,077 - CatastoDB - ERROR - Errore Python imprevisto durante la ricerca avanzata dei possessori: 'CatastoDBManager' object has no attribute 'fetch_all_dict'
2025-05-19 11:02:02,115 - CatastoDB - INFO - Disconnessione completata
2025-05-19 11:02:04,894 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 11:02:04,963 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 11:02:10,217 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: santoro, Ruolo: admin
2025-05-19 11:02:10,638 - CatastoDB - INFO - Registrato accesso: Utente ID 2, Azione login, Esito True, Sessione 45e134df...
2025-05-19 11:02:18,206 - CatastoDB - ERROR - Errore DB durante la ricerca avanzata dei possessori: ERRORE:  la funzione catasto.search_possessori_advanced(unknown, unknown, numeric) non esiste
LINE 1: SELECT * FROM catasto.search_possessori_advanced('2-97', NUL...
                      ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-19 11:02:18,207 - CatastoDB - INFO - Rollback eseguito.
2025-05-19 11:05:11,647 - CatastoDB - INFO - Disconnessione completata
2025-05-19 11:05:32,706 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 11:05:32,828 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 11:05:36,967 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: santoro, Ruolo: admin
2025-05-19 11:05:37,388 - CatastoDB - INFO - Registrato accesso: Utente ID 2, Azione login, Esito True, Sessione 03930a43...
2025-05-19 11:05:43,519 - CatastoDB - ERROR - Errore DB durante la ricerca avanzata dei possessori: ERRORE:  la funzione catasto.search_possessori_advanced(unknown, unknown, real) non esiste
LINE 1: SELECT * FROM catasto.search_possessori_advanced('2-97', NUL...
                      ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-19 11:05:43,520 - CatastoDB - INFO - Rollback eseguito.
2025-05-19 11:06:01,110 - CatastoDB - INFO - Disconnessione completata
2025-05-19 11:18:57,085 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 11:18:57,152 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 11:19:00,703 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: santoro, Ruolo: admin
2025-05-19 11:19:01,044 - CatastoDB - INFO - Registrato accesso: Utente ID 2, Azione login, Esito True, Sessione 6708e445...
2025-05-19 11:19:13,506 - CatastoDB - ERROR - Errore Python imprevisto durante la ricerca avanzata dei possessori: name 'comune_id' is not defined
2025-05-19 11:23:54,089 - CatastoDB - INFO - Disconnessione completata
2025-05-19 11:23:57,388 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 11:23:57,488 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 11:24:01,894 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: santoro, Ruolo: admin
2025-05-19 11:24:02,288 - CatastoDB - INFO - Registrato accesso: Utente ID 2, Azione login, Esito True, Sessione bb837c88...
2025-05-19 11:24:09,478 - CatastoDB - INFO - Nessun risultato per ricerca avanzata possessori: '2-97' (soglia: 0.2).
2025-05-19 11:24:35,464 - CatastoDB - INFO - Nessun risultato per ricerca avanzata possessori: '2-97' (soglia: 0.0).
2025-05-19 11:24:50,084 - CatastoDB - INFO - Ricerca avanzata possessori per 'rossi' (soglia: 0.2) ha prodotto 95 risultati.
2025-05-19 11:27:22,878 - CatastoDB - INFO - Disconnessione completata
2025-05-19 11:32:36,466 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 11:32:36,535 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 11:32:44,033 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: santoro, Ruolo: admin
2025-05-19 11:32:44,332 - CatastoGUI - INFO - Login GUI OK per ID: 2
2025-05-19 11:32:44,340 - CatastoDB - INFO - Registrato accesso: Utente ID 2, Azione login, Esito True, Sessione 4158b7fc...
2025-05-19 11:32:46,686 - CatastoDB - INFO - Recuperati 3 utenti.
2025-05-19 11:59:26,406 - CatastoDB - INFO - Logout registrato per utente ID 2, sessione 4158b7fc...
2025-05-19 11:59:27,937 - CatastoDB - INFO - Disconnessione completata
2025-05-19 11:59:27,937 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-19 12:08:48,431 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 12:08:48,545 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 12:08:56,756 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: santoro, Ruolo: admin
2025-05-19 12:08:57,050 - CatastoGUI - INFO - Login GUI OK per ID: 2
2025-05-19 12:08:57,092 - CatastoDB - INFO - Registrato accesso: Utente ID 2, Azione login, Esito True, Sessione 6689471d...
2025-05-19 12:08:58,162 - CatastoDB - INFO - Recuperati 3 utenti.
2025-05-19 12:09:09,932 - CatastoDB - INFO - Nessun risultato per ricerca avanzata possessori: '2-97' (soglia: 0.2).
2025-05-19 12:09:16,770 - CatastoDB - INFO - Nessun risultato per ricerca avanzata possessori: '2-97' (soglia: 0.0).
2025-05-19 12:09:26,475 - CatastoDB - INFO - Ricerca avanzata possessori per 'rossi' (soglia: 0.0) ha prodotto 95 risultati.
2025-05-19 12:09:36,759 - CatastoDB - INFO - Nessun risultato per ricerca avanzata possessori: '3-3' (soglia: 0.0).
2025-05-19 12:09:46,799 - CatastoDB - INFO - Nessun risultato per ricerca avanzata possessori: '3-3' (soglia: 0.0).
2025-05-19 12:10:00,957 - CatastoDB - INFO - Ricerca avanzata possessori per 'rossi' (soglia: 0.0) ha prodotto 95 risultati.
2025-05-19 12:10:17,776 - CatastoDB - INFO - Ricerca avanzata possessori per '5-1 rossi' (soglia: 0.0) ha prodotto 100 risultati.
2025-05-19 12:10:47,004 - CatastoDB - INFO - Ricerca avanzata possessori per 'possessore' (soglia: 0.0) ha prodotto 100 risultati.
2025-05-19 12:10:55,721 - CatastoDB - INFO - Nessun risultato per ricerca avanzata possessori: '1-1' (soglia: 0.0).
2025-05-19 12:10:59,494 - CatastoDB - INFO - Nessun risultato per ricerca avanzata possessori: '1-1' (soglia: 1.0).
2025-05-19 12:11:09,904 - CatastoDB - INFO - Nessun risultato per ricerca avanzata possessori: 'stress' (soglia: 1.0).
2025-05-19 12:11:17,136 - CatastoDB - INFO - Ricerca avanzata possessori per 'stress' (soglia: 0.24999999999999967) ha prodotto 100 risultati.
2025-05-19 12:11:27,120 - CatastoDB - INFO - Nessun risultato per ricerca avanzata possessori: '1-62' (soglia: 0.24999999999999967).
2025-05-19 12:15:33,270 - CatastoDB - INFO - Ricerca avanzata possessori per 'stress 1' (soglia: 0.24999999999999967) ha prodotto 100 risultati.
2025-05-19 12:15:43,249 - CatastoDB - INFO - Ricerca avanzata possessori per 'stress 1' (soglia: 1.0) ha prodotto 5 risultati.
2025-05-19 12:54:36,432 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 12:54:36,710 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 12:54:46,136 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: santoro, Ruolo: admin
2025-05-19 12:54:46,464 - CatastoGUI - INFO - Login GUI OK per ID: 2
2025-05-19 12:54:46,505 - CatastoDB - INFO - Registrato accesso: Utente ID 2, Azione login, Esito True, Sessione b9c4f1e3...
2025-05-19 12:54:51,147 - CatastoDB - INFO - Recuperati 3 utenti.
2025-05-19 12:55:57,766 - CatastoDB - INFO - Nessun risultato per ricerca avanzata possessori: '101' (soglia: 0.3).
2025-05-19 12:56:05,677 - CatastoDB - INFO - Nessun risultato per ricerca avanzata possessori: '1-1' (soglia: 0.3).
2025-05-19 12:56:17,670 - CatastoDB - INFO - Nessun risultato per ricerca avanzata possessori: '1-1' (soglia: 0.01).
2025-05-19 12:57:16,749 - CatastoDB - INFO - Nessun risultato per ricerca avanzata possessori: '2-1' (soglia: 0.01).
2025-05-19 12:57:23,053 - CatastoDB - INFO - Nessun risultato per ricerca avanzata possessori: '2-1' (soglia: 0.0).
2025-05-19 12:57:34,172 - CatastoDB - INFO - Ricerca avanzata possessori per 'stress 1' (soglia: 0.0) ha prodotto 100 risultati.
2025-05-19 13:14:19,229 - CatastoDB - INFO - Logout registrato per utente ID 2, sessione b9c4f1e3...
2025-05-19 13:14:20,779 - CatastoDB - INFO - Disconnessione completata
2025-05-19 13:14:20,783 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-19 13:20:01,481 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 13:20:01,598 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 13:20:10,181 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: santoro, Ruolo: admin
2025-05-19 13:20:10,539 - CatastoGUI - INFO - Login GUI OK per ID: 2
2025-05-19 13:20:10,560 - CatastoDB - INFO - Registrato accesso: Utente ID 2, Azione login, Esito True, Sessione e57f394a...
2025-05-19 13:20:13,701 - CatastoDB - INFO - Recuperati 3 utenti.
2025-05-19 13:20:51,893 - CatastoDB - INFO - Ricerca avanzata possessori per 'stress' (soglia: 0.3) ha prodotto 100 risultati.
2025-05-19 13:29:06,388 - CatastoDB - INFO - Logout registrato per utente ID 2, sessione e57f394a...
2025-05-19 13:29:07,952 - CatastoDB - INFO - Disconnessione completata
2025-05-19 13:29:07,952 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-19 13:30:24,963 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 13:30:25,067 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 13:30:34,759 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: santoro, Ruolo: admin
2025-05-19 13:30:35,095 - CatastoGUI - INFO - Login GUI OK per ID: 2
2025-05-19 13:30:35,140 - CatastoDB - INFO - Registrato accesso: Utente ID 2, Azione login, Esito True, Sessione 2f01fc8a...
2025-05-19 13:30:36,360 - CatastoDB - INFO - Recuperati 3 utenti.
2025-05-19 13:30:44,604 - CatastoDB - INFO - Ricerca avanzata possessori per 'stress' (soglia: 0.3) ha prodotto 100 risultati.
2025-05-19 13:31:07,252 - CatastoDB - INFO - Logout registrato per utente ID 2, sessione 2f01fc8a...
2025-05-19 13:31:08,623 - CatastoDB - INFO - Disconnessione completata
2025-05-19 13:31:08,623 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-19 13:37:20,925 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 13:37:21,145 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 13:37:29,890 - CatastoGUI - WARNING - Login GUI fallito (utente 'santoro' non trovato/attivo).
2025-05-19 13:37:35,558 - CatastoGUI - WARNING - Login GUI fallito (utente 'santoro' non trovato/attivo).
2025-05-19 13:37:42,723 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-19 13:37:43,032 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-19 13:37:43,083 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 88e85daa...
2025-05-19 13:37:44,342 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-19 13:37:52,977 - CatastoDB - INFO - Ricerca avanzata possessori per 'stress' (soglia: 0.3) ha prodotto 100 risultati.
2025-05-19 13:38:14,537 - CatastoDB - INFO - Ricerca avanzata possessori per 'stress 4' (soglia: 0.3) ha prodotto 100 risultati.
2025-05-19 13:38:27,177 - CatastoDB - INFO - Ricerca avanzata possessori per 'stress 4' (soglia: 0.9000000000000002) ha prodotto 5 risultati.
2025-05-19 13:38:38,131 - CatastoDB - INFO - Nessun risultato per ricerca avanzata possessori: 'possessore 1' (soglia: 0.9000000000000002).
2025-05-19 13:38:44,340 - CatastoDB - INFO - Nessun risultato per ricerca avanzata possessori: 'possessore 1-1' (soglia: 0.9000000000000002).
2025-05-19 13:38:50,933 - CatastoDB - INFO - Ricerca avanzata possessori per 'possessore 1-1' (soglia: 0.15000000000000002) ha prodotto 100 risultati.
2025-05-19 13:39:00,690 - CatastoDB - INFO - Ricerca avanzata possessori per '1-1' (soglia: 0.15000000000000002) ha prodotto 5 risultati.
2025-05-19 13:39:08,874 - CatastoDB - INFO - Nessun risultato per ricerca avanzata possessori: '1-1' (soglia: 0.44999999999999996).
2025-05-19 13:39:13,691 - CatastoDB - INFO - Nessun risultato per ricerca avanzata possessori: '1-1' (soglia: 0.3).
2025-05-19 13:39:16,817 - CatastoDB - INFO - Ricerca avanzata possessori per '1-1' (soglia: 0.2) ha prodotto 5 risultati.
2025-05-19 13:39:26,842 - CatastoDB - INFO - Ricerca avanzata possessori per '1-1' (soglia: 0.05000000000000002) ha prodotto 100 risultati.
2025-05-19 13:39:36,700 - CatastoDB - INFO - Ricerca avanzata possessori per '1-1' (soglia: 0.2) ha prodotto 5 risultati.
2025-05-19 13:39:49,387 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 88e85daa...
2025-05-19 13:39:50,773 - CatastoDB - INFO - Disconnessione completata
2025-05-19 13:39:50,778 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-19 15:35:05,198 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 15:35:05,344 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 15:35:13,784 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-19 15:35:14,038 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-19 15:35:14,068 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 78d367da...
2025-05-19 15:35:16,183 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-19 15:35:25,183 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 78d367da...
2025-05-19 15:35:26,534 - CatastoDB - INFO - Disconnessione completata
2025-05-19 15:35:26,539 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-19 16:29:09,020 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 16:29:09,177 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 16:29:18,788 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-19 16:29:19,094 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-19 16:29:19,240 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 7a50d7b7...
2025-05-19 16:32:39,818 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 16:32:39,961 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 16:32:50,668 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-19 16:32:50,931 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-19 16:32:50,946 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione e2a7ada3...
2025-05-19 17:28:33,130 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 17:28:33,295 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 17:28:40,298 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-19 17:28:40,568 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-19 17:28:40,606 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 42e81eb4...
2025-05-19 17:30:58,685 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 17:30:58,844 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 17:31:04,934 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-19 17:31:05,195 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-19 17:31:05,211 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione afeab1e2...
2025-05-19 17:34:25,291 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 17:34:25,429 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 17:34:31,488 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-19 17:34:31,747 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-19 17:34:31,764 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione b562e55b...
2025-05-19 17:48:06,545 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 17:48:06,700 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 17:48:15,707 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-19 17:48:15,967 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-19 17:48:15,980 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 2a6d8407...
2025-05-19 17:50:53,135 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 17:50:53,253 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 17:50:58,461 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-19 17:50:58,721 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-19 17:50:58,734 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 09cad0e9...
2025-05-19 17:52:41,075 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 17:52:41,182 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 17:52:45,858 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-19 17:52:46,122 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-19 17:52:46,133 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 0f1b93e7...
2025-05-19 17:52:47,946 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-19 17:53:23,008 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 0f1b93e7...
2025-05-19 17:53:24,357 - CatastoDB - INFO - Disconnessione completata
2025-05-19 17:53:24,363 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-19 17:54:08,583 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 17:54:08,688 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 17:54:20,468 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-19 17:54:20,728 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-19 17:54:20,740 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione f9aed6ce...
2025-05-19 17:54:22,037 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-19 17:55:57,147 - CatastoDB - INFO - Ricerca avanzata possessori per 'stress' (soglia: 0.2) ha prodotto 100 risultati.
2025-05-19 18:07:44,073 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione f9aed6ce...
2025-05-19 18:07:45,359 - CatastoDB - INFO - Disconnessione completata
2025-05-19 18:07:45,365 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-19 18:07:54,422 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 18:07:54,552 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 18:08:00,094 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-19 18:08:00,366 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-19 18:08:00,402 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 2d8070f2...
2025-05-19 18:08:01,530 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-19 18:08:12,680 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 2d8070f2...
2025-05-19 18:08:14,016 - CatastoDB - INFO - Disconnessione completata
2025-05-19 18:08:14,023 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-19 18:08:25,167 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 18:08:25,327 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 18:08:30,433 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-19 18:08:30,693 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-19 18:08:30,707 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 5d652faa...
2025-05-19 18:08:32,630 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-19 18:09:13,994 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 5d652faa...
2025-05-19 18:09:15,171 - CatastoDB - INFO - Disconnessione completata
2025-05-19 18:09:15,181 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-19 18:09:22,804 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-19 18:09:22,911 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-19 18:09:27,966 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-19 18:09:28,219 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-19 18:09:28,230 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 350ec7b1...
2025-05-19 18:09:30,141 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-19 18:09:41,608 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 350ec7b1...
2025-05-19 18:09:42,857 - CatastoDB - INFO - Disconnessione completata
2025-05-19 18:09:42,863 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-20 11:54:21,301 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-20 11:54:21,390 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-20 11:54:26,176 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-20 11:54:26,674 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione f412c154...
2025-05-20 11:54:32,802 - CatastoDB - INFO - Disconnessione completata
2025-05-20 11:55:15,750 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-20 11:55:15,827 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-20 11:56:08,422 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-20 11:56:08,713 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-20 11:56:08,762 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione fbe841a4...
2025-05-20 11:56:10,744 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-20 11:56:31,699 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione fbe841a4...
2025-05-20 11:56:33,028 - CatastoDB - INFO - Disconnessione completata
2025-05-20 11:56:33,029 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-20 12:00:10,034 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-20 12:00:10,117 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-20 12:00:16,092 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-20 12:00:16,382 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-20 12:00:16,434 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 7c183b08...
2025-05-20 12:00:17,388 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-20 12:02:11,849 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 7c183b08...
2025-05-20 12:02:12,965 - CatastoDB - INFO - Disconnessione completata
2025-05-20 12:02:12,965 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-20 12:02:20,795 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-20 12:02:20,986 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-20 12:02:27,285 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-20 12:02:27,570 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-20 12:02:27,581 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 572bd24b...
2025-05-20 12:02:29,637 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-20 12:02:43,149 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 572bd24b...
2025-05-20 12:02:44,392 - CatastoDB - INFO - Disconnessione completata
2025-05-20 12:02:44,392 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-20 12:14:42,875 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-20 12:14:42,985 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-20 12:14:49,945 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-20 12:14:50,238 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-20 12:14:50,281 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 34c206d0...
2025-05-20 12:14:52,163 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-20 12:15:25,565 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 34c206d0...
2025-05-20 12:15:27,111 - CatastoDB - INFO - Disconnessione completata
2025-05-20 12:15:27,112 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-20 12:15:53,601 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-20 12:15:53,670 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-20 12:16:01,987 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-20 12:16:02,290 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-20 12:16:02,301 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione c7f938c3...
2025-05-20 12:16:03,983 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-20 12:16:23,120 - CatastoDB - INFO - Nessun risultato per ricerca avanzata possessori: 'pippo' (soglia: 0.3).
2025-05-20 12:16:25,530 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione c7f938c3...
2025-05-20 12:16:26,753 - CatastoDB - INFO - Disconnessione completata
2025-05-20 12:16:26,754 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-20 12:18:40,465 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-20 12:18:40,569 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-20 12:18:47,347 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-20 12:18:47,641 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-20 12:18:47,688 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione aca2eb05...
2025-05-20 12:18:49,495 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-20 12:20:43,847 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione aca2eb05...
2025-05-20 12:20:44,866 - CatastoDB - INFO - Disconnessione completata
2025-05-20 12:20:44,866 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-21 08:14:48,596 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-21 08:14:48,878 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-21 08:14:59,560 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-21 08:14:59,877 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-21 08:14:59,923 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 7b287052...
2025-05-21 08:15:02,357 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-21 08:15:25,778 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 7b287052...
2025-05-21 08:15:26,939 - CatastoDB - INFO - Disconnessione completata
2025-05-21 08:15:26,939 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-21 08:19:01,831 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-21 08:19:01,944 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-21 08:19:08,833 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-21 08:19:09,839 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 1d8aef86...
2025-05-21 08:19:29,001 - __main__ - ERROR - Errore non gestito nel programma: name 'aggiungi_comune' is not defined
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\main.py", line 1733, in main
    menu_principale(db) # Entra nel menu principale dopo login riuscito
    ~~~~~~~~~~~~~~~^^^^
  File "C:\Users\saint\catasto\gemini\main.py", line 1688, in menu_principale
    elif scelta == "2": menu_inserimento(db)
                        ~~~~~~~~~~~~~~~~^^^^
  File "C:\Users\saint\catasto\gemini\main.py", line 929, in menu_inserimento
    if scelta == "1": aggiungi_comune(db)
                      ^^^^^^^^^^^^^^^
NameError: name 'aggiungi_comune' is not defined
2025-05-21 08:19:29,058 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 1d8aef86...
2025-05-21 08:19:29,060 - CatastoDB - INFO - Disconnessione completata
2025-05-21 08:48:39,755 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-21 08:48:39,881 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-21 08:48:51,909 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-21 08:48:52,857 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 54ef6593...
2025-05-21 08:49:11,082 - CatastoDB - ERROR - Errore Python generico in registra_comune_nel_db per 'Altare': 'CatastoDBManager' object has no attribute 'cursor'
2025-05-21 08:49:11,084 - CatastoDB - INFO - Rollback eseguito.
2025-05-21 08:55:28,899 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 54ef6593...
2025-05-21 08:55:28,902 - CatastoDB - INFO - Disconnessione completata
2025-05-21 08:55:32,002 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-21 08:55:32,091 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-21 08:55:38,879 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-21 08:55:39,743 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione a27ad5a6...
2025-05-21 08:55:52,735 - CatastoDB - INFO - Comune 'Altare' (ID: 8) inserito con successo nel database.
2025-05-21 08:56:18,596 - CatastoDB - INFO - Comune 'Altare (Fabbricati)' (ID: 9) inserito con successo nel database.
2025-05-21 08:56:41,060 - CatastoDB - INFO - Comune 'Altare (Terreni)' (ID: 10) inserito con successo nel database.
2025-05-21 08:56:52,083 - CatastoDB - WARNING - Nessun risultato da recuperare per l'ultima query.
2025-05-21 08:57:09,869 - CatastoDB - WARNING - Nessun risultato da recuperare per l'ultima query.
2025-05-21 08:57:20,026 - CatastoDB - WARNING - Nessun risultato da recuperare per l'ultima query.
2025-05-21 08:57:35,050 - CatastoDB - INFO - Disconnessione completata
2025-05-21 08:57:39,432 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-21 08:57:39,542 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-21 08:57:47,649 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-21 08:57:47,976 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-21 08:57:48,024 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione b832523c...
2025-05-21 08:57:50,716 - CatastoDB - WARNING - Nessun risultato da recuperare per l'ultima query.
2025-05-21 08:57:51,064 - CatastoDB - WARNING - Nessun risultato da recuperare per l'ultima query.
2025-05-21 08:57:51,071 - CatastoDB - WARNING - Nessun risultato da recuperare per l'ultima query.
2025-05-21 08:57:51,106 - CatastoDB - WARNING - Nessun risultato da recuperare per l'ultima query.
2025-05-21 08:57:51,107 - CatastoDB - INFO - Recuperati 0 utenti.
2025-05-21 08:57:58,284 - CatastoDB - WARNING - Nessun risultato da recuperare per l'ultima query.
2025-05-21 08:58:12,813 - CatastoDB - WARNING - Nessun risultato da recuperare per l'ultima query.
2025-05-21 08:58:18,252 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione b832523c...
2025-05-21 08:58:19,566 - CatastoDB - INFO - Disconnessione completata
2025-05-21 08:58:19,566 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-21 09:06:20,624 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-21 09:06:20,738 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-21 09:06:25,749 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-21 09:06:26,687 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 6398cb48...
2025-05-21 09:06:57,443 - CatastoDB - INFO - Disconnessione completata
2025-05-21 09:07:01,650 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-21 09:07:01,741 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-21 09:07:11,986 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-21 09:07:12,294 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-21 09:07:12,333 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 9af39879...
2025-05-21 09:07:14,948 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-21 09:09:39,111 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-21 09:09:39,210 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-21 09:09:45,562 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-21 09:09:45,931 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-21 09:09:46,026 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 21469b22...
2025-05-21 09:09:47,331 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-21 09:10:19,049 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-21 09:10:19,131 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-21 09:10:24,149 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-21 09:10:24,486 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-21 09:10:24,493 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 32ba35a8...
2025-05-21 09:10:25,671 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-21 09:14:45,492 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-21 09:14:45,610 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-21 09:14:52,450 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-21 09:14:52,843 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-21 09:14:52,890 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione ecfee40e...
2025-05-21 09:14:54,485 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-21 09:34:14,608 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-21 09:34:14,733 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-21 09:34:20,598 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-21 09:34:20,965 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-21 09:34:21,038 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 6fae6bf2...
2025-05-21 09:34:23,184 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-21 09:35:33,051 - CatastoDB - INFO - Localit‡ 'Via dei Fatti Miei' (Comune ID: 2) inserita con ID: 101
2025-05-21 09:35:56,185 - CatastoDB - INFO - Registrata nuova propriet‡: Comune ID 2, Partita N.1
2025-05-21 09:41:01,486 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 6fae6bf2...
2025-05-21 09:41:02,736 - CatastoDB - INFO - Disconnessione completata
2025-05-21 09:41:02,736 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-21 12:18:37,718 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-21 12:18:37,783 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-21 12:18:44,082 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-21 12:18:44,364 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-21 12:18:44,403 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione dd8c7094...
2025-05-21 12:18:46,124 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-21 12:19:00,582 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione dd8c7094...
2025-05-21 12:19:01,903 - CatastoDB - INFO - Disconnessione completata
2025-05-21 12:19:01,904 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-21 12:30:07,070 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-21 12:30:07,149 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-21 12:30:12,883 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-21 12:30:13,172 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-21 12:30:13,227 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione c17d0d1f...
2025-05-21 12:30:14,246 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-21 12:30:31,537 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione c17d0d1f...
2025-05-21 12:30:32,781 - CatastoDB - INFO - Disconnessione completata
2025-05-21 12:30:32,782 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-21 12:39:56,341 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-21 12:39:56,416 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-21 12:40:02,422 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-21 12:40:02,705 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-21 12:40:02,747 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 2766e571...
2025-05-21 12:40:03,632 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: 
             SELECT 
                 id, 
                 nome AS nome_comune, 
                 ... Errore: ERRORE:  la colonna "codice_catastale" non esiste
LINE 5:                  codice_catastale,  -- Assumendo che queste ...
                         ^

2025-05-21 12:40:03,633 - CatastoDB - INFO - Rollback eseguito.
2025-05-21 12:40:03,633 - CatastoGUI - INFO - Nessun comune trovato nel database.
2025-05-21 12:40:03,873 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-21 12:40:31,303 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 2766e571...
2025-05-21 12:40:32,436 - CatastoDB - INFO - Disconnessione completata
2025-05-21 12:40:32,436 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-21 12:42:24,659 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-21 12:42:24,729 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-21 12:42:29,883 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-21 12:42:30,182 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-21 12:42:30,208 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 3e85e30b...
2025-05-21 12:42:32,163 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-21 12:42:35,809 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 3e85e30b...
2025-05-21 12:42:37,117 - CatastoDB - INFO - Disconnessione completata
2025-05-21 12:42:37,117 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-21 12:44:05,966 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-21 12:44:06,026 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-21 12:44:10,505 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-21 12:44:10,779 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-21 12:44:10,795 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione a864c613...
2025-05-21 12:44:12,617 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-21 12:44:19,211 - CatastoGUI - INFO - Esecuzione logout di sicurezza per utente ID: 1 prima della chiusura...
2025-05-21 12:44:19,228 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione a864c613...
2025-05-21 12:44:19,230 - CatastoDB - INFO - Disconnessione completata
2025-05-21 12:44:19,231 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-22 18:25:51,436 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-22 18:25:51,585 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-22 18:26:02,705 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-22 18:26:03,014 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-22 18:26:03,059 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 45d0f782...
2025-05-22 18:26:06,290 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-22 18:26:30,346 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 45d0f782...
2025-05-22 18:26:32,953 - CatastoDB - INFO - Disconnessione completata
2025-05-22 18:26:32,953 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-22 18:30:38,402 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-22 18:30:38,506 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-22 18:30:45,395 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-22 18:30:45,740 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-22 18:30:45,800 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 25469dd9...
2025-05-22 18:30:47,883 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-22 18:31:00,640 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 25469dd9...
2025-05-22 18:31:02,888 - CatastoDB - INFO - Disconnessione completata
2025-05-22 18:31:02,889 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-22 18:36:49,494 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-22 18:36:49,601 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-22 18:36:55,662 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-22 18:36:56,007 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-22 18:36:56,048 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 9311525d...
2025-05-22 18:36:57,830 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-22 18:37:44,042 - CatastoDB - INFO - Ricerca avanzata possessori per 'stress' (soglia: 0.3) ha prodotto 100 risultati.
2025-05-22 18:38:54,900 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 9311525d...
2025-05-22 18:38:56,898 - CatastoDB - INFO - Disconnessione completata
2025-05-22 18:38:56,899 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-22 18:39:05,469 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-22 18:39:05,594 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-22 18:39:12,164 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-22 18:39:12,498 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-22 18:39:12,550 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 3b5dd8f4...
2025-05-22 18:39:14,352 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-22 18:39:46,179 - CatastoDB - INFO - Nessun risultato per ricerca avanzata possessori: 'asa' (soglia: 0.3).
2025-05-22 18:39:55,755 - CatastoDB - INFO - Ricerca avanzata possessori per 'stress' (soglia: 0.3) ha prodotto 100 risultati.
2025-05-22 18:40:13,971 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 3b5dd8f4...
2025-05-22 18:40:16,020 - CatastoDB - INFO - Disconnessione completata
2025-05-22 18:40:16,020 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-22 18:41:23,419 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-22 18:41:23,507 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-22 18:41:31,024 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-22 18:41:31,361 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-22 18:41:31,397 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione bac69bfc...
2025-05-22 18:41:33,481 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-22 18:41:53,036 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione bac69bfc...
2025-05-22 18:41:54,898 - CatastoDB - INFO - Disconnessione completata
2025-05-22 18:41:54,898 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-22 18:53:08,540 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-22 18:53:08,805 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-22 18:53:15,500 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-22 18:53:15,860 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-22 18:53:15,908 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione cae38a74...
2025-05-22 18:53:17,957 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-22 18:53:33,077 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione cae38a74...
2025-05-22 18:53:34,678 - CatastoDB - INFO - Disconnessione completata
2025-05-22 18:53:34,681 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-22 18:55:21,616 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-22 18:55:21,730 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-22 18:55:28,618 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-22 18:55:28,941 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-22 18:55:28,988 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione ca195b2c...
2025-05-22 18:55:30,911 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-22 18:56:43,378 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione ca195b2c...
2025-05-22 18:56:45,246 - CatastoDB - INFO - Disconnessione completata
2025-05-22 18:56:45,246 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-23 09:01:19,464 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 09:01:19,638 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 09:01:28,894 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 09:01:29,228 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 09:01:29,284 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 54061e04...
2025-05-23 09:01:31,137 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-23 09:02:03,538 - CatastoGUI - INFO - Nessuna partita trovata per il comune ID: 9
2025-05-23 09:24:13,923 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 54061e04...
2025-05-23 09:24:15,321 - CatastoDB - INFO - Disconnessione completata
2025-05-23 09:24:15,322 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-23 09:34:04,453 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 09:34:04,574 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 09:34:12,086 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 09:34:12,397 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 09:34:12,497 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione f2bc916d...
2025-05-23 09:34:14,522 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-23 09:37:41,163 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione f2bc916d...
2025-05-23 09:37:42,269 - CatastoDB - INFO - Disconnessione completata
2025-05-23 09:37:42,269 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-23 09:38:43,071 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 09:38:43,143 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 09:38:49,763 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 09:38:50,055 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 09:38:50,066 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 65496ba6...
2025-05-23 09:38:51,840 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-23 09:39:20,051 - CatastoDB - INFO - Localit‡ 'Borgata CiccioCicci' (Comune ID: 3) inserita con ID: 102
2025-05-23 09:40:38,121 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 65496ba6...
2025-05-23 09:40:39,322 - CatastoDB - INFO - Disconnessione completata
2025-05-23 09:40:39,323 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-23 09:48:16,019 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 09:48:16,226 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 09:48:23,489 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 09:48:23,902 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 5431a4ca...
2025-05-23 09:48:57,076 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM v_audit_dettagliato ORDER BY timestamp DESC LIMIT %s... Errore: ERRORE:  la relazione "v_audit_dettagliato" non esiste
LINE 1: SELECT * FROM v_audit_dettagliato ORDER BY timestamp DESC LI...
                      ^

2025-05-23 09:48:57,077 - CatastoDB - INFO - Rollback eseguito.
2025-05-23 09:49:05,238 - CatastoDB - INFO - Disconnessione completata
2025-05-23 10:12:40,307 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 10:12:40,402 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 10:12:46,047 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 10:12:46,331 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 10:12:46,365 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 0d13d6aa...
2025-05-23 10:12:48,394 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-23 10:16:06,472 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 0d13d6aa...
2025-05-23 10:16:07,590 - CatastoDB - INFO - Disconnessione completata
2025-05-23 10:16:07,590 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-23 10:17:08,866 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 10:17:08,928 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 10:17:14,074 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 10:17:14,352 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 10:17:14,372 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione cefcb0eb...
2025-05-23 10:17:15,727 - CatastoGUI - WARNING - Classe ElencoComuniWidget non trovata durante setup_tabs.
2025-05-23 10:17:15,728 - CatastoGUI - WARNING - Classe RicercaPartiteWidget non trovata durante setup_tabs.
2025-05-23 10:17:15,728 - CatastoGUI - WARNING - Classe RicercaPossessoriWidget non trovata durante setup_tabs.
2025-05-23 10:17:15,728 - CatastoGUI - ERROR - CLASSE RicercaAvanzataImmobiliWidget NON TROVATA. Impossibile aggiungere il tab.
2025-05-23 10:17:29,603 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione cefcb0eb...
2025-05-23 10:17:31,089 - CatastoDB - INFO - Disconnessione completata
2025-05-23 10:17:31,089 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-23 10:26:11,789 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 10:26:11,864 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 10:26:18,120 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 10:26:18,409 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 10:26:18,451 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 2600e509...
2025-05-23 10:26:20,368 - CatastoGUI - WARNING - Classe ElencoComuniWidget non trovata durante setup_tabs.
2025-05-23 10:26:20,369 - CatastoGUI - WARNING - Classe RicercaPartiteWidget non trovata durante setup_tabs.
2025-05-23 10:26:20,369 - CatastoGUI - WARNING - Classe RicercaPossessoriWidget non trovata durante setup_tabs.
2025-05-23 10:26:20,369 - CatastoGUI - ERROR - CLASSE RicercaAvanzataImmobiliWidget NON TROVATA. Impossibile aggiungere il tab.
2025-05-23 10:27:22,562 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 2600e509...
2025-05-23 10:27:23,827 - CatastoDB - INFO - Disconnessione completata
2025-05-23 10:27:23,827 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-23 10:43:02,945 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 10:43:03,009 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 10:43:08,312 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 10:43:08,591 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 10:43:08,600 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione e5f4b523...
2025-05-23 10:43:10,362 - CatastoGUI - WARNING - Classe ElencoComuniWidget non trovata durante setup_tabs.
2025-05-23 10:43:10,362 - CatastoGUI - WARNING - Classe RicercaPartiteWidget non trovata durante setup_tabs.
2025-05-23 10:43:10,363 - CatastoGUI - WARNING - Classe RicercaPossessoriWidget non trovata durante setup_tabs.
2025-05-23 10:43:10,363 - CatastoGUI - ERROR - CLASSE RicercaAvanzataImmobiliWidget NON TROVATA. Impossibile aggiungere il tab.
2025-05-23 10:43:12,161 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione e5f4b523...
2025-05-23 10:43:13,479 - CatastoDB - INFO - Disconnessione completata
2025-05-23 10:43:13,479 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-23 10:52:34,921 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 10:52:35,109 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 10:52:41,260 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 10:52:41,542 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 10:52:41,550 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 8d0fb4f0...
2025-05-23 10:52:42,972 - CatastoGUI - WARNING - Classe ElencoComuniWidget non trovata durante setup_tabs.
2025-05-23 10:52:42,972 - CatastoGUI - WARNING - Classe RicercaPartiteWidget non trovata durante setup_tabs.
2025-05-23 10:52:42,973 - CatastoGUI - WARNING - Classe RicercaPossessoriWidget non trovata durante setup_tabs.
2025-05-23 10:52:42,973 - CatastoGUI - ERROR - CLASSE RicercaAvanzataImmobiliWidget NON TROVATA. Impossibile aggiungere il tab.
2025-05-23 10:52:57,467 - CatastoGUI - INFO - Esecuzione logout di sicurezza per utente ID: 1 prima della chiusura...
2025-05-23 10:52:57,485 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 8d0fb4f0...
2025-05-23 10:52:57,487 - CatastoDB - INFO - Disconnessione completata
2025-05-23 10:52:57,488 - CatastoGUI - INFO - Applicazione GUI terminata.
2025-05-23 10:56:31,068 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 10:56:31,130 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 10:56:36,184 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 10:56:36,460 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 10:56:36,478 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 58515096...
2025-05-23 10:56:38,113 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 10:56:38,186 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 11:08:07,736 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 11:08:07,823 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 11:08:14,043 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 11:08:14,365 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 11:08:14,412 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 1514706d...
2025-05-23 11:08:15,744 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 11:08:15,846 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 11:55:40,869 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 11:55:40,987 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 11:55:52,186 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 11:55:52,546 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 11:55:52,621 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 438ff93a...
2025-05-23 11:55:54,492 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-23 11:56:00,756 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 438ff93a...
2025-05-23 11:56:02,837 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-23 11:56:02,838 - CatastoDB - INFO - Disconnessione completata
2025-05-23 11:56:02,839 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-23 11:56:02,839 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-23 15:25:16,049 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 15:25:16,187 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 15:25:22,654 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 15:25:22,912 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 15:25:22,942 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione aab47188...
2025-05-23 15:25:24,183 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-23 15:26:05,140 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 15:26:05,249 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 15:26:09,671 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 15:26:09,929 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 15:26:09,939 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione bd6df6eb...
2025-05-23 15:26:11,795 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-23 15:26:37,314 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: 
            SELECT * FROM catasto.cerca_immobili_avanzato(
                p_comune_id => %s,
     ... Errore: ERRORE:  la funzione catasto.cerca_immobili_avanzato(p_comune_id => integer, p_localita_id => integer, p_natura => unknown, p_classificazione => unknown, p_consistenza_search => unknown, p_piani_min => unknown, p_piani_max => unknown, p_vani_min => unknown, p_vani_max => unknown, p_nome_possessore => unknown, p_data_inizio_possesso => unknown, p_data_fine_possesso => unknown) non esiste
LINE 2:             SELECT * FROM catasto.cerca_immobili_avanzato(
                                  ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-23 15:26:37,320 - CatastoDB - INFO - Rollback eseguito.
2025-05-23 15:26:46,520 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: 
            SELECT * FROM catasto.cerca_immobili_avanzato(
                p_comune_id => %s,
     ... Errore: ERRORE:  la funzione catasto.cerca_immobili_avanzato(p_comune_id => integer, p_localita_id => unknown, p_natura => unknown, p_classificazione => unknown, p_consistenza_search => unknown, p_piani_min => unknown, p_piani_max => unknown, p_vani_min => unknown, p_vani_max => unknown, p_nome_possessore => unknown, p_data_inizio_possesso => unknown, p_data_fine_possesso => unknown) non esiste
LINE 2:             SELECT * FROM catasto.cerca_immobili_avanzato(
                                  ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-23 15:26:46,527 - CatastoDB - INFO - Rollback eseguito.
2025-05-23 15:26:58,102 - CatastoDB - INFO - Ricerca avanzata possessori per 'stress' (soglia: 0.3) ha prodotto 100 risultati.
2025-05-23 15:27:08,826 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: 
            SELECT * FROM catasto.cerca_immobili_avanzato(
                p_comune_id => %s,
     ... Errore: ERRORE:  la funzione catasto.cerca_immobili_avanzato(p_comune_id => unknown, p_localita_id => unknown, p_natura => unknown, p_classificazione => unknown, p_consistenza_search => unknown, p_piani_min => unknown, p_piani_max => unknown, p_vani_min => unknown, p_vani_max => unknown, p_nome_possessore => unknown, p_data_inizio_possesso => unknown, p_data_fine_possesso => unknown) non esiste
LINE 2:             SELECT * FROM catasto.cerca_immobili_avanzato(
                                  ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-23 15:27:08,841 - CatastoDB - INFO - Rollback eseguito.
2025-05-23 15:32:13,247 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione bd6df6eb...
2025-05-23 15:32:14,514 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-23 15:32:14,520 - CatastoDB - INFO - Disconnessione completata
2025-05-23 15:32:14,526 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-23 15:32:14,531 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-23 15:32:50,010 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 15:32:50,126 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 15:32:56,012 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 15:32:56,270 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 15:32:56,286 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione acb69074...
2025-05-23 15:34:19,280 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 15:34:19,424 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 15:34:24,768 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 15:34:25,045 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 15:34:25,059 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 7be5d611...
2025-05-23 15:37:04,032 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 15:37:04,270 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 15:37:09,701 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 15:37:09,963 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 15:37:09,975 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 32349f03...
2025-05-23 15:37:11,729 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-23 15:39:10,155 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 15:39:10,266 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 15:39:17,437 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 15:39:17,694 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 15:39:17,703 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 047a9225...
2025-05-23 15:39:19,563 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-23 15:43:12,718 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 15:43:12,825 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 15:43:17,574 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 15:43:17,844 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 15:43:17,853 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 2e0e1550...
2025-05-23 15:43:19,729 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-23 15:43:26,134 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: 
            SELECT * FROM catasto.cerca_immobili_avanzato(
                p_comune_id => %s,
     ... Errore: ERRORE:  la funzione catasto.cerca_immobili_avanzato(p_comune_id => unknown, p_localita_id => unknown, p_natura => unknown, p_classificazione => unknown, p_consistenza_search => unknown, p_piani_min => unknown, p_piani_max => unknown, p_vani_min => unknown, p_vani_max => unknown, p_nome_possessore => unknown, p_data_inizio_possesso => unknown, p_data_fine_possesso => unknown) non esiste
LINE 2:             SELECT * FROM catasto.cerca_immobili_avanzato(
                                  ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-23 15:43:26,140 - CatastoDB - INFO - Rollback eseguito.
2025-05-23 15:43:31,975 - CatastoGUI - INFO - Dialogo inserimento comune annullato da utente 'admin'.
2025-05-23 15:50:57,048 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 2e0e1550...
2025-05-23 15:50:58,271 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-23 15:50:58,280 - CatastoDB - INFO - Disconnessione completata
2025-05-23 15:50:58,286 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-23 15:50:58,291 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-23 15:58:58,606 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 15:58:58,747 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 15:59:04,529 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 15:59:04,811 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 15:59:04,827 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione b09974eb...
2025-05-23 16:02:59,353 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 16:02:59,504 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 16:03:05,353 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 16:03:05,608 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 16:03:05,623 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 92ce73d3...
2025-05-23 16:03:07,723 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-23 16:04:08,431 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 16:04:08,552 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 16:04:13,219 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 16:04:13,475 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 16:04:13,485 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 441dcd61...
2025-05-23 16:04:15,039 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-23 16:12:46,255 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 16:12:46,397 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 16:12:53,973 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 16:12:54,230 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 16:12:54,244 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 81ad592b...
2025-05-23 16:12:55,116 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-23 16:14:16,833 - CatastoDB - INFO - Registrata nuova propriet‡: Comune ID 3, Partita N.1
2025-05-23 16:14:57,509 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: 
            SELECT * FROM catasto.cerca_immobili_avanzato(
                p_comune_id => %s,
     ... Errore: ERRORE:  la funzione catasto.cerca_immobili_avanzato(p_comune_id => unknown, p_localita_id => unknown, p_natura => unknown, p_classificazione => unknown, p_consistenza_search => unknown, p_piani_min => unknown, p_piani_max => unknown, p_vani_min => unknown, p_vani_max => unknown, p_nome_possessore => unknown, p_data_inizio_possesso => unknown, p_data_fine_possesso => unknown) non esiste
LINE 2:             SELECT * FROM catasto.cerca_immobili_avanzato(
                                  ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-23 16:14:57,515 - CatastoDB - INFO - Rollback eseguito.
2025-05-23 16:15:15,973 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: 
            SELECT * FROM catasto.cerca_immobili_avanzato(
                p_comune_id => %s,
     ... Errore: ERRORE:  la funzione catasto.cerca_immobili_avanzato(p_comune_id => integer, p_localita_id => unknown, p_natura => unknown, p_classificazione => unknown, p_consistenza_search => unknown, p_piani_min => unknown, p_piani_max => unknown, p_vani_min => unknown, p_vani_max => unknown, p_nome_possessore => unknown, p_data_inizio_possesso => unknown, p_data_fine_possesso => unknown) non esiste
LINE 2:             SELECT * FROM catasto.cerca_immobili_avanzato(
                                  ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-23 16:15:15,979 - CatastoDB - INFO - Rollback eseguito.
2025-05-23 16:16:34,424 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 81ad592b...
2025-05-23 16:18:34,919 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 16:18:35,028 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 16:18:39,594 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 16:18:39,853 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 16:18:39,862 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 6e5d0865...
2025-05-23 16:18:40,840 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-23 16:25:37,372 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 16:25:37,480 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 16:25:46,952 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 16:25:47,245 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 16:25:47,255 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione c305ee1f...
2025-05-23 16:25:48,762 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-23 16:25:59,639 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: 
            SELECT * FROM catasto.cerca_immobili_avanzato(
                p_comune_id => %s,
     ... Errore: ERRORE:  la funzione catasto.cerca_immobili_avanzato(p_comune_id => unknown, p_localita_id => unknown, p_natura => unknown, p_classificazione => unknown, p_consistenza_search => unknown, p_piani_min => unknown, p_piani_max => unknown, p_vani_min => unknown, p_vani_max => unknown, p_nome_possessore => unknown, p_data_inizio_possesso => unknown, p_data_fine_possesso => unknown) non esiste
LINE 2:             SELECT * FROM catasto.cerca_immobili_avanzato(
                                  ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-23 16:25:59,646 - CatastoDB - INFO - Rollback eseguito.
2025-05-23 16:26:24,769 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione c305ee1f...
2025-05-23 16:26:26,096 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-23 16:26:26,105 - CatastoDB - INFO - Disconnessione completata
2025-05-23 16:26:26,115 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-23 16:26:26,120 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-23 16:34:19,139 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 16:34:19,270 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 16:34:24,799 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 16:34:25,061 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 16:34:25,075 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 49482f0b...
2025-05-23 16:34:26,583 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-23 16:35:15,266 - CatastoGUI - INFO - Dialogo inserimento comune annullato da utente 'admin'.
2025-05-23 16:37:22,424 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 49482f0b...
2025-05-23 16:37:23,564 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-23 16:37:23,571 - CatastoDB - INFO - Disconnessione completata
2025-05-23 16:37:23,577 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-23 16:37:23,588 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-23 16:38:33,739 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 16:38:33,851 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 16:38:40,735 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 16:38:40,992 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 16:38:41,006 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 3715019e...
2025-05-23 16:38:42,258 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-23 16:39:19,578 - CatastoGUI - INFO - Dialogo inserimento comune annullato da utente 'admin'.
2025-05-23 16:39:23,311 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-23 16:39:23,317 - CatastoGUI - INFO - Chiusura applicazione: esecuzione logout di sicurezza per utente ID: 1...
2025-05-23 16:39:23,326 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 3715019e...
2025-05-23 16:39:23,334 - CatastoDB - INFO - Disconnessione completata
2025-05-23 16:39:23,339 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-23 16:39:23,345 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-23 17:13:52,228 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 17:13:52,350 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 17:14:13,458 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 17:14:13,740 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 17:14:13,750 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 059c4f9a...
2025-05-23 17:14:15,372 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-23 17:14:23,147 - CatastoGUI - INFO - Dialogo inserimento comune annullato da utente 'admin'.
2025-05-23 17:14:27,218 - CatastoGUI - INFO - Dialogo inserimento comune annullato da utente 'admin'.
2025-05-23 17:14:37,058 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: 
            SELECT * FROM catasto.cerca_immobili_avanzato(
                p_comune_id => %s,
     ... Errore: ERRORE:  la funzione catasto.cerca_immobili_avanzato(p_comune_id => unknown, p_localita_id => unknown, p_natura => unknown, p_classificazione => unknown, p_consistenza_search => unknown, p_piani_min => unknown, p_piani_max => unknown, p_vani_min => unknown, p_vani_max => unknown, p_nome_possessore => unknown, p_data_inizio_possesso => unknown, p_data_fine_possesso => unknown) non esiste
LINE 2:             SELECT * FROM catasto.cerca_immobili_avanzato(
                                  ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-23 17:14:37,065 - CatastoDB - INFO - Rollback eseguito.
2025-05-23 17:16:39,658 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 059c4f9a...
2025-05-23 17:16:41,072 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-23 17:16:41,079 - CatastoDB - INFO - Disconnessione completata
2025-05-23 17:16:41,085 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-23 17:16:41,090 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-23 17:22:32,287 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 17:22:32,423 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 17:29:15,636 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 17:29:15,789 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 17:31:14,488 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 17:31:14,622 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 17:31:22,053 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 17:31:22,349 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 17:31:22,366 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione b1bae7da...
2025-05-23 17:31:24,301 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-23 17:41:56,418 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 17:41:56,555 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 17:42:02,389 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 17:42:02,646 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 17:42:02,658 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 98226303...
2025-05-23 17:42:04,007 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-23 17:44:02,941 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 17:44:03,084 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 17:44:08,503 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 17:44:08,767 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 17:44:08,780 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione d4202c47...
2025-05-23 17:44:10,523 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-23 17:44:10,719 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-23 17:44:10,772 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-23 17:44:10,944 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-23 17:44:10,956 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-23 17:44:10,964 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-23 17:44:10,970 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-23 17:44:10,976 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-23 17:44:10,982 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-23 17:44:18,892 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: 
            SELECT * FROM catasto.cerca_immobili_avanzato(
                p_comune_id => %s,
     ... Errore: ERRORE:  la funzione catasto.cerca_immobili_avanzato(p_comune_id => unknown, p_localita_id => unknown, p_natura => unknown, p_classificazione => unknown, p_consistenza_search => unknown, p_piani_min => unknown, p_piani_max => unknown, p_vani_min => unknown, p_vani_max => unknown, p_nome_possessore => unknown, p_data_inizio_possesso => unknown, p_data_fine_possesso => unknown) non esiste
LINE 2:             SELECT * FROM catasto.cerca_immobili_avanzato(
                                  ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-23 17:44:18,898 - CatastoDB - INFO - Rollback eseguito.
2025-05-23 17:44:21,434 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione d4202c47...
2025-05-23 17:44:22,638 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-23 17:44:22,652 - CatastoDB - INFO - Disconnessione completata
2025-05-23 17:44:22,665 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-23 17:44:22,678 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-23 17:44:22,703 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-23 17:46:06,717 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 17:46:06,823 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 17:46:11,601 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 17:46:11,851 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 17:46:11,864 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 4f6799de...
2025-05-23 17:46:14,085 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-23 17:46:14,276 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-23 17:46:14,325 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-23 17:46:14,506 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-23 17:46:14,518 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-23 17:46:14,524 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-23 17:46:14,529 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-23 17:46:14,535 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-23 17:46:14,557 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-23 17:48:38,604 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 4f6799de...
2025-05-23 17:48:39,998 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-23 17:48:40,006 - CatastoDB - INFO - Disconnessione completata
2025-05-23 17:48:40,012 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-23 17:48:40,029 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-23 17:48:40,049 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-23 18:11:56,979 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 18:11:57,127 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 18:12:04,783 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 18:12:05,041 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 18:12:05,053 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione e095c921...
2025-05-23 18:13:37,119 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 18:13:37,235 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 18:13:53,807 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 18:13:54,064 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 18:13:54,075 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 2903abc8...
2025-05-23 18:13:55,805 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-23 18:13:56,010 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-23 18:13:56,064 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-23 18:13:56,253 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-23 18:13:56,266 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-23 18:13:56,272 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-23 18:13:56,277 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-23 18:13:56,283 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-23 18:13:56,292 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-23 18:14:07,000 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 2903abc8...
2025-05-23 18:14:08,489 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-23 18:14:08,495 - CatastoDB - INFO - Disconnessione completata
2025-05-23 18:14:08,506 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-23 18:14:08,516 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-23 18:14:08,540 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-23 18:58:19,993 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 18:58:20,199 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 18:58:29,779 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 18:58:30,100 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 18:58:30,162 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 3a34bcaa...
2025-05-23 18:58:31,548 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-23 18:58:32,257 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-23 18:58:32,365 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-23 18:58:32,830 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-23 18:58:32,842 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-23 18:58:32,843 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-23 18:58:32,844 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-23 18:58:32,844 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-23 18:58:32,844 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-23 18:58:45,901 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-23 18:58:45,902 - CatastoGUI - INFO - Chiusura applicazione: esecuzione logout di sicurezza per utente ID: 1...
2025-05-23 18:58:45,928 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 3a34bcaa...
2025-05-23 18:58:45,931 - CatastoDB - INFO - Disconnessione completata
2025-05-23 18:58:45,931 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-23 18:58:45,932 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-23 18:58:45,955 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-23 18:58:52,301 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 18:58:52,395 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-23 18:58:59,179 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-23 18:58:59,542 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-23 18:58:59,552 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione e6bdbcf2...
2025-05-23 18:59:01,150 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-23 18:59:01,711 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-23 18:59:01,816 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-23 18:59:02,112 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-23 18:59:02,120 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-23 18:59:02,120 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-23 18:59:02,121 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-23 18:59:02,121 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-23 18:59:02,121 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-23 18:59:38,130 - CatastoGUI - INFO - Dialogo inserimento comune annullato da utente 'admin'.
2025-05-23 18:59:44,554 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione e6bdbcf2...
2025-05-23 18:59:46,683 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-23 18:59:46,685 - CatastoDB - INFO - Disconnessione completata
2025-05-23 18:59:46,685 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-23 18:59:46,685 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-23 18:59:46,700 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-23 19:11:28,886 - CatastoDB - INFO - Inizializzato gestore per database catasto_storico (schema: catasto)
2025-05-23 19:22:12,998 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-23 19:24:45,657 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 07:47:56,368 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 07:47:56,549 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 07:47:56,634 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 07:48:05,105 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 07:48:05,403 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 07:48:05,472 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione aa206c37...
2025-05-24 07:48:07,859 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 07:48:08,600 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 07:48:08,703 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 07:48:09,105 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 07:48:09,109 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 07:48:09,110 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 07:48:09,110 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 07:48:09,110 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 07:48:09,111 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 07:48:15,042 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: 
            SELECT * FROM catasto.cerca_immobili_avanzato(
                p_comune_id => %s,
     ... Errore: ERRORE:  la funzione catasto.cerca_immobili_avanzato(p_comune_id => unknown, p_localita_id => unknown, p_natura => unknown, p_classificazione => unknown, p_consistenza_search => unknown, p_piani_min => unknown, p_piani_max => unknown, p_vani_min => unknown, p_vani_max => unknown, p_nome_possessore => unknown, p_data_inizio_possesso => unknown, p_data_fine_possesso => unknown) non esiste
LINE 2:             SELECT * FROM catasto.cerca_immobili_avanzato(
                                  ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-24 07:48:15,043 - CatastoDB - INFO - Rollback eseguito.
2025-05-24 07:55:02,605 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione aa206c37...
2025-05-24 07:55:05,493 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 07:55:05,500 - CatastoDB - INFO - Disconnessione completata
2025-05-24 07:55:05,500 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 07:55:05,501 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 07:55:05,526 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 07:55:20,928 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 07:55:21,239 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 07:55:21,306 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 07:55:30,131 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 07:55:30,473 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 07:55:30,517 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione e01f4765...
2025-05-24 07:55:32,220 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 07:55:32,990 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 07:55:33,087 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 07:55:33,391 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 07:55:33,398 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 07:55:33,399 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 07:55:33,399 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 07:55:33,399 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 07:55:33,399 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 07:55:39,816 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: 
            SELECT * FROM catasto.cerca_immobili_avanzato(
                p_comune_id => %s,
     ... Errore: ERRORE:  la funzione catasto.cerca_immobili_avanzato(p_comune_id => unknown, p_localita_id => unknown, p_natura => unknown, p_classificazione => unknown, p_consistenza_search => unknown, p_piani_min => unknown, p_piani_max => unknown, p_vani_min => unknown, p_vani_max => unknown, p_nome_possessore => unknown, p_data_inizio_possesso => unknown, p_data_fine_possesso => unknown) non esiste
LINE 2:             SELECT * FROM catasto.cerca_immobili_avanzato(
                                  ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-24 07:55:39,817 - CatastoDB - INFO - Rollback eseguito.
2025-05-24 07:56:40,202 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: 
            SELECT * FROM catasto.cerca_immobili_avanzato(
                p_comune_id => %s,
     ... Errore: ERRORE:  la funzione catasto.cerca_immobili_avanzato(p_comune_id => integer, p_localita_id => unknown, p_natura => unknown, p_classificazione => unknown, p_consistenza_search => unknown, p_piani_min => unknown, p_piani_max => unknown, p_vani_min => unknown, p_vani_max => unknown, p_nome_possessore => unknown, p_data_inizio_possesso => unknown, p_data_fine_possesso => unknown) non esiste
LINE 2:             SELECT * FROM catasto.cerca_immobili_avanzato(
                                  ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-24 07:56:40,202 - CatastoDB - INFO - Rollback eseguito.
2025-05-24 07:58:47,127 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione e01f4765...
2025-05-24 07:58:49,983 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 07:58:49,986 - CatastoDB - INFO - Disconnessione completata
2025-05-24 07:58:49,987 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 07:58:49,987 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 07:58:50,008 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 08:02:48,042 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 08:02:48,125 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 08:02:48,189 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 08:02:56,235 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 08:02:58,132 - CatastoGUI - WARNING - Login GUI fallito (pwd errata) per ID: 1
2025-05-24 08:03:00,952 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 08:03:01,328 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 08:03:01,382 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 2054251a...
2025-05-24 08:03:02,897 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 08:03:03,437 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 08:03:03,531 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 08:03:03,824 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 08:03:03,833 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 08:03:03,833 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 08:03:03,871 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 08:03:03,872 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 08:03:03,872 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 08:03:09,192 - CatastoDB_catasto_storico_localhost - DEBUG - Chiamata a catasto.cerca_immobili_avanzato con parametri POSIZIONALI: (None, None, None, None, None, None, None, None, None, None, None, None)
2025-05-24 08:03:09,193 - CatastoDB_catasto_storico_localhost - ERROR - Errore generico durante l'esecuzione di ricerca_avanzata_immobili_gui: 'CatastoDBManager' object has no attribute '_get_connection'
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 1742, in ricerca_avanzata_immobili_gui
    conn_to_use = self._get_connection() # Ottieni connessione dal pool o singola
                  ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CatastoDBManager' object has no attribute '_get_connection'
2025-05-24 08:09:04,429 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 2054251a...
2025-05-24 08:09:06,060 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 08:09:06,062 - CatastoDB - INFO - Disconnessione completata
2025-05-24 08:09:06,062 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 08:09:06,062 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 08:09:06,094 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 08:09:14,134 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 08:09:14,231 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 08:09:14,415 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 08:09:20,151 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 08:09:20,477 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 08:09:20,527 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione afc27e4b...
2025-05-24 08:09:21,800 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 08:09:22,347 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 08:09:22,459 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 08:09:22,772 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 08:09:22,779 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 08:09:22,779 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 08:09:22,780 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 08:09:22,780 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 08:09:22,780 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 08:09:26,917 - CatastoDB_catasto_storico_localhost - DEBUG - Chiamata a catasto.cerca_immobili_avanzato con parametri POSIZIONALI: (None, None, None, None, None, None, None, None, None, None, None, None)
2025-05-24 08:09:26,918 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 08:09:26,963 - CatastoDB_catasto_storico_localhost - ERROR - Errore DB specifico durante l'esecuzione di ricerca_avanzata_immobili_gui: ERRORE:  la funzione catasto.cerca_immobili_avanzato(unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown) non esiste
LINE 2:             SELECT * FROM "catasto".cerca_immobili_avanzato(
                                  ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 1817, in ricerca_avanzata_immobili_gui
    cur.execute(query, params)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\saint\AppData\Local\Programs\Python\Python313\Lib\site-packages\psycopg2\extras.py", line 236, in execute
    return super().execute(query, vars)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedFunction: ERRORE:  la funzione catasto.cerca_immobili_avanzato(unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown) non esiste
LINE 2:             SELECT * FROM "catasto".cerca_immobili_avanzato(
                                  ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-24 08:09:26,996 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 08:09:32,408 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione afc27e4b...
2025-05-24 08:09:34,802 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 08:09:34,804 - CatastoDB - INFO - Disconnessione completata
2025-05-24 08:09:34,804 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 08:09:34,804 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 08:09:34,827 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 08:40:41,193 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 08:40:41,326 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 08:40:41,431 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 08:40:48,981 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 08:40:49,233 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 08:40:49,270 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione f18ac3ea...
2025-05-24 08:40:51,062 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 08:40:51,271 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 08:40:51,316 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 08:40:51,501 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 08:40:51,516 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 08:40:51,522 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 08:40:51,528 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 08:40:51,535 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 08:40:51,541 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 08:40:57,079 - CatastoDB - INFO - Ricerca avanzata possessori per 'stress' (soglia: 0.3) ha prodotto 100 risultati.
2025-05-24 08:48:36,777 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione f18ac3ea...
2025-05-24 08:48:38,267 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 08:48:38,274 - CatastoDB - INFO - Disconnessione completata
2025-05-24 08:48:38,280 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 08:48:38,286 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 08:48:38,303 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 09:54:34,994 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 09:54:35,145 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 09:54:35,353 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 09:54:42,567 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 09:54:42,837 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 7386b44b...
2025-05-24 09:54:59,074 - __main__ - ERROR - Errore non gestito nel programma: 'CatastoDBManager' object has no attribute 'ricerca_avanzata_immobili'
Traceback (most recent call last):
  File "U:\catasto\gemini\main.py", line 1756, in main
    menu_principale(db) # Entra nel menu principale dopo login riuscito
    ~~~~~~~~~~~~~~~^^^^
  File "U:\catasto\gemini\main.py", line 1710, in menu_principale
    if scelta == "1": menu_consultazione(db)
                      ~~~~~~~~~~~~~~~~~~^^^^
  File "U:\catasto\gemini\main.py", line 772, in menu_consultazione
    results_immobili = db.ricerca_avanzata_immobili( # Rinominato
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CatastoDBManager' object has no attribute 'ricerca_avanzata_immobili'. Did you mean: 'ricerca_avanzata_immobili_gui'?
2025-05-24 09:54:59,190 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 7386b44b...
2025-05-24 09:54:59,197 - CatastoDB - INFO - Disconnessione completata
2025-05-24 10:12:46,924 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 10:12:47,038 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 10:12:47,145 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 10:12:52,293 - CatastoDB - INFO - Disconnessione completata
2025-05-24 10:12:58,363 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 10:12:58,476 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 10:12:58,692 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 10:13:04,466 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 10:13:04,720 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 10:13:04,730 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 86947bd1...
2025-05-24 10:13:06,474 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 10:13:06,690 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 10:13:06,742 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 10:13:06,972 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 10:13:06,987 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 10:13:06,993 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 10:13:06,999 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 10:13:07,006 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 10:13:07,012 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 10:13:15,943 - CatastoDB_catasto_storico_localhost - DEBUG - Chiamata a catasto.cerca_immobili_avanzato con parametri POSIZIONALI: (None, None, None, None, None, None, None, None, None, None, None, None)
2025-05-24 10:13:15,954 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 10:13:15,968 - CatastoDB_catasto_storico_localhost - ERROR - Errore DB specifico durante l'esecuzione di ricerca_avanzata_immobili_gui: ERRORE:  la funzione catasto.cerca_immobili_avanzato(unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown) non esiste
LINE 2:             SELECT * FROM "catasto".cerca_immobili_avanzato(
                                  ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 1817, in ricerca_avanzata_immobili_gui
    cur.execute(query, params)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\extras.py", line 236, in execute
    return super().execute(query, vars)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedFunction: ERRORE:  la funzione catasto.cerca_immobili_avanzato(unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown) non esiste
LINE 2:             SELECT * FROM "catasto".cerca_immobili_avanzato(
                                  ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-24 10:13:16,081 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 10:13:46,684 - CatastoDB_catasto_storico_localhost - DEBUG - Chiamata a catasto.cerca_immobili_avanzato con parametri POSIZIONALI: (1, None, None, None, None, None, None, None, None, None, None, None)
2025-05-24 10:13:46,694 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 10:13:46,706 - CatastoDB_catasto_storico_localhost - ERROR - Errore DB specifico durante l'esecuzione di ricerca_avanzata_immobili_gui: ERRORE:  la funzione catasto.cerca_immobili_avanzato(integer, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown) non esiste
LINE 2:             SELECT * FROM "catasto".cerca_immobili_avanzato(
                                  ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 1817, in ricerca_avanzata_immobili_gui
    cur.execute(query, params)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\extras.py", line 236, in execute
    return super().execute(query, vars)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedFunction: ERRORE:  la funzione catasto.cerca_immobili_avanzato(integer, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown) non esiste
LINE 2:             SELECT * FROM "catasto".cerca_immobili_avanzato(
                                  ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-24 10:13:46,746 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 10:15:52,372 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 86947bd1...
2025-05-24 10:21:54,496 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 10:21:54,611 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 10:21:54,721 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 10:22:01,156 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 10:22:01,405 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 10:22:01,421 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione ae7391e8...
2025-05-24 10:22:02,420 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 10:22:02,622 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 10:22:02,677 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 10:22:02,899 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 10:22:02,911 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 10:22:02,917 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 10:22:02,923 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 10:22:02,931 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 10:22:02,937 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 10:22:06,768 - CatastoDB_catasto_storico_localhost - DEBUG - Chiamata a catasto.cerca_immobili_avanzato con parametri POSIZIONALI: (None, None, None, None, None, None, None, None, None, None, None, None)
2025-05-24 10:22:06,780 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 10:22:06,793 - CatastoDB_catasto_storico_localhost - ERROR - Errore DB specifico durante l'esecuzione di ricerca_avanzata_immobili_gui: ERRORE:  la funzione catasto.cerca_immobili_avanzato(unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown) non esiste
LINE 2:             SELECT * FROM "catasto".cerca_immobili_avanzato(
                                  ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 1817, in ricerca_avanzata_immobili_gui
    cur.execute(query, params)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\extras.py", line 236, in execute
    return super().execute(query, vars)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedFunction: ERRORE:  la funzione catasto.cerca_immobili_avanzato(unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown) non esiste
LINE 2:             SELECT * FROM "catasto".cerca_immobili_avanzato(
                                  ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-24 10:22:06,884 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 10:22:11,385 - CatastoDB_catasto_storico_localhost - DEBUG - Chiamata a catasto.cerca_immobili_avanzato con parametri POSIZIONALI: (3, None, None, None, None, None, None, None, None, None, None, None)
2025-05-24 10:22:11,397 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 10:22:11,410 - CatastoDB_catasto_storico_localhost - ERROR - Errore DB specifico durante l'esecuzione di ricerca_avanzata_immobili_gui: ERRORE:  la funzione catasto.cerca_immobili_avanzato(integer, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown) non esiste
LINE 2:             SELECT * FROM "catasto".cerca_immobili_avanzato(
                                  ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 1817, in ricerca_avanzata_immobili_gui
    cur.execute(query, params)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\extras.py", line 236, in execute
    return super().execute(query, vars)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedFunction: ERRORE:  la funzione catasto.cerca_immobili_avanzato(integer, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown) non esiste
LINE 2:             SELECT * FROM "catasto".cerca_immobili_avanzato(
                                  ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-24 10:22:11,441 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 10:22:14,151 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione ae7391e8...
2025-05-24 10:22:15,265 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 10:22:15,272 - CatastoDB - INFO - Disconnessione completata
2025-05-24 10:22:15,278 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 10:22:15,283 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 10:22:15,300 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 10:22:47,139 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 10:22:47,367 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 10:22:47,474 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 10:22:52,229 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 10:22:52,479 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 10:22:52,488 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione da1171b8...
2025-05-24 10:22:54,383 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 10:22:54,581 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 10:22:54,634 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 10:22:54,841 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 10:22:54,856 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 10:22:54,863 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 10:22:54,868 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 10:22:54,874 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 10:22:54,881 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 10:22:58,496 - CatastoDB_catasto_storico_localhost - DEBUG - Chiamata a catasto.cerca_immobili_avanzato con parametri POSIZIONALI: (None, None, None, None, None, None, None, None, None, None, None, None)
2025-05-24 10:22:58,509 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 10:22:58,523 - CatastoDB_catasto_storico_localhost - ERROR - Errore DB specifico durante l'esecuzione di ricerca_avanzata_immobili_gui: ERRORE:  la funzione catasto.cerca_immobili_avanzato(unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown) non esiste
LINE 2:             SELECT * FROM "catasto".cerca_immobili_avanzato(
                                  ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 1817, in ricerca_avanzata_immobili_gui
    cur.execute(query, params)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\extras.py", line 236, in execute
    return super().execute(query, vars)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedFunction: ERRORE:  la funzione catasto.cerca_immobili_avanzato(unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown) non esiste
LINE 2:             SELECT * FROM "catasto".cerca_immobili_avanzato(
                                  ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-24 10:22:58,621 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 10:23:02,207 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione da1171b8...
2025-05-24 10:23:03,333 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 10:23:03,341 - CatastoDB - INFO - Disconnessione completata
2025-05-24 10:23:03,347 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 10:23:03,352 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 10:23:03,369 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 10:32:15,005 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 10:32:15,152 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 10:32:15,261 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 10:32:20,669 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 10:32:20,929 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 10:32:20,945 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 46643bc6...
2025-05-24 10:32:21,808 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 10:32:22,004 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 10:32:22,060 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 10:32:22,260 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 10:32:22,282 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 10:32:22,288 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 10:32:22,295 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 10:32:22,301 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 10:32:22,308 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 10:32:26,031 - CatastoDB_catasto_storico_localhost - ERROR - Errore generico durante ricerca_avanzata_immobili_gui: 'CatastoDBManager' object has no attribute 'get_connection'
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 1773, in ricerca_avanzata_immobili_gui
    with self.get_connection() as conn:
         ^^^^^^^^^^^^^^^^^^^
AttributeError: 'CatastoDBManager' object has no attribute 'get_connection'. Did you mean: '_get_connection'?
2025-05-24 10:32:32,470 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 46643bc6...
2025-05-24 10:32:33,730 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 10:32:33,737 - CatastoDB - INFO - Disconnessione completata
2025-05-24 10:32:33,743 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 10:32:33,748 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 10:32:33,767 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 10:33:36,367 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 10:33:36,569 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 10:33:36,683 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 10:59:37,590 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 10:59:37,856 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 10:59:37,872 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione a819eb26...
2025-05-24 10:59:39,455 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 10:59:39,680 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 10:59:39,735 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 10:59:39,985 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 10:59:39,997 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 10:59:40,003 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 10:59:40,008 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 10:59:40,014 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 10:59:40,020 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 10:59:43,895 - CatastoDB_catasto_storico_localhost - ERROR - Errore generico durante ricerca_avanzata_immobili_gui: 'CatastoDBManager' object has no attribute 'get_connection'
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 1773, in ricerca_avanzata_immobili_gui
    with self.get_connection() as conn:
         ^^^^^^^^^^^^^^^^^^^
AttributeError: 'CatastoDBManager' object has no attribute 'get_connection'. Did you mean: '_get_connection'?
2025-05-24 10:59:56,452 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione a819eb26...
2025-05-24 10:59:57,426 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 10:59:57,433 - CatastoDB - INFO - Disconnessione completata
2025-05-24 10:59:57,439 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 10:59:57,450 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 10:59:57,475 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 11:00:06,412 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 11:00:06,663 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 11:00:06,774 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 11:00:11,993 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 11:00:12,249 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 11:00:12,260 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 073bc5e2...
2025-05-24 11:00:12,989 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 11:00:13,208 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 11:00:13,252 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 11:00:13,472 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 11:00:13,483 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 11:00:13,489 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 11:00:13,496 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 11:00:13,502 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 11:00:13,507 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 11:00:17,319 - CatastoDB_catasto_storico_localhost - ERROR - Errore generico durante ricerca_avanzata_immobili_gui: 'CatastoDBManager' object has no attribute 'get_connection'
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 1773, in ricerca_avanzata_immobili_gui
    with self.get_connection() as conn:
         ^^^^^^^^^^^^^^^^^^^
AttributeError: 'CatastoDBManager' object has no attribute 'get_connection'. Did you mean: '_get_connection'?
2025-05-24 11:32:01,931 - CatastoDB_catasto_storico_localhost - ERROR - Errore generico durante ricerca_avanzata_immobili_gui: 'CatastoDBManager' object has no attribute 'get_connection'
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 1773, in ricerca_avanzata_immobili_gui
    with self.get_connection() as conn:
         ^^^^^^^^^^^^^^^^^^^
AttributeError: 'CatastoDBManager' object has no attribute 'get_connection'. Did you mean: '_get_connection'?
2025-05-24 11:32:57,014 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 073bc5e2...
2025-05-24 11:32:58,047 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 11:32:58,054 - CatastoDB - INFO - Disconnessione completata
2025-05-24 11:32:58,060 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 11:32:58,067 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 11:32:58,099 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 11:33:06,792 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 11:33:07,011 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 11:33:07,118 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 11:33:12,192 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 11:33:12,447 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 11:33:12,456 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 58f382c9...
2025-05-24 11:33:13,261 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 11:33:13,453 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 11:33:13,498 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 11:33:13,721 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 11:33:13,738 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 11:33:13,745 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 11:33:13,750 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 11:33:13,758 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 11:33:13,763 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 11:33:17,316 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 11:33:17,328 - CatastoDB_catasto_storico_localhost - DEBUG - Chiamata a catasto.ricerca_avanzata_immobili con parametri POSIZIONALI: (None, None, None, None, None, None, None, None, None, None, None, None)
2025-05-24 11:33:17,499 - CatastoDB_catasto_storico_localhost - INFO - Ricerca avanzata immobili ha restituito 7505 risultati.
2025-05-24 11:33:24,028 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 11:33:24,039 - CatastoDB_catasto_storico_localhost - DEBUG - Chiamata a catasto.ricerca_avanzata_immobili con parametri POSIZIONALI: (1, None, None, None, None, None, None, None, None, None, None, None)
2025-05-24 11:33:24,085 - CatastoDB_catasto_storico_localhost - INFO - Ricerca avanzata immobili ha restituito 1503 risultati.
2025-05-24 11:33:31,499 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 11:33:31,511 - CatastoDB_catasto_storico_localhost - DEBUG - Chiamata a catasto.ricerca_avanzata_immobili con parametri POSIZIONALI: (1, 13, None, None, None, None, None, None, None, None, None, None)
2025-05-24 11:33:31,531 - CatastoDB_catasto_storico_localhost - INFO - Ricerca avanzata immobili ha restituito 91 risultati.
2025-05-24 11:33:42,992 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 11:33:43,004 - CatastoDB_catasto_storico_localhost - DEBUG - Chiamata a catasto.ricerca_avanzata_immobili con parametri POSIZIONALI: (1, 13, 'casa', None, None, None, None, None, None, None, None, None)
2025-05-24 11:33:43,022 - CatastoDB_catasto_storico_localhost - INFO - Ricerca avanzata immobili ha restituito 0 risultati.
2025-05-24 11:33:49,331 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 11:33:49,344 - CatastoDB_catasto_storico_localhost - DEBUG - Chiamata a catasto.ricerca_avanzata_immobili con parametri POSIZIONALI: (1, 13, 'Casa', None, None, None, None, None, None, None, None, None)
2025-05-24 11:33:49,363 - CatastoDB_catasto_storico_localhost - INFO - Ricerca avanzata immobili ha restituito 0 risultati.
2025-05-24 11:33:55,165 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 147, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-24 11:33:55,210 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-24 11:33:55,223 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-24 11:33:55,234 - CatastoDB_catasto_storico_localhost - DEBUG - Chiamata a catasto.ricerca_avanzata_immobili con parametri POSIZIONALI: (1, None, 'Casa', None, None, None, None, None, None, None, None, None)
2025-05-24 11:33:55,262 - CatastoDB_catasto_storico_localhost - INFO - Ricerca avanzata immobili ha restituito 1 risultati.
2025-05-24 11:34:17,069 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 147, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-24 11:34:17,108 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-24 11:34:17,120 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-24 11:34:17,132 - CatastoDB_catasto_storico_localhost - DEBUG - Chiamata a catasto.ricerca_avanzata_immobili con parametri POSIZIONALI: (1, None, 'Casa', None, None, None, None, None, None, 'Rossi', None, None)
2025-05-24 11:34:17,170 - CatastoDB_catasto_storico_localhost - INFO - Ricerca avanzata immobili ha restituito 1 risultati.
2025-05-24 11:34:25,085 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 147, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-24 11:34:25,119 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-24 11:34:25,132 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-24 11:34:25,143 - CatastoDB_catasto_storico_localhost - DEBUG - Chiamata a catasto.ricerca_avanzata_immobili con parametri POSIZIONALI: (5, None, 'Casa', None, None, None, None, None, None, 'Rossi', None, None)
2025-05-24 11:34:25,167 - CatastoDB_catasto_storico_localhost - INFO - Ricerca avanzata immobili ha restituito 0 risultati.
2025-05-24 11:34:33,557 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 147, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-24 11:34:33,600 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-24 11:34:33,611 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-24 11:34:33,622 - CatastoDB_catasto_storico_localhost - DEBUG - Chiamata a catasto.ricerca_avanzata_immobili con parametri POSIZIONALI: (5, None, 'Casa', None, None, None, None, None, None, None, None, None)
2025-05-24 11:34:33,648 - CatastoDB_catasto_storico_localhost - INFO - Ricerca avanzata immobili ha restituito 0 risultati.
2025-05-24 11:34:40,253 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 147, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-24 11:34:40,288 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-24 11:34:40,300 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-24 11:34:40,312 - CatastoDB_catasto_storico_localhost - DEBUG - Chiamata a catasto.ricerca_avanzata_immobili con parametri POSIZIONALI: (5, None, None, None, None, None, None, None, None, None, None, None)
2025-05-24 11:34:40,357 - CatastoDB_catasto_storico_localhost - INFO - Ricerca avanzata immobili ha restituito 1500 risultati.
2025-05-24 11:34:55,774 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 147, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-24 11:34:55,813 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-24 11:34:55,826 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-24 11:34:55,838 - CatastoDB_catasto_storico_localhost - DEBUG - Chiamata a catasto.ricerca_avanzata_immobili con parametri POSIZIONALI: (5, None, None, None, None, None, None, None, None, 'Rossi', None, None)
2025-05-24 11:34:55,915 - CatastoDB_catasto_storico_localhost - INFO - Ricerca avanzata immobili ha restituito 1500 risultati.
2025-05-24 11:35:07,411 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 58f382c9...
2025-05-24 11:35:08,640 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 11:35:08,648 - CatastoDB - INFO - Disconnessione completata
2025-05-24 11:35:08,654 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 11:35:08,660 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 11:35:08,681 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 11:36:18,714 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 11:36:18,833 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 11:36:18,942 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 11:36:59,308 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 11:36:59,569 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 11:36:59,579 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 5a3154fc...
2025-05-24 11:37:23,386 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 11:37:23,652 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 11:37:23,706 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 11:37:23,991 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 11:37:24,002 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 11:37:24,008 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 11:37:24,013 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 11:37:24,018 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 11:37:24,025 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 11:37:27,737 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 11:37:27,760 - CatastoDB_catasto_storico_localhost - DEBUG - Chiamata a catasto.ricerca_avanzata_immobili con parametri POSIZIONALI: (None, None, None, None, None, None, None, None, None, None, None, None)
2025-05-24 11:37:28,031 - CatastoDB_catasto_storico_localhost - INFO - Ricerca avanzata immobili ha restituito 7505 risultati.
2025-05-24 11:43:17,191 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 5a3154fc...
2025-05-24 11:43:18,406 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 11:43:18,414 - CatastoDB - INFO - Disconnessione completata
2025-05-24 11:43:18,421 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 11:43:18,427 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 11:43:18,456 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 11:43:26,999 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 11:43:27,144 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 11:43:27,253 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 11:43:35,106 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 11:43:35,367 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 11:43:35,381 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 203ce85b...
2025-05-24 11:43:37,569 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 11:43:37,909 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 11:43:37,964 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 11:43:38,313 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 11:43:38,326 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 11:43:38,332 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 11:43:38,338 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 11:43:38,344 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 11:43:38,350 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 11:44:09,128 - CatastoDB - INFO - Avvio aggiornamento viste materializzate...
2025-05-24 11:44:09,320 - CatastoDB - INFO - Aggiornamento viste completato.
2025-05-24 11:44:59,546 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 203ce85b...
2025-05-24 11:45:00,786 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 11:45:00,793 - CatastoDB - INFO - Disconnessione completata
2025-05-24 11:45:00,798 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 11:45:00,804 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 11:45:00,819 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 11:45:10,594 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 11:45:10,710 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 11:45:10,816 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 11:45:17,155 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 11:45:17,414 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 11:45:17,426 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 58698ca4...
2025-05-24 11:45:19,358 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 11:45:19,789 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 11:45:19,850 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 11:45:20,106 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 11:45:20,125 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 11:45:20,130 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 11:45:20,137 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 11:45:20,142 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 11:45:20,148 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 11:49:15,726 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 58698ca4...
2025-05-24 11:49:16,810 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 11:49:16,816 - CatastoDB - INFO - Disconnessione completata
2025-05-24 11:49:16,822 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 11:49:16,829 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 11:49:16,846 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 11:49:23,872 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 11:49:23,991 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 11:49:24,098 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 11:49:29,746 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 11:49:30,004 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 11:49:30,015 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 411e814e...
2025-05-24 11:49:31,622 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 11:49:31,959 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 11:49:32,013 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 11:49:32,369 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 11:49:32,380 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 11:49:32,386 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 11:49:32,391 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 11:49:32,397 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 11:49:32,403 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 11:49:46,965 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 411e814e...
2025-05-24 11:49:48,034 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 11:49:48,042 - CatastoDB - INFO - Disconnessione completata
2025-05-24 11:49:48,048 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 11:49:48,057 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 11:49:48,072 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 11:52:43,513 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 11:52:43,670 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 11:52:43,784 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 11:52:49,769 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 11:52:50,029 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 11:52:50,043 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 7eeaed02...
2025-05-24 11:52:51,156 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 11:52:51,522 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 11:52:51,576 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 11:52:51,934 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 11:52:51,947 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 11:52:51,953 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 11:52:51,959 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 11:52:51,965 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 11:52:51,971 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 11:52:58,877 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 11:52:58,924 - CatastoDB_catasto_storico_localhost - DEBUG - Chiamata a catasto.ricerca_avanzata_immobili con parametri POSIZIONALI: (None, None, None, None, None, None, None, None, None, None, None, None)
2025-05-24 11:52:59,139 - CatastoDB_catasto_storico_localhost - INFO - Ricerca avanzata immobili ha restituito 7505 risultati.
2025-05-24 11:53:07,584 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 11:53:07,597 - CatastoDB_catasto_storico_localhost - DEBUG - Chiamata a catasto.ricerca_avanzata_immobili con parametri POSIZIONALI: (None, None, None, None, None, None, None, None, None, None, None, None)
2025-05-24 11:53:07,748 - CatastoDB_catasto_storico_localhost - INFO - Ricerca avanzata immobili ha restituito 7505 risultati.
2025-05-24 11:54:27,181 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 11:54:27,214 - CatastoDB_catasto_storico_localhost - DEBUG - Chiamata a catasto.ricerca_avanzata_immobili con parametri POSIZIONALI: (None, None, None, None, None, None, None, None, None, None, None, None)
2025-05-24 11:54:27,375 - CatastoDB_catasto_storico_localhost - INFO - Ricerca avanzata immobili ha restituito 7505 risultati.
2025-05-24 11:59:01,072 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 7eeaed02...
2025-05-24 11:59:02,091 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 11:59:02,098 - CatastoDB - INFO - Disconnessione completata
2025-05-24 11:59:02,103 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 11:59:02,108 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 11:59:02,128 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 11:59:09,119 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 11:59:09,232 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 11:59:09,340 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 11:59:14,567 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 11:59:14,824 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 11:59:14,834 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 4f974926...
2025-05-24 11:59:18,009 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 11:59:18,404 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 11:59:18,464 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 11:59:18,680 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 11:59:18,690 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 11:59:18,696 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 11:59:18,702 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 11:59:18,708 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 11:59:18,714 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 11:59:26,229 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 11:59:26,241 - CatastoDB_catasto_storico_localhost - DEBUG - Chiamata a catasto.ricerca_avanzata_immobili con parametri POSIZIONALI: (None, None, None, None, None, None, None, None, None, None, None, None)
2025-05-24 11:59:26,390 - CatastoDB_catasto_storico_localhost - INFO - Ricerca avanzata immobili ha restituito 7505 risultati.
2025-05-24 11:59:54,329 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 4f974926...
2025-05-24 11:59:55,244 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 11:59:55,252 - CatastoDB - INFO - Disconnessione completata
2025-05-24 11:59:55,258 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 11:59:55,263 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 11:59:55,282 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 12:00:06,959 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 12:00:07,108 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 12:00:07,218 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 12:00:13,341 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 12:00:13,602 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 12:00:13,615 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione a8b9c209...
2025-05-24 12:00:15,003 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 12:00:15,396 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 12:00:15,457 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 12:00:15,684 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 12:00:15,702 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 12:00:15,708 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 12:00:15,715 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 12:00:15,720 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 12:00:15,728 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 12:00:18,190 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 12:00:18,201 - CatastoDB_catasto_storico_localhost - DEBUG - Chiamata a catasto.ricerca_avanzata_immobili con parametri POSIZIONALI: (None, None, None, None, None, None, None, None, None, None, None, None)
2025-05-24 12:00:18,465 - CatastoDB_catasto_storico_localhost - INFO - Ricerca avanzata immobili ha restituito 7505 risultati.
2025-05-24 12:00:27,549 - CatastoDB - INFO - Ricerca avanzata possessori per 'rossi' (soglia: 0.3) ha prodotto 95 risultati.
2025-05-24 12:06:16,906 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione a8b9c209...
2025-05-24 12:06:18,127 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 12:06:18,144 - CatastoDB - INFO - Disconnessione completata
2025-05-24 12:06:18,171 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 12:06:18,177 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 12:06:18,196 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 13:09:46,896 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 13:09:47,069 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 13:09:47,177 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 13:09:54,240 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 13:09:54,500 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 13:09:54,512 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 8e65077a...
2025-05-24 13:09:54,517 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 13:09:54,533 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=8e65077a...
2025-05-24 13:09:55,656 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 13:09:55,979 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 13:09:56,049 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 13:09:56,270 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 13:09:56,287 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 13:09:56,293 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 13:09:56,298 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 13:09:56,304 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 13:09:56,310 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 13:15:53,472 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 13:15:53,621 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 13:15:53,729 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 13:15:59,330 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 13:15:59,591 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 13:15:59,603 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 0a08655f...
2025-05-24 13:15:59,608 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 13:15:59,621 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=0a08655f...
2025-05-24 13:16:00,516 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 13:16:00,861 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 13:16:01,038 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 13:16:01,249 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 13:16:01,260 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 13:16:01,266 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 13:16:01,272 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 13:16:01,281 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 13:16:01,287 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 13:16:51,660 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 13:16:51,775 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 13:16:51,883 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 13:16:56,236 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 13:16:56,493 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 13:16:56,503 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione f2d6f91b...
2025-05-24 13:16:56,509 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 13:16:56,522 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=f2d6f91b...
2025-05-24 13:16:57,715 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 13:16:58,054 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 13:16:58,119 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 13:16:58,338 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 13:16:58,350 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 13:16:58,355 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 13:16:58,361 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 13:16:58,368 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 13:16:58,374 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 13:17:00,078 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione f2d6f91b...
2025-05-24 13:17:01,265 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 13:17:01,271 - CatastoDB - INFO - Disconnessione completata
2025-05-24 13:17:01,278 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 13:17:01,283 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 13:17:01,305 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 16:07:39,035 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 16:07:39,286 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 16:07:39,504 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 16:07:47,202 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 16:07:47,464 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 16:07:47,480 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione ca4a8278...
2025-05-24 16:07:47,485 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 16:07:47,498 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=ca4a8278...
2025-05-24 16:07:48,959 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 16:07:49,296 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 16:07:49,358 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 16:07:49,575 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 16:07:49,589 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 16:07:49,595 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 16:07:49,601 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 16:07:49,607 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 16:07:49,613 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 16:07:52,406 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 16:07:52,418 - CatastoDB_catasto_storico_localhost - DEBUG - Chiamata a catasto.ricerca_avanzata_immobili con parametri POSIZIONALI: (None, None, None, None, None, None, None, None, None, None, None, None)
2025-05-24 16:07:52,597 - CatastoDB_catasto_storico_localhost - INFO - Ricerca avanzata immobili ha restituito 7500 risultati.
2025-05-24 16:09:20,942 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 16:09:21,057 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 16:09:21,162 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 16:09:26,255 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 16:09:26,506 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 16:09:26,519 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 0165829d...
2025-05-24 16:09:26,525 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 16:09:26,538 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=0165829d...
2025-05-24 16:09:27,304 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 16:09:27,631 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 16:09:27,694 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 16:09:27,906 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 16:09:27,918 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 16:09:27,924 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 16:09:27,929 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 16:09:27,935 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 16:09:27,943 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 16:09:30,913 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 16:09:30,928 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-24 16:09:30,955 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 0165829d...
2025-05-24 16:09:32,267 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 16:09:32,274 - CatastoDB - INFO - Disconnessione completata
2025-05-24 16:09:32,280 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 16:09:32,285 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 16:09:32,299 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 16:09:42,141 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 16:09:42,262 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 16:09:42,377 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 16:09:48,145 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 16:09:48,420 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 16:09:48,430 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione b74da74c...
2025-05-24 16:09:48,435 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 16:09:48,448 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=b74da74c...
2025-05-24 16:09:49,520 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 16:09:49,836 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 16:09:49,901 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 16:09:50,116 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 16:09:50,126 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 16:09:50,133 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 16:09:50,139 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 16:09:50,145 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 16:09:50,150 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 16:10:04,983 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 16:10:04,995 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-24 16:10:05,010 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione b74da74c...
2025-05-24 16:10:06,191 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 16:10:06,197 - CatastoDB - INFO - Disconnessione completata
2025-05-24 16:10:06,203 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 16:10:06,208 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 16:10:06,229 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 16:18:32,066 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 16:18:32,217 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 16:18:32,333 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 16:18:37,505 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 16:18:37,760 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 16:18:37,774 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 3f63eb10...
2025-05-24 16:18:37,780 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 16:18:37,794 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=3f63eb10...
2025-05-24 16:18:39,203 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 16:18:39,550 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 16:21:30,589 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 16:21:30,698 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 16:21:30,916 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 16:21:35,978 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 16:21:36,237 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 16:21:36,248 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 4df6c89f...
2025-05-24 16:21:36,253 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 16:21:36,265 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=4df6c89f...
2025-05-24 16:21:37,132 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 16:21:37,463 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 16:21:37,587 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 16:21:37,599 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T16:21:37.485000'::timestamp AND timestamp <= '2025-05-24T16:21:37.485000'::timestamp;
2025-05-24 16:21:37,621 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T16:21:37.485000'::timestamp AND timestamp <= '2025-05-24T16:21:37.485000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 16:21:37,665 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 16:21:37,819 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 16:21:38,071 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 16:21:38,194 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 16:21:38,206 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T16:21:38.094000'::timestamp AND timestamp <= '2025-05-24T16:21:38.094000'::timestamp;
2025-05-24 16:21:38,220 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T16:21:38.094000'::timestamp AND timestamp <= '2025-05-24T16:21:38.094000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 16:21:38,243 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 16:21:38,346 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 16:21:38,352 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 16:21:38,358 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 16:21:38,363 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 16:21:38,369 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 16:22:27,103 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 16:22:27,114 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-01T16:21:38.082000'::timestamp AND timestamp <= '2025-05-24T16:21:38.082000'::timestamp;
2025-05-24 16:22:27,130 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-01T16:21:38.082000'::timestamp AND timestamp <= '2025-05-24T16:21:38.082000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 16:22:27,155 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 16:22:50,124 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 16:22:50,136 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE operazione = 'I' AND timestamp >= '2025-05-01T16:21:38.082000'::timestamp AND timestamp <= '2025-05-24T16:21:38.082000'::timestamp;
2025-05-24 16:22:50,155 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE operazione = 'I' AND timestamp >= '2025-05-01T16:21:38.082000'::timestamp AND timestamp <= '2025-05-24T16:21:38.082000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 16:22:50,180 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 142). Totale filtrati: 14150
2025-05-24 16:34:51,618 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 147, in _get_connection
    try:
    
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-24 16:34:51,709 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-24 16:34:51,722 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-24 16:34:51,737 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-24 16:34:51,756 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 4df6c89f...
2025-05-24 16:34:52,954 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 16:34:52,960 - CatastoDB - INFO - Disconnessione completata
2025-05-24 16:34:52,967 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 16:34:52,972 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 16:34:52,987 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 16:34:58,603 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 16:34:58,720 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 16:34:58,967 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 16:35:04,259 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 16:35:04,514 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 16:35:04,526 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione fccbce2a...
2025-05-24 16:35:04,532 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 16:35:04,545 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=fccbce2a...
2025-05-24 16:35:05,433 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 16:35:05,760 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 16:35:05,891 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 16:35:05,903 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T16:35:05.786000'::timestamp AND timestamp <= '2025-05-24T16:35:05.786000'::timestamp;
2025-05-24 16:35:05,917 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T16:35:05.786000'::timestamp AND timestamp <= '2025-05-24T16:35:05.786000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 16:35:05,942 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 16:35:06,098 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 16:35:06,355 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 16:35:06,595 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 16:35:06,606 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T16:35:06.376000'::timestamp AND timestamp <= '2025-05-24T16:35:06.376000'::timestamp;
2025-05-24 16:35:06,621 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T16:35:06.376000'::timestamp AND timestamp <= '2025-05-24T16:35:06.376000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 16:35:06,646 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 16:35:06,763 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 16:35:06,769 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 16:35:06,774 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 16:35:06,780 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 16:35:06,786 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 16:37:24,795 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 16:37:24,808 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-24 16:37:24,825 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione fccbce2a...
2025-05-24 16:37:25,914 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 16:37:25,921 - CatastoDB - INFO - Disconnessione completata
2025-05-24 16:37:25,929 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 16:37:25,935 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 16:37:25,951 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 16:50:01,950 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 16:50:02,210 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 16:50:02,346 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 16:50:07,609 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 16:50:07,867 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 16:50:07,887 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione c62da4fb...
2025-05-24 16:50:07,892 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 16:50:07,904 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=c62da4fb...
2025-05-24 16:50:09,032 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 16:50:09,377 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 16:50:09,505 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 16:50:09,518 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T16:50:09.403000'::timestamp AND timestamp <= '2025-05-24T16:50:09.403000'::timestamp;
2025-05-24 16:50:09,545 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T16:50:09.403000'::timestamp AND timestamp <= '2025-05-24T16:50:09.403000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 16:50:09,587 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 16:50:09,758 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 16:50:10,015 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 16:50:10,145 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 16:50:10,156 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T16:50:10.033000'::timestamp AND timestamp <= '2025-05-24T16:50:10.033000'::timestamp;
2025-05-24 16:50:10,176 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T16:50:10.033000'::timestamp AND timestamp <= '2025-05-24T16:50:10.033000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 16:50:10,208 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 16:50:10,323 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 16:50:10,329 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 16:50:10,334 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 16:50:10,340 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 16:50:10,346 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 16:55:20,552 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 16:55:20,697 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 16:55:20,804 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 16:55:26,860 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 16:55:27,121 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 16:55:27,144 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione c9dc7402...
2025-05-24 16:55:27,150 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 16:55:27,163 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=c9dc7402...
2025-05-24 16:55:28,010 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 16:55:28,349 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 16:55:28,472 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 16:55:28,483 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T16:55:28.370000'::timestamp AND timestamp <= '2025-05-24T16:55:28.370000'::timestamp;
2025-05-24 16:55:28,499 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T16:55:28.370000'::timestamp AND timestamp <= '2025-05-24T16:55:28.370000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 16:55:28,536 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 16:55:28,705 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 16:55:28,965 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 16:55:29,085 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 16:55:29,097 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T16:55:28.980000'::timestamp AND timestamp <= '2025-05-24T16:55:28.980000'::timestamp;
2025-05-24 16:55:29,112 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T16:55:28.980000'::timestamp AND timestamp <= '2025-05-24T16:55:28.980000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 16:55:29,138 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 16:55:29,248 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 16:55:29,254 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 16:55:29,259 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 16:55:29,265 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 16:55:29,271 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 16:55:38,712 - CatastoDB_catasto_storico_localhost - INFO - Trovato eseguibile 'pg_dump' in: C:\Program Files\PostgreSQL\17\bin\pg_dump.EXE
2025-05-24 16:55:38,724 - CatastoDB_catasto_storico_localhost - INFO - Comando di backup preparato: C:\Program Files\PostgreSQL\17\bin\pg_dump.EXE -U postgres -h localhost -p 5432 -Fc --file U:/catasto/gemini/catasto_storico_backup_20250524_165534.dump --blobs --verbose catasto_storico
2025-05-24 17:04:48,492 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 17:04:48,606 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 17:04:48,718 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 17:04:54,525 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 17:04:54,779 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 17:04:54,790 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 3abab9ae...
2025-05-24 17:04:54,796 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 17:04:54,811 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=3abab9ae...
2025-05-24 17:04:55,659 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 17:04:55,978 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 17:04:56,105 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 17:04:56,117 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T17:04:56'::timestamp AND timestamp <= '2025-05-24T17:04:56'::timestamp;
2025-05-24 17:04:56,133 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T17:04:56'::timestamp AND timestamp <= '2025-05-24T17:04:56'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 17:04:56,166 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 17:04:56,492 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 17:04:56,881 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 17:04:56,999 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 17:04:57,011 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T17:04:56.900000'::timestamp AND timestamp <= '2025-05-24T17:04:56.900000'::timestamp;
2025-05-24 17:04:57,025 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T17:04:56.900000'::timestamp AND timestamp <= '2025-05-24T17:04:56.900000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 17:04:57,051 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 17:04:57,169 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 17:04:57,175 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 17:04:57,181 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 17:04:57,187 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 17:04:57,193 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 17:05:25,046 - CatastoDB_catasto_storico_localhost - INFO - Trovato eseguibile 'pg_dump' in: C:\Program Files\PostgreSQL\17\bin\pg_dump.EXE
2025-05-24 17:05:25,058 - CatastoDB_catasto_storico_localhost - INFO - Comando di backup preparato: C:\Program Files\PostgreSQL\17\bin\pg_dump.EXE -U postgres -h localhost -p 5432 -Fc --file C:/Users/ipabcrmm/Downloads/catasto_storico_backup_20250524_170503.dump --blobs --verbose catasto_storico
2025-05-24 17:08:57,743 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 17:08:57,756 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-24 17:08:57,772 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 3abab9ae...
2025-05-24 17:08:58,980 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 17:08:58,986 - CatastoDB - INFO - Disconnessione completata
2025-05-24 17:08:58,993 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 17:08:58,999 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 17:08:59,015 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 17:35:50,489 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 17:35:50,654 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 17:35:50,760 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 17:35:56,692 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 17:35:56,946 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 17:35:56,967 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 7f1bb61f...
2025-05-24 17:35:56,978 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 17:35:56,991 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=7f1bb61f...
2025-05-24 17:35:58,000 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 17:35:58,339 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 17:35:58,470 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 17:35:58,482 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T17:35:58.360000'::timestamp AND timestamp <= '2025-05-24T17:35:58.360000'::timestamp;
2025-05-24 17:35:58,507 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T17:35:58.360000'::timestamp AND timestamp <= '2025-05-24T17:35:58.360000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 17:35:58,552 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 17:35:58,889 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 17:35:59,184 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 17:35:59,319 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 17:35:59,330 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T17:35:59.205000'::timestamp AND timestamp <= '2025-05-24T17:35:59.205000'::timestamp;
2025-05-24 17:35:59,345 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T17:35:59.205000'::timestamp AND timestamp <= '2025-05-24T17:35:59.205000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 17:35:59,369 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 17:35:59,502 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 17:35:59,507 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 17:35:59,512 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 17:35:59,517 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 17:35:59,523 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 17:36:14,008 - CatastoDB_catasto_storico_localhost - INFO - Trovato eseguibile 'pg_dump' in: .\pg_dump.EXE
2025-05-24 17:36:14,022 - CatastoDB_catasto_storico_localhost - INFO - Trovato eseguibile 'pg_dump' in: .\pg_dump.EXE
2025-05-24 17:36:14,034 - CatastoDB_catasto_storico_localhost - INFO - Comando di backup preparato: .\pg_dump.EXE -U postgres -h localhost -p 5432 -Fc --file U:/catasto/gemini/catasto_storico_backup_20250524_173605.dump catasto_storico
2025-05-24 18:53:18,521 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 18:53:18,639 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 18:53:18,748 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 18:53:25,718 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 18:53:25,977 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 18:53:25,990 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione ac093f0b...
2025-05-24 18:53:25,996 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 18:53:26,009 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=ac093f0b...
2025-05-24 18:53:28,392 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 18:53:28,750 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 18:53:28,885 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 18:53:28,896 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T18:53:28.776000'::timestamp AND timestamp <= '2025-05-24T18:53:28.776000'::timestamp;
2025-05-24 18:53:28,911 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T18:53:28.776000'::timestamp AND timestamp <= '2025-05-24T18:53:28.776000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 18:53:28,942 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 18:53:29,240 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 18:53:29,669 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 18:53:29,790 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 18:53:29,802 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T18:53:29.689000'::timestamp AND timestamp <= '2025-05-24T18:53:29.689000'::timestamp;
2025-05-24 18:53:29,818 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T18:53:29.689000'::timestamp AND timestamp <= '2025-05-24T18:53:29.689000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 18:53:29,843 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 18:53:29,952 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 18:53:29,958 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 18:53:29,964 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 18:53:29,969 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 18:53:29,975 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 18:53:53,789 - CatastoDB_catasto_storico_localhost - INFO - Trovato eseguibile 'pg_dump' in: .\pg_dump.EXE
2025-05-24 18:53:53,803 - CatastoDB_catasto_storico_localhost - INFO - Trovato eseguibile 'pg_dump' in: .\pg_dump.EXE
2025-05-24 18:53:53,816 - CatastoDB_catasto_storico_localhost - INFO - Comando di backup preparato: .\pg_dump.EXE -U postgres -h localhost -p 5432 -Fc --file U:/catasto/gemini/catasto_storico_backup_20250524_185337.dump catasto_storico
2025-05-24 18:55:02,345 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 18:55:02,357 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-24 18:55:02,375 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione ac093f0b...
2025-05-24 18:55:03,445 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 18:55:03,458 - CatastoDB - INFO - Disconnessione completata
2025-05-24 18:55:03,463 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 18:55:03,469 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 18:55:03,487 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 19:01:08,347 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 19:01:08,498 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 19:01:08,604 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 19:01:15,141 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 19:01:15,395 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 19:01:15,416 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 2ec4e9e7...
2025-05-24 19:01:15,422 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:01:15,434 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=2ec4e9e7...
2025-05-24 19:01:16,369 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 19:01:16,736 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 19:01:16,973 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:01:16,985 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T19:01:16.761000'::timestamp AND timestamp <= '2025-05-24T19:01:16.761000'::timestamp;
2025-05-24 19:01:17,002 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T19:01:16.761000'::timestamp AND timestamp <= '2025-05-24T19:01:16.761000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 19:01:17,034 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 19:01:17,356 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 19:01:17,755 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 19:01:17,870 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:01:17,881 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T19:01:17.771000'::timestamp AND timestamp <= '2025-05-24T19:01:17.771000'::timestamp;
2025-05-24 19:01:17,909 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T19:01:17.771000'::timestamp AND timestamp <= '2025-05-24T19:01:17.771000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 19:01:17,969 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 19:01:18,118 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 19:01:18,130 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 19:01:18,135 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 19:01:18,141 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 19:01:18,146 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 19:01:29,764 - CatastoDB_catasto_storico_localhost - INFO - Trovato eseguibile 'pg_dump' in: .\pg_dump.EXE
2025-05-24 19:01:29,776 - CatastoDB_catasto_storico_localhost - INFO - Trovato eseguibile 'pg_dump' in: .\pg_dump.EXE
2025-05-24 19:01:29,787 - CatastoDB_catasto_storico_localhost - INFO - Comando di backup preparato: .\pg_dump.EXE -U postgres -h localhost -p 5432 -Fc --file U:/catasto/gemini/catasto_storico_backup_20250524_190124.dump catasto_storico
2025-05-24 19:10:09,393 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 19:10:09,541 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 19:10:09,666 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 19:10:15,702 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 19:10:15,962 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 19:10:15,983 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione b5272b44...
2025-05-24 19:10:15,990 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:10:16,002 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=b5272b44...
2025-05-24 19:10:17,682 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 19:10:18,017 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 19:10:18,143 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:10:18,155 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T19:10:18.039000'::timestamp AND timestamp <= '2025-05-24T19:10:18.039000'::timestamp;
2025-05-24 19:10:18,173 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T19:10:18.039000'::timestamp AND timestamp <= '2025-05-24T19:10:18.039000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 19:10:18,204 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 19:10:18,625 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 19:10:18,886 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 19:10:19,006 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:10:19,018 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T19:10:18.910000'::timestamp AND timestamp <= '2025-05-24T19:10:18.910000'::timestamp;
2025-05-24 19:10:19,033 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T19:10:18.910000'::timestamp AND timestamp <= '2025-05-24T19:10:18.910000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 19:10:19,058 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 19:10:19,166 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 19:10:19,172 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 19:10:19,178 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 19:10:19,184 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 19:10:19,189 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 19:10:40,268 - CatastoDB_catasto_storico_localhost - INFO - Trovato eseguibile 'pg_dump' in: .\pg_dump.EXE
2025-05-24 19:10:40,280 - CatastoDB_catasto_storico_localhost - INFO - Trovato eseguibile 'pg_dump' in: .\pg_dump.EXE
2025-05-24 19:10:40,290 - CatastoDB_catasto_storico_localhost - INFO - Comando di backup preparato: .\pg_dump.EXE -U postgres -h localhost -p 5432 -Fc --file U:/catasto/gemini/catasto_storico_backup_20250524_1915.dump catasto_storico
2025-05-24 19:15:26,073 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:15:26,085 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-24 19:15:26,105 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione b5272b44...
2025-05-24 19:15:27,064 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 19:15:27,070 - CatastoDB - INFO - Disconnessione completata
2025-05-24 19:15:27,075 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 19:15:27,081 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 19:15:27,094 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 19:15:34,955 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 19:15:35,077 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 19:15:35,186 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 19:15:50,154 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 19:15:50,412 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 19:15:50,423 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione eec439cc...
2025-05-24 19:15:50,429 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:15:50,442 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=eec439cc...
2025-05-24 19:15:51,281 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 19:15:51,728 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 19:15:51,972 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:15:51,984 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T19:15:51.749000'::timestamp AND timestamp <= '2025-05-24T19:15:51.749000'::timestamp;
2025-05-24 19:15:51,999 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T19:15:51.749000'::timestamp AND timestamp <= '2025-05-24T19:15:51.749000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 19:15:52,024 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 19:15:52,308 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 19:15:52,609 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 19:15:52,726 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:15:52,738 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T19:15:52.629000'::timestamp AND timestamp <= '2025-05-24T19:15:52.629000'::timestamp;
2025-05-24 19:15:52,754 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T19:15:52.629000'::timestamp AND timestamp <= '2025-05-24T19:15:52.629000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 19:15:52,778 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 19:15:52,887 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 19:15:52,893 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 19:15:52,898 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 19:15:52,904 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 19:15:52,909 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 19:16:19,335 - CatastoDB_catasto_storico_localhost - INFO - Comando di backup preparato: C:\Program Files\PostgreSQL\17\bin\pg_dump.EXE -U postgres -h localhost -p 5432 -Fc --file U:/catasto/gemini/catasto_storico_backup_20250524_199.dump catasto_storico
2025-05-24 19:20:26,640 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 19:20:26,751 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 19:20:26,981 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 19:20:31,470 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 19:20:31,726 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 19:20:31,737 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 9f8027b7...
2025-05-24 19:20:31,742 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:20:31,755 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=9f8027b7...
2025-05-24 19:20:32,450 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 19:20:32,777 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 19:20:32,897 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:20:32,909 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T19:20:32.797000'::timestamp AND timestamp <= '2025-05-24T19:20:32.797000'::timestamp;
2025-05-24 19:20:32,924 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T19:20:32.797000'::timestamp AND timestamp <= '2025-05-24T19:20:32.797000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 19:20:32,954 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 19:20:33,268 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 19:20:33,525 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 19:20:33,648 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:20:33,660 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T19:20:33.547000'::timestamp AND timestamp <= '2025-05-24T19:20:33.547000'::timestamp;
2025-05-24 19:20:33,674 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T19:20:33.547000'::timestamp AND timestamp <= '2025-05-24T19:20:33.547000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 19:20:33,698 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 19:20:33,809 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 19:20:33,815 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 19:20:33,821 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 19:20:33,827 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 19:20:33,833 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 19:21:06,662 - CatastoDB_catasto_storico_localhost - INFO - Trovato eseguibile 'pg_dump' in: .\pg_dump.EXE
2025-05-24 19:21:06,677 - CatastoDB_catasto_storico_localhost - INFO - Trovato eseguibile 'pg_dump' in: .\pg_dump.EXE
2025-05-24 19:21:06,688 - CatastoDB_catasto_storico_localhost - INFO - Comando di backup preparato: .\pg_dump.EXE -U postgres -h localhost -p 5432 -Fc --file U:/catasto/gemini/catasto_storico_backup_20250524_199.dump catasto_storico
2025-05-24 19:21:32,903 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:21:32,916 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-24 19:21:32,932 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 9f8027b7...
2025-05-24 19:21:33,968 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 19:21:33,974 - CatastoDB - INFO - Disconnessione completata
2025-05-24 19:21:33,980 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 19:21:33,985 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 19:21:34,005 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 19:21:39,945 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 19:21:40,061 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 19:21:40,173 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 19:21:44,391 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 19:21:44,644 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 19:21:44,654 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 40b59d0a...
2025-05-24 19:21:44,659 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:21:44,672 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=40b59d0a...
2025-05-24 19:21:45,431 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 19:21:45,778 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 19:21:45,919 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:21:45,932 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T19:21:45.818000'::timestamp AND timestamp <= '2025-05-24T19:21:45.818000'::timestamp;
2025-05-24 19:21:45,947 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T19:21:45.818000'::timestamp AND timestamp <= '2025-05-24T19:21:45.818000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 19:21:45,970 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 19:21:46,271 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 19:21:46,544 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 19:21:46,668 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:21:46,694 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T19:21:46.563000'::timestamp AND timestamp <= '2025-05-24T19:21:46.563000'::timestamp;
2025-05-24 19:21:46,708 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T19:21:46.563000'::timestamp AND timestamp <= '2025-05-24T19:21:46.563000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 19:21:46,732 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 19:21:46,859 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 19:21:46,875 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 19:21:46,881 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 19:21:46,886 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 19:21:46,892 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 19:22:39,259 - CatastoDB_catasto_storico_localhost - INFO - Comando di backup preparato: C:\Program Files\PostgreSQL\17\bin\pg_dump.EXE -U postgres -h localhost -p 5432 -Fc --file U:/catasto/gemini/catasto_storico_backup_20250524_199.dump catasto_storico
2025-05-24 19:27:43,535 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:27:43,548 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-24 19:27:43,562 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 40b59d0a...
2025-05-24 19:27:44,681 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 19:27:44,687 - CatastoDB - INFO - Disconnessione completata
2025-05-24 19:27:44,692 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 19:27:44,698 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 19:27:44,713 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 19:27:54,339 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 19:27:54,592 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 19:27:54,699 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 19:27:59,178 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 19:27:59,432 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 19:27:59,441 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 52549ace...
2025-05-24 19:27:59,447 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:27:59,460 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=52549ace...
2025-05-24 19:28:00,246 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 19:28:00,596 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 19:28:00,718 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:28:00,730 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T19:28:00.617000'::timestamp AND timestamp <= '2025-05-24T19:28:00.617000'::timestamp;
2025-05-24 19:28:00,744 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T19:28:00.617000'::timestamp AND timestamp <= '2025-05-24T19:28:00.617000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 19:28:00,768 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 19:28:01,065 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 19:28:01,454 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 19:28:01,583 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:28:01,594 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T19:28:01.472000'::timestamp AND timestamp <= '2025-05-24T19:28:01.472000'::timestamp;
2025-05-24 19:28:01,610 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T19:28:01.472000'::timestamp AND timestamp <= '2025-05-24T19:28:01.472000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 19:28:01,634 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 19:28:01,750 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 19:28:01,756 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 19:28:01,761 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 19:28:01,768 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 19:28:01,774 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 19:29:32,185 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 19:29:32,312 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 19:29:32,417 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 19:29:37,124 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 19:29:37,380 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 19:29:37,410 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione dfcefc22...
2025-05-24 19:29:37,416 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:29:37,428 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=dfcefc22...
2025-05-24 19:29:38,136 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 19:29:38,465 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 19:29:38,588 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:29:38,600 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T19:29:38.486000'::timestamp AND timestamp <= '2025-05-24T19:29:38.486000'::timestamp;
2025-05-24 19:29:38,616 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T19:29:38.486000'::timestamp AND timestamp <= '2025-05-24T19:29:38.486000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 19:29:38,647 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 19:29:38,946 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 19:29:39,238 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 19:29:39,358 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:29:39,370 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T19:29:39.261000'::timestamp AND timestamp <= '2025-05-24T19:29:39.261000'::timestamp;
2025-05-24 19:29:39,394 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T19:29:39.261000'::timestamp AND timestamp <= '2025-05-24T19:29:39.261000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 19:29:39,432 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 19:29:39,549 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 19:29:39,555 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 19:29:39,561 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 19:29:39,567 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 19:29:39,572 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 19:29:53,909 - CatastoDB_catasto_storico_localhost - INFO - Trovato eseguibile 'pg_dump.exe' nel PATH di sistema: .\pg_dump.exe
2025-05-24 19:29:53,921 - CatastoDB_catasto_storico_localhost - INFO - Comando di backup preparato: .\pg_dump.exe -U postgres -h localhost -p 5432 -Fc --file U:/catasto/gemini/catasto_storico_backup_20250524_199.dump catasto_storico
2025-05-24 19:30:47,017 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:30:47,029 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-24 19:30:47,047 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione dfcefc22...
2025-05-24 19:30:48,080 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 19:30:48,087 - CatastoDB - INFO - Disconnessione completata
2025-05-24 19:30:48,092 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 19:30:48,098 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 19:30:48,121 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 19:30:54,763 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 19:30:54,879 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 19:30:54,986 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 19:30:59,844 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 19:31:00,097 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 19:31:00,107 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione bc144701...
2025-05-24 19:31:00,113 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:31:00,126 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=bc144701...
2025-05-24 19:31:01,563 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 19:31:01,886 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 19:31:02,005 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:31:02,017 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T19:31:01.904000'::timestamp AND timestamp <= '2025-05-24T19:31:01.904000'::timestamp;
2025-05-24 19:31:02,032 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T19:31:01.904000'::timestamp AND timestamp <= '2025-05-24T19:31:01.904000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 19:31:02,055 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 19:31:02,369 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 19:31:02,666 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 19:31:02,794 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:31:02,806 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T19:31:02.690000'::timestamp AND timestamp <= '2025-05-24T19:31:02.690000'::timestamp;
2025-05-24 19:31:02,820 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T19:31:02.690000'::timestamp AND timestamp <= '2025-05-24T19:31:02.690000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 19:31:02,856 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 19:31:02,970 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 19:31:02,976 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 19:31:02,982 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 19:31:02,988 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 19:31:02,994 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 19:31:17,855 - CatastoDB_catasto_storico_localhost - INFO - Utilizzo del percorso eseguibile fornito dall'utente: C:\Program Files\PostgreSQL\17\bin\pg_dump.EXE
2025-05-24 19:31:17,867 - CatastoDB_catasto_storico_localhost - INFO - Comando di backup preparato: C:\Program Files\PostgreSQL\17\bin\pg_dump.EXE -U postgres -h localhost -p 5432 -Fc --file U:/catasto/gemini/catasto_storico_backup_20250524_199.dump catasto_storico
2025-05-24 19:36:36,287 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:36:36,303 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-24 19:36:36,320 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione bc144701...
2025-05-24 19:36:37,535 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 19:36:37,542 - CatastoDB - INFO - Disconnessione completata
2025-05-24 19:36:37,548 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 19:36:37,560 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 19:36:37,575 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 19:37:25,138 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 19:37:25,252 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 19:37:25,360 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 19:37:30,615 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 19:37:30,878 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 19:37:30,890 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione c3a55097...
2025-05-24 19:37:30,900 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:37:30,912 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=c3a55097...
2025-05-24 19:37:31,746 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 19:37:32,111 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 19:37:32,237 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:37:32,249 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T19:37:32.140000'::timestamp AND timestamp <= '2025-05-24T19:37:32.140000'::timestamp;
2025-05-24 19:37:32,275 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T19:37:32.140000'::timestamp AND timestamp <= '2025-05-24T19:37:32.140000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 19:37:32,311 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 19:44:00,975 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 19:44:01,127 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 19:44:01,237 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 19:44:07,557 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 19:44:07,817 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 19:44:07,842 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 106c08dd...
2025-05-24 19:44:07,848 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:44:07,861 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=106c08dd...
2025-05-24 19:44:08,701 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 19:44:09,037 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 19:44:09,162 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:44:09,173 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T19:44:09.059000'::timestamp AND timestamp <= '2025-05-24T19:44:09.059000'::timestamp;
2025-05-24 19:44:09,199 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T19:44:09.059000'::timestamp AND timestamp <= '2025-05-24T19:44:09.059000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 19:44:09,238 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 19:44:09,534 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 19:44:09,818 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 19:44:09,944 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:44:09,959 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T19:44:09.839000'::timestamp AND timestamp <= '2025-05-24T19:44:09.839000'::timestamp;
2025-05-24 19:44:09,973 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T19:44:09.839000'::timestamp AND timestamp <= '2025-05-24T19:44:09.839000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 19:44:09,999 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 19:44:10,115 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 19:44:10,122 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 19:44:10,128 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 19:44:10,136 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 19:44:10,142 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 19:45:46,191 - CatastoDB_catasto_storico_localhost - INFO - Utilizzo del percorso eseguibile fornito dall'utente: C:\Program Files\PostgreSQL\17\bin\pg_dump.EXE
2025-05-24 19:45:46,203 - CatastoDB_catasto_storico_localhost - INFO - Comando di backup preparato: C:\Program Files\PostgreSQL\17\bin\pg_dump.EXE -U postgres -h localhost -p 5432 -Fc --file U:/catasto/gemini/test_manuale_definitivo.dump catasto_storico
2025-05-24 19:46:15,865 - CatastoDB_catasto_storico_localhost - INFO - Trovato eseguibile 'pg_restore.exe' nel PATH di sistema: C:\Program Files\PostgreSQL\17\bin\pg_restore.exe
2025-05-24 19:46:15,877 - CatastoDB_catasto_storico_localhost - INFO - Comando di ripristino preparato: C:\Program Files\PostgreSQL\17\bin\pg_restore.exe -U postgres -h localhost -p 5432 -d catasto_storico --clean --if-exists --verbose U:/catasto/gemini/test_manuale_definitivo.dump
2025-05-24 19:46:39,840 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:46:39,855 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-24 19:46:39,870 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 106c08dd...
2025-05-24 19:46:49,927 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 19:46:49,933 - CatastoDB - INFO - Disconnessione completata
2025-05-24 19:46:49,939 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 19:46:49,945 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 19:46:49,960 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 19:46:55,788 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 19:46:55,912 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 19:46:56,019 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 19:47:01,690 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 19:47:01,956 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 19:47:01,969 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 4a8ddbe7...
2025-05-24 19:47:01,975 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:47:01,987 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=4a8ddbe7...
2025-05-24 19:47:03,342 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 19:47:03,693 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 19:47:03,816 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:47:03,827 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T19:47:03.719000'::timestamp AND timestamp <= '2025-05-24T19:47:03.719000'::timestamp;
2025-05-24 19:47:03,842 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T19:47:03.719000'::timestamp AND timestamp <= '2025-05-24T19:47:03.719000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 19:47:03,866 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 19:47:04,159 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 19:47:04,551 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 19:47:04,768 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:47:04,780 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T19:47:04.574000'::timestamp AND timestamp <= '2025-05-24T19:47:04.574000'::timestamp;
2025-05-24 19:47:04,797 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T19:47:04.574000'::timestamp AND timestamp <= '2025-05-24T19:47:04.574000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 19:47:04,825 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 19:47:04,942 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 19:47:04,948 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 19:47:04,954 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 19:47:04,960 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 19:47:04,965 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 19:47:28,834 - CatastoDB_catasto_storico_localhost - INFO - Utilizzo del percorso eseguibile fornito dall'utente: C:\Program Files\PostgreSQL\17\bin\pg_dump.EXE
2025-05-24 19:47:28,846 - CatastoDB_catasto_storico_localhost - INFO - Comando di ripristino preparato: C:\Program Files\PostgreSQL\17\bin\pg_dump.EXE -U postgres -h localhost -p 5432 -d catasto_storico --clean --if-exists --verbose U:/catasto/gemini/test_manuale_definitivo.dump
2025-05-24 19:49:24,296 - CatastoDB_catasto_storico_localhost - INFO - Utilizzo del percorso eseguibile fornito dall'utente: C:\Program Files\PostgreSQL\17\bin\pg_restore.EXE
2025-05-24 19:49:24,307 - CatastoDB_catasto_storico_localhost - INFO - Comando di ripristino preparato: C:\Program Files\PostgreSQL\17\bin\pg_restore.EXE -U postgres -h localhost -p 5432 -d catasto_storico --clean --if-exists --verbose U:/catasto/gemini/test_manuale_definitivo.dump
2025-05-24 19:50:54,278 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:50:54,292 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-24 19:50:54,307 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 4a8ddbe7...
2025-05-24 19:51:06,129 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 19:51:06,135 - CatastoDB - INFO - Disconnessione completata
2025-05-24 19:51:06,143 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 19:51:06,150 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 19:51:06,164 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 19:51:14,898 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 19:51:15,012 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 19:51:15,121 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 19:51:19,499 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 19:51:19,754 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 19:51:19,766 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione fd3aa817...
2025-05-24 19:51:19,772 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:51:19,786 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=fd3aa817...
2025-05-24 19:51:21,306 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 19:51:21,649 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 19:51:21,768 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:51:21,779 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T19:51:21.670000'::timestamp AND timestamp <= '2025-05-24T19:51:21.670000'::timestamp;
2025-05-24 19:51:21,798 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T19:51:21.670000'::timestamp AND timestamp <= '2025-05-24T19:51:21.670000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 19:51:21,828 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 19:51:22,143 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 19:51:22,545 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 19:51:22,765 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:51:22,776 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T19:51:22.552000'::timestamp AND timestamp <= '2025-05-24T19:51:22.552000'::timestamp;
2025-05-24 19:51:22,794 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T19:51:22.552000'::timestamp AND timestamp <= '2025-05-24T19:51:22.552000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 19:51:22,821 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 19:51:22,958 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 19:51:22,964 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 19:51:22,970 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 19:51:22,976 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 19:51:22,982 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 19:51:43,311 - CatastoDB_catasto_storico_localhost - INFO - Trovato eseguibile 'pg_restore.exe' nel PATH di sistema: C:\Program Files\PostgreSQL\17\bin\pg_restore.exe
2025-05-24 19:51:43,338 - CatastoDB_catasto_storico_localhost - INFO - Comando di ripristino preparato: C:\Program Files\PostgreSQL\17\bin\pg_restore.exe -U postgres -h localhost -p 5432 -d catasto_storico --clean --if-exists --verbose U:/catasto/gemini/catasto_storico_backup_20250524_199.dump
2025-05-24 19:55:05,379 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 19:55:05,391 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-24 19:55:05,409 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione fd3aa817...
2025-05-24 19:55:06,507 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 19:55:06,516 - CatastoDB - INFO - Disconnessione completata
2025-05-24 19:55:06,521 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 19:55:06,529 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 19:55:06,547 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 20:15:57,667 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 20:16:06,076 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 20:16:06,268 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 20:16:15,095 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 20:16:15,401 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 20:16:15,480 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 44a33259...
2025-05-24 20:16:15,536 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 20:16:15,653 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=44a33259...
2025-05-24 20:16:16,820 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 20:16:18,109 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-24 20:16:18,157 - CatastoDB - INFO - Rollback eseguito.
2025-05-24 20:16:18,207 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-24 20:16:18,257 - CatastoDB - INFO - Rollback eseguito.
2025-05-24 20:16:18,339 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 20:16:18,505 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 20:16:18,602 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T20:16:18.400000'::timestamp AND timestamp <= '2025-05-24T20:16:18.400000'::timestamp;
2025-05-24 20:16:18,725 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T20:16:18.400000'::timestamp AND timestamp <= '2025-05-24T20:16:18.400000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 20:16:18,860 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 20:16:20,227 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 20:16:20,534 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-24 20:16:20,588 - CatastoDB - INFO - Rollback eseguito.
2025-05-24 20:16:20,642 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-24 20:16:20,697 - CatastoDB - INFO - Rollback eseguito.
2025-05-24 20:16:20,764 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 20:16:20,970 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 20:16:21,078 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T20:16:20.832000'::timestamp AND timestamp <= '2025-05-24T20:16:20.832000'::timestamp;
2025-05-24 20:16:21,191 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T20:16:20.832000'::timestamp AND timestamp <= '2025-05-24T20:16:20.832000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 20:16:21,331 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 20:16:21,552 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 20:16:21,607 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 20:16:21,661 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 20:16:21,716 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 20:16:21,773 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 20:17:10,782 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 20:17:10,942 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-24 20:17:11,103 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 44a33259...
2025-05-24 20:17:12,295 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 20:17:12,379 - CatastoDB - INFO - Disconnessione completata
2025-05-24 20:17:12,461 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 20:17:12,545 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 20:17:12,654 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 20:23:20,012 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 20:23:20,256 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 20:23:20,476 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 20:23:32,774 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 20:23:33,050 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 20:23:33,093 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 60a2ee2f...
2025-05-24 20:23:33,119 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 20:23:33,174 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=60a2ee2f...
2025-05-24 20:23:34,627 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 20:23:35,659 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-24 20:23:35,688 - CatastoDB - INFO - Rollback eseguito.
2025-05-24 20:23:35,718 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-24 20:23:35,777 - CatastoDB - INFO - Rollback eseguito.
2025-05-24 20:23:35,816 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 20:23:35,955 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 20:23:36,012 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T20:23:35.861000'::timestamp AND timestamp <= '2025-05-24T20:23:35.861000'::timestamp;
2025-05-24 20:23:36,086 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T20:23:35.861000'::timestamp AND timestamp <= '2025-05-24T20:23:35.861000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 20:23:36,175 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 20:23:37,149 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 20:23:37,433 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-24 20:23:37,463 - CatastoDB - INFO - Rollback eseguito.
2025-05-24 20:23:37,493 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-24 20:23:37,524 - CatastoDB - INFO - Rollback eseguito.
2025-05-24 20:23:37,586 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 20:23:37,734 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 20:23:37,794 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T20:23:37.623000'::timestamp AND timestamp <= '2025-05-24T20:23:37.623000'::timestamp;
2025-05-24 20:23:37,861 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T20:23:37.623000'::timestamp AND timestamp <= '2025-05-24T20:23:37.623000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 20:23:37,954 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 20:23:38,139 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 20:23:38,169 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 20:23:38,199 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 20:23:38,229 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 20:23:38,259 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 20:24:17,587 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 20:24:17,656 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita: 
            UPDATE catasto.partita
            SET numero_partita = 1014, tipo = 'principale', stato = 'inattiva', data_impianto = '2019-05-24'::date, data_chiusura = '2025-04-07'::date, numero_provenienza = NULL, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1109;
        
2025-05-24 20:24:17,733 - CatastoDB_catasto_storico_localhost - ERROR - Errore DB durante l'aggiornamento della partita ID 1109: ERRORE:  un valore chiave duplicato viola il vincolo univoco "partita_comune_id_numero_partita_key"
DETAIL:  La chiave (comune_id, numero_partita)=(3, 1014) esiste gi‡.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 698, in update_partita
    cur.execute(query, tuple(params))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: ERRORE:  un valore chiave duplicato viola il vincolo univoco "partita_comune_id_numero_partita_key"
DETAIL:  La chiave (comune_id, numero_partita)=(3, 1014) esiste gi‡.

2025-05-24 20:24:21,111 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 20:24:21,182 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita: 
            UPDATE catasto.partita
            SET numero_partita = 1014, tipo = 'principale', stato = 'inattiva', data_impianto = '2019-05-24'::date, data_chiusura = '2025-04-07'::date, numero_provenienza = NULL, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1109;
        
2025-05-24 20:24:21,265 - CatastoDB_catasto_storico_localhost - ERROR - Errore DB durante l'aggiornamento della partita ID 1109: ERRORE:  un valore chiave duplicato viola il vincolo univoco "partita_comune_id_numero_partita_key"
DETAIL:  La chiave (comune_id, numero_partita)=(3, 1014) esiste gi‡.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 698, in update_partita
    cur.execute(query, tuple(params))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: ERRORE:  un valore chiave duplicato viola il vincolo univoco "partita_comune_id_numero_partita_key"
DETAIL:  La chiave (comune_id, numero_partita)=(3, 1014) esiste gi‡.

2025-05-24 20:24:25,883 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 148, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-24 20:24:26,071 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-24 20:24:26,144 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-24 20:24:26,219 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita: 
            UPDATE catasto.partita
            SET numero_partita = 1014, tipo = 'principale', stato = 'inattiva', data_impianto = '2019-05-24'::date, data_chiusura = '2025-04-07'::date, numero_provenienza = 1, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1109;
        
2025-05-24 20:24:26,297 - CatastoDB_catasto_storico_localhost - ERROR - Errore DB durante l'aggiornamento della partita ID 1109: ERRORE:  un valore chiave duplicato viola il vincolo univoco "partita_comune_id_numero_partita_key"
DETAIL:  La chiave (comune_id, numero_partita)=(3, 1014) esiste gi‡.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 698, in update_partita
    cur.execute(query, tuple(params))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: ERRORE:  un valore chiave duplicato viola il vincolo univoco "partita_comune_id_numero_partita_key"
DETAIL:  La chiave (comune_id, numero_partita)=(3, 1014) esiste gi‡.

2025-05-24 20:24:27,456 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 148, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-24 20:24:27,652 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-24 20:24:27,730 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-24 20:24:27,808 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita: 
            UPDATE catasto.partita
            SET numero_partita = 1014, tipo = 'principale', stato = 'inattiva', data_impianto = '2019-05-24'::date, data_chiusura = '2025-04-07'::date, numero_provenienza = 1, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1109;
        
2025-05-24 20:24:27,887 - CatastoDB_catasto_storico_localhost - ERROR - Errore DB durante l'aggiornamento della partita ID 1109: ERRORE:  un valore chiave duplicato viola il vincolo univoco "partita_comune_id_numero_partita_key"
DETAIL:  La chiave (comune_id, numero_partita)=(3, 1014) esiste gi‡.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 698, in update_partita
    cur.execute(query, tuple(params))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: ERRORE:  un valore chiave duplicato viola il vincolo univoco "partita_comune_id_numero_partita_key"
DETAIL:  La chiave (comune_id, numero_partita)=(3, 1014) esiste gi‡.

2025-05-24 20:24:32,123 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 148, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-24 20:24:32,438 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-24 20:24:32,545 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-24 20:24:32,657 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-24 20:24:32,772 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 60a2ee2f...
2025-05-24 20:24:34,442 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 20:24:34,512 - CatastoDB - INFO - Disconnessione completata
2025-05-24 20:24:34,578 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 20:24:34,646 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 20:24:34,735 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-24 21:07:50,399 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-24 21:07:50,511 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-24 21:07:50,617 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-24 21:07:55,233 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-24 21:07:55,501 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-24 21:07:55,509 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 1aad70a5...
2025-05-24 21:07:55,515 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 21:07:55,528 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=1aad70a5...
2025-05-24 21:07:57,202 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-24 21:07:57,533 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-24 21:07:57,539 - CatastoDB - INFO - Rollback eseguito.
2025-05-24 21:07:57,546 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-24 21:07:57,552 - CatastoDB - INFO - Rollback eseguito.
2025-05-24 21:07:57,571 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 21:07:57,695 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 21:07:57,707 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T21:07:57.593000'::timestamp AND timestamp <= '2025-05-24T21:07:57.593000'::timestamp;
2025-05-24 21:07:57,721 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T21:07:57.593000'::timestamp AND timestamp <= '2025-05-24T21:07:57.593000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 21:07:57,745 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 21:07:57,910 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-24 21:07:58,165 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-24 21:07:58,171 - CatastoDB - INFO - Rollback eseguito.
2025-05-24 21:07:58,178 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-24 21:07:58,185 - CatastoDB - INFO - Rollback eseguito.
2025-05-24 21:07:58,205 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-24 21:07:58,324 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 21:07:58,335 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-23T21:07:58.224000'::timestamp AND timestamp <= '2025-05-24T21:07:58.224000'::timestamp;
2025-05-24 21:07:58,350 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-23T21:07:58.224000'::timestamp AND timestamp <= '2025-05-24T21:07:58.224000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-24 21:07:58,374 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-24 21:07:58,483 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-24 21:07:58,489 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-24 21:07:58,495 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-24 21:07:58,501 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-24 21:07:58,507 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-24 21:08:12,140 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 21:08:12,152 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita: 
            UPDATE catasto.partita
            SET numero_partita = 1008, tipo = 'principale', stato = 'attiva', data_impianto = '1978-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1107;
        
2025-05-24 21:08:12,167 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1107 aggiornata con successo. Righe modificate: 1
2025-05-24 21:08:12,279 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-24 21:08:12,293 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita: 
            UPDATE catasto.partita
            SET numero_partita = 1008, tipo = 'principale', stato = 'attiva', data_impianto = '1978-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1107;
        
2025-05-24 21:08:12,307 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1107 aggiornata con successo. Righe modificate: 1
2025-05-24 21:08:27,266 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 148, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-24 21:08:27,364 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-24 21:08:27,377 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-24 21:08:27,391 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita: 
            UPDATE catasto.partita
            SET numero_partita = 1016, tipo = 'principale', stato = 'attiva', data_impianto = '1978-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1107;
        
2025-05-24 21:08:27,406 - CatastoDB_catasto_storico_localhost - ERROR - Errore DB durante l'aggiornamento della partita ID 1107: ERRORE:  serializzazione dell'accesso fallita a causa di modifiche concorrenti
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 698, in update_partita
    cur.execute(query, tuple(params))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.SerializationFailure: ERRORE:  serializzazione dell'accesso fallita a causa di modifiche concorrenti

2025-05-24 21:08:29,310 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 148, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-24 21:08:29,341 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-24 21:08:29,354 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-24 21:08:29,365 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita: 
            UPDATE catasto.partita
            SET numero_partita = 1016, tipo = 'principale', stato = 'attiva', data_impianto = '1978-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1107;
        
2025-05-24 21:08:29,379 - CatastoDB_catasto_storico_localhost - ERROR - Errore DB durante l'aggiornamento della partita ID 1107: ERRORE:  un valore chiave duplicato viola il vincolo univoco "partita_comune_id_numero_partita_key"
DETAIL:  La chiave (comune_id, numero_partita)=(3, 1016) esiste gi‡.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 698, in update_partita
    cur.execute(query, tuple(params))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: ERRORE:  un valore chiave duplicato viola il vincolo univoco "partita_comune_id_numero_partita_key"
DETAIL:  La chiave (comune_id, numero_partita)=(3, 1016) esiste gi‡.

2025-05-24 21:08:33,674 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 148, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-24 21:08:33,702 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-24 21:08:33,714 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-24 21:08:33,725 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-24 21:08:33,739 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 1aad70a5...
2025-05-24 21:08:35,051 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-24 21:08:35,058 - CatastoDB - INFO - Disconnessione completata
2025-05-24 21:08:35,066 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-24 21:08:35,072 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-24 21:08:35,090 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-25 09:01:05,925 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-25 09:01:06,071 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-25 09:01:06,174 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-25 09:01:16,395 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-25 09:01:16,653 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-25 09:01:16,687 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 7d032248...
2025-05-25 09:01:16,693 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 09:01:16,706 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=7d032248...
2025-05-25 09:01:17,863 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-25 09:01:18,202 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 09:01:18,212 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 09:01:18,221 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 09:01:18,227 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 09:01:18,244 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 09:01:18,365 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 09:01:18,376 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T09:01:18.259000'::timestamp AND timestamp <= '2025-05-25T09:01:18.259000'::timestamp;
2025-05-25 09:01:18,402 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-24T09:01:18.259000'::timestamp AND timestamp <= '2025-05-25T09:01:18.259000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-25 09:01:18,488 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-25 09:01:18,649 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-25 09:01:18,900 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 09:01:18,907 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 09:01:18,914 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 09:01:18,920 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 09:01:18,939 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 09:01:19,062 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 09:01:19,073 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T09:01:18.965000'::timestamp AND timestamp <= '2025-05-25T09:01:18.965000'::timestamp;
2025-05-25 09:01:19,088 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-24T09:01:18.965000'::timestamp AND timestamp <= '2025-05-25T09:01:18.965000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-25 09:01:19,113 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-25 09:01:19,224 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-25 09:01:19,230 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-25 09:01:19,236 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-25 09:01:19,242 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-25 09:01:19,248 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-25 09:01:58,908 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 09:01:58,920 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita: 
            UPDATE catasto.partita
            SET numero_partita = 1009, tipo = 'principale', stato = 'attiva', data_impianto = '2024-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1669;
        
2025-05-25 09:01:58,937 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1669 aggiornata con successo. Righe modificate: 1
2025-05-25 09:01:59,069 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 09:01:59,082 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita: 
            UPDATE catasto.partita
            SET numero_partita = 1009, tipo = 'principale', stato = 'attiva', data_impianto = '2024-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1669;
        
2025-05-25 09:01:59,098 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1669 aggiornata con successo. Righe modificate: 1
2025-05-25 09:02:12,897 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 148, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 09:02:12,999 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 09:02:13,015 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 09:02:13,031 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-25 09:02:13,050 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 7d032248...
2025-05-25 09:02:14,218 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-25 09:02:14,225 - CatastoDB - INFO - Disconnessione completata
2025-05-25 09:02:14,231 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-25 09:02:14,236 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-25 09:02:14,255 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-25 09:02:42,260 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-25 09:02:42,373 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-25 09:02:42,481 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-25 09:02:47,471 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-25 09:02:47,730 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 06f6ea86...
2025-05-25 09:04:13,990 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 09:04:14,002 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-25 09:04:14,018 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 06f6ea86...
2025-05-25 09:04:14,026 - CatastoDB - INFO - Disconnessione completata
2025-05-25 09:04:23,317 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-25 09:04:23,436 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-25 09:04:23,539 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-25 09:04:29,822 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-25 09:04:30,072 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-25 09:04:30,082 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione b931e302...
2025-05-25 09:04:30,087 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 09:04:30,101 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=b931e302...
2025-05-25 09:04:31,063 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-25 09:04:31,388 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 09:04:31,394 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 09:04:31,401 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 09:04:31,407 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 09:04:31,423 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 09:04:31,543 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 09:04:31,555 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T09:04:31.445000'::timestamp AND timestamp <= '2025-05-25T09:04:31.445000'::timestamp;
2025-05-25 09:04:31,569 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-24T09:04:31.445000'::timestamp AND timestamp <= '2025-05-25T09:04:31.445000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-25 09:04:31,598 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-25 09:04:31,763 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-25 09:04:32,015 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 09:04:32,021 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 09:04:32,029 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 09:04:32,036 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 09:04:32,067 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 09:04:32,188 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 09:04:32,199 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T09:04:32.089000'::timestamp AND timestamp <= '2025-05-25T09:04:32.089000'::timestamp;
2025-05-25 09:04:32,214 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-24T09:04:32.089000'::timestamp AND timestamp <= '2025-05-25T09:04:32.089000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-25 09:04:32,237 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-25 09:04:32,345 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-25 09:04:32,351 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-25 09:04:32,356 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-25 09:04:32,362 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-25 09:04:32,368 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-25 09:05:52,148 - CatastoDB - INFO - Registrata nuova propriet‡: Comune ID 2, Partita N.1
2025-05-25 09:06:15,733 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 09:06:15,746 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-25 09:06:15,759 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione b931e302...
2025-05-25 09:06:17,044 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-25 09:06:17,051 - CatastoDB - INFO - Disconnessione completata
2025-05-25 09:06:17,056 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-25 09:06:17,062 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-25 09:06:17,082 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-25 09:06:22,606 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-25 09:06:22,851 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-25 09:06:22,987 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-25 09:06:27,014 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-25 09:06:27,272 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-25 09:06:27,281 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione bd387128...
2025-05-25 09:06:27,286 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 09:06:27,298 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=bd387128...
2025-05-25 09:06:28,146 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-25 09:06:28,464 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 09:06:28,470 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 09:06:28,477 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 09:06:28,483 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 09:06:28,501 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 09:06:28,740 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 09:06:28,757 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T09:06:28.525000'::timestamp AND timestamp <= '2025-05-25T09:06:28.525000'::timestamp;
2025-05-25 09:06:28,774 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-24T09:06:28.525000'::timestamp AND timestamp <= '2025-05-25T09:06:28.525000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-25 09:06:28,802 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-25 09:06:28,968 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-25 09:06:29,265 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 09:06:29,270 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 09:06:29,277 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 09:06:29,283 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 09:06:29,300 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 09:06:29,448 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 09:06:29,459 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T09:06:29.350000'::timestamp AND timestamp <= '2025-05-25T09:06:29.350000'::timestamp;
2025-05-25 09:06:29,474 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-24T09:06:29.350000'::timestamp AND timestamp <= '2025-05-25T09:06:29.350000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-25 09:06:29,499 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-25 09:06:29,615 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-25 09:06:29,621 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-25 09:06:29,626 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-25 09:06:29,632 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-25 09:06:29,637 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-25 09:07:02,451 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 09:07:02,464 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-25 09:07:02,477 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione bd387128...
2025-05-25 09:07:03,597 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-25 09:07:03,603 - CatastoDB - INFO - Disconnessione completata
2025-05-25 09:07:03,611 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-25 09:07:03,617 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-25 09:07:03,631 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-25 11:29:38,905 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-25 11:29:39,066 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-25 11:29:39,173 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-25 11:29:46,793 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-25 11:29:47,053 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-25 11:29:47,073 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 32ef1cb2...
2025-05-25 11:29:47,078 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 11:29:47,091 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=32ef1cb2...
2025-05-25 11:29:49,135 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-25 11:29:49,457 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 11:29:49,463 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 11:29:49,470 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 11:29:49,476 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 11:29:49,492 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 11:29:49,630 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 11:29:49,641 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T11:29:49.521000'::timestamp AND timestamp <= '2025-05-25T11:29:49.521000'::timestamp;
2025-05-25 11:29:49,659 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-24T11:29:49.521000'::timestamp AND timestamp <= '2025-05-25T11:29:49.521000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-25 11:29:49,699 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-25 11:29:49,890 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-25 11:29:50,129 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 11:29:50,148 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 11:29:50,154 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 11:29:50,160 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 11:29:50,177 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 11:29:50,292 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 11:29:50,304 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T11:29:50.194000'::timestamp AND timestamp <= '2025-05-25T11:29:50.194000'::timestamp;
2025-05-25 11:29:50,319 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-24T11:29:50.194000'::timestamp AND timestamp <= '2025-05-25T11:29:50.194000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-25 11:29:50,342 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-25 11:29:50,483 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-25 11:29:50,489 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-25 11:29:50,495 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-25 11:29:50,500 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-25 11:29:50,506 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-25 11:30:36,592 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 11:30:36,605 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-25 11:30:36,626 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 32ef1cb2...
2025-05-25 11:30:38,208 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-25 11:30:38,215 - CatastoDB - INFO - Disconnessione completata
2025-05-25 11:30:38,220 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-25 11:30:38,225 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-25 11:30:38,242 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-25 12:14:41,072 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-25 12:14:41,204 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-25 12:14:41,307 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-25 12:14:50,129 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-25 12:14:50,384 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-25 12:14:50,394 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione eaef7a1f...
2025-05-25 12:14:50,400 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 12:14:50,413 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=eaef7a1f...
2025-05-25 12:14:51,282 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-25 12:14:51,617 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 12:14:51,623 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 12:14:51,632 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 12:14:51,638 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 12:14:51,658 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 12:14:51,792 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 12:14:51,804 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T12:14:51.692000'::timestamp AND timestamp <= '2025-05-25T12:14:51.692000'::timestamp;
2025-05-25 12:14:51,822 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-24T12:14:51.692000'::timestamp AND timestamp <= '2025-05-25T12:14:51.692000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-25 12:14:51,870 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-25 12:14:52,039 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-25 12:14:52,351 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 12:14:52,357 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 12:14:52,364 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 12:14:52,370 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 12:14:52,387 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 12:14:52,507 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 12:14:52,519 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T12:14:52.402000'::timestamp AND timestamp <= '2025-05-25T12:14:52.402000'::timestamp;
2025-05-25 12:14:52,535 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-24T12:14:52.402000'::timestamp AND timestamp <= '2025-05-25T12:14:52.402000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-25 12:14:52,558 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-25 12:14:52,669 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-25 12:14:52,675 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-25 12:14:52,680 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-25 12:14:52,686 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-25 12:14:52,693 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-25 12:15:30,560 - CatastoDB - INFO - Localit‡ 'Regione Sticazzi' (Comune ID: 3) inserita con ID: 101
2025-05-25 12:16:08,925 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 12:16:08,936 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita: 
            UPDATE catasto.partita
            SET numero_partita = 1010, tipo = 'principale', stato = 'attiva', data_impianto = '2019-05-24'::date, data_chiusura = '2025-04-07'::date, numero_provenienza = NULL, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1109;
        
2025-05-25 12:16:08,952 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1109 aggiornata con successo. Righe modificate: 1
2025-05-25 12:16:09,093 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 12:16:09,106 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita: 
            UPDATE catasto.partita
            SET numero_partita = 1010, tipo = 'principale', stato = 'attiva', data_impianto = '2019-05-24'::date, data_chiusura = '2025-04-07'::date, numero_provenienza = NULL, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1109;
        
2025-05-25 12:16:09,130 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1109 aggiornata con successo. Righe modificate: 1
2025-05-25 12:16:21,046 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 148, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 12:16:21,144 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 12:16:21,156 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 12:16:21,169 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita: 
            UPDATE catasto.partita
            SET numero_partita = 1010, tipo = 'principale', stato = 'attiva', data_impianto = '2019-05-24'::date, data_chiusura = '2025-04-07'::date, numero_provenienza = NULL, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1109;
        
2025-05-25 12:16:21,183 - CatastoDB_catasto_storico_localhost - ERROR - Errore DB durante l'aggiornamento della partita ID 1109: ERRORE:  serializzazione dell'accesso fallita a causa di modifiche concorrenti
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 698, in update_partita
    cur.execute(query, tuple(params))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.SerializationFailure: ERRORE:  serializzazione dell'accesso fallita a causa di modifiche concorrenti

2025-05-25 12:16:22,491 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 148, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 12:16:22,526 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 12:16:22,539 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 12:16:22,553 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita: 
            UPDATE catasto.partita
            SET numero_partita = 1010, tipo = 'principale', stato = 'attiva', data_impianto = '2019-05-24'::date, data_chiusura = '2025-04-07'::date, numero_provenienza = NULL, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1109;
        
2025-05-25 12:16:22,573 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1109 aggiornata con successo. Righe modificate: 1
2025-05-25 12:16:32,230 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 148, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 12:16:32,271 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 12:16:32,284 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 12:16:32,299 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita: 
            UPDATE catasto.partita
            SET numero_partita = 1007, tipo = 'secondaria', stato = 'attiva', data_impianto = '1995-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1106;
        
2025-05-25 12:16:32,313 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1106 aggiornata con successo. Righe modificate: 1
2025-05-25 12:16:32,328 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 148, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 12:16:32,359 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 12:16:32,371 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 12:16:32,383 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita: 
            UPDATE catasto.partita
            SET numero_partita = 1007, tipo = 'secondaria', stato = 'attiva', data_impianto = '1995-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1106;
        
2025-05-25 12:16:32,397 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1106 aggiornata con successo. Righe modificate: 1
2025-05-25 12:16:44,134 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 148, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 12:16:44,174 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 12:16:44,186 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 12:16:44,199 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita: 
            UPDATE catasto.partita
            SET numero_partita = 1009, tipo = 'secondaria', stato = 'attiva', data_impianto = '1995-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1106;
        
2025-05-25 12:16:44,215 - CatastoDB_catasto_storico_localhost - ERROR - Errore DB durante l'aggiornamento della partita ID 1106: ERRORE:  un valore chiave duplicato viola il vincolo univoco "partita_comune_id_numero_partita_key"
DETAIL:  La chiave (comune_id, numero_partita)=(3, 1009) esiste gi‡.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 698, in update_partita
    cur.execute(query, tuple(params))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: ERRORE:  un valore chiave duplicato viola il vincolo univoco "partita_comune_id_numero_partita_key"
DETAIL:  La chiave (comune_id, numero_partita)=(3, 1009) esiste gi‡.

2025-05-25 12:16:49,370 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 148, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 12:16:49,402 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 12:16:49,417 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 12:16:49,431 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita: 
            UPDATE catasto.partita
            SET numero_partita = 1009, tipo = 'secondaria', stato = 'attiva', data_impianto = '1995-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1106;
        
2025-05-25 12:16:49,449 - CatastoDB_catasto_storico_localhost - ERROR - Errore DB durante l'aggiornamento della partita ID 1106: ERRORE:  un valore chiave duplicato viola il vincolo univoco "partita_comune_id_numero_partita_key"
DETAIL:  La chiave (comune_id, numero_partita)=(3, 1009) esiste gi‡.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 698, in update_partita
    cur.execute(query, tuple(params))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: ERRORE:  un valore chiave duplicato viola il vincolo univoco "partita_comune_id_numero_partita_key"
DETAIL:  La chiave (comune_id, numero_partita)=(3, 1009) esiste gi‡.

2025-05-25 12:18:08,224 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: CALL registra_nuova_proprieta(%s, %s, %s, %s::json, %s::json)... Errore: ERRORE:  [registra_nuova_proprieta] Errore: La partita 1010 gi√† esiste nel comune con ID 1
CONTEXT:  funzione PL/pgSQL registra_nuova_proprieta(integer,integer,date,json,json) riga 40 a RAISE

2025-05-25 12:18:08,230 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 12:18:44,922 - CatastoDB - INFO - Registrata nuova propriet‡: Comune ID 1, Partita N.2000
2025-05-25 12:21:05,589 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 148, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 12:21:05,790 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 12:21:05,812 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 12:21:05,823 - CatastoDB_catasto_storico_localhost - DEBUG - Chiamata a catasto.ricerca_avanzata_immobili con parametri POSIZIONALI: (None, None, None, None, None, None, None, None, None, None, None, None)
2025-05-25 12:21:05,992 - CatastoDB_catasto_storico_localhost - INFO - Ricerca avanzata immobili ha restituito 7502 risultati.
2025-05-25 12:23:27,104 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 148, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 12:23:27,145 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 12:23:27,156 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 12:23:27,167 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita: 
            UPDATE catasto.partita
            SET numero_partita = 2001, tipo = 'principale', stato = 'attiva', data_impianto = '2024-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1108;
        
2025-05-25 12:23:27,180 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1108 aggiornata con successo. Righe modificate: 1
2025-05-25 12:23:27,196 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 148, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 12:23:27,226 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 12:23:27,238 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 12:23:27,250 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita: 
            UPDATE catasto.partita
            SET numero_partita = 2001, tipo = 'principale', stato = 'attiva', data_impianto = '2024-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1108;
        
2025-05-25 12:23:27,264 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1108 aggiornata con successo. Righe modificate: 1
2025-05-25 12:29:44,577 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 148, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 12:29:44,646 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 12:29:44,659 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 12:29:44,672 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita: 
            UPDATE catasto.partita
            SET numero_partita = 2012, tipo = 'principale', stato = 'inattiva', data_impianto = '1991-05-24'::date, data_chiusura = '2025-04-14'::date, numero_provenienza = NULL, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1111;
        
2025-05-25 12:29:44,686 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1111 aggiornata con successo. Righe modificate: 1
2025-05-25 12:29:44,701 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 148, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 12:29:44,732 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 12:29:44,744 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 12:29:44,756 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita: 
            UPDATE catasto.partita
            SET numero_partita = 2012, tipo = 'principale', stato = 'inattiva', data_impianto = '1991-05-24'::date, data_chiusura = '2025-04-14'::date, numero_provenienza = NULL, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1111;
        
2025-05-25 12:29:44,769 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1111 aggiornata con successo. Righe modificate: 1
2025-05-25 12:35:11,913 - CatastoDB - INFO - Ricerca avanzata possessori per 'stress' (soglia: 0.2) ha prodotto 100 risultati.
2025-05-25 12:36:56,791 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 148, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 12:36:56,830 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 12:36:56,842 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 12:36:56,853 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita: 
            UPDATE catasto.partita
            SET numero_partita = 2012, tipo = 'secondaria', stato = 'inattiva', data_impianto = '1991-05-24'::date, data_chiusura = '2025-04-14'::date, numero_provenienza = NULL, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1111;
        
2025-05-25 12:36:56,866 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1111 aggiornata con successo. Righe modificate: 1
2025-05-25 12:36:56,880 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 148, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 12:36:56,914 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 12:36:56,926 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 12:36:56,938 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita: 
            UPDATE catasto.partita
            SET numero_partita = 2012, tipo = 'secondaria', stato = 'inattiva', data_impianto = '1991-05-24'::date, data_chiusura = '2025-04-14'::date, numero_provenienza = NULL, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1111;
        
2025-05-25 12:36:56,950 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1111 aggiornata con successo. Righe modificate: 1
2025-05-25 12:37:08,047 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 148, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 12:37:08,088 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 12:37:08,100 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 12:37:08,112 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita: 
            UPDATE catasto.partita
            SET numero_partita = 2012, tipo = 'secondaria', stato = 'inattiva', data_impianto = '1991-05-24'::date, data_chiusura = '2025-04-14'::date, numero_provenienza = 3, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1111;
        
2025-05-25 12:37:08,128 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1111 aggiornata con successo. Righe modificate: 1
2025-05-25 12:37:08,153 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 148, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 12:37:08,183 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 12:37:08,194 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 12:37:08,206 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita: 
            UPDATE catasto.partita
            SET numero_partita = 2012, tipo = 'secondaria', stato = 'inattiva', data_impianto = '1991-05-24'::date, data_chiusura = '2025-04-14'::date, numero_provenienza = 3, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1111;
        
2025-05-25 12:37:08,220 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1111 aggiornata con successo. Righe modificate: 1
2025-05-25 12:37:41,088 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 148, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 12:37:41,129 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 12:37:41,141 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 12:37:41,154 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita: 
            UPDATE catasto.partita
            SET numero_partita = 2012, tipo = 'secondaria', stato = 'inattiva', data_impianto = '2017-05-24'::date, data_chiusura = '2025-04-14'::date, numero_provenienza = 3, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1111;
        
2025-05-25 12:37:41,168 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1111 aggiornata con successo. Righe modificate: 1
2025-05-25 12:37:41,184 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 148, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 12:37:41,215 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 12:37:41,230 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 12:37:41,244 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita: 
            UPDATE catasto.partita
            SET numero_partita = 2012, tipo = 'secondaria', stato = 'inattiva', data_impianto = '2017-05-24'::date, data_chiusura = '2025-04-14'::date, numero_provenienza = 3, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1111;
        
2025-05-25 12:37:41,260 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1111 aggiornata con successo. Righe modificate: 1
2025-05-25 12:50:16,570 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 148, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 12:50:16,630 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 12:50:16,643 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 12:50:16,659 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-25 12:50:16,677 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione eaef7a1f...
2025-05-25 12:50:18,033 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-25 12:50:18,040 - CatastoDB - INFO - Disconnessione completata
2025-05-25 12:50:18,046 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-25 12:50:18,052 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-25 12:50:18,077 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-25 12:56:36,188 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-25 12:56:36,345 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-25 12:56:36,462 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-25 12:56:42,036 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-25 12:56:42,295 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-25 12:56:42,310 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 5edbb705...
2025-05-25 12:56:42,316 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 12:56:42,329 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=5edbb705...
2025-05-25 12:57:19,182 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-25 12:57:19,524 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 12:57:19,530 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 12:57:19,538 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 12:57:19,544 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 12:57:19,564 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 12:57:19,688 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 12:57:19,700 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T12:57:19.583000'::timestamp AND timestamp <= '2025-05-25T12:57:19.583000'::timestamp;
2025-05-25 12:57:19,716 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-24T12:57:19.583000'::timestamp AND timestamp <= '2025-05-25T12:57:19.583000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-25 12:57:19,758 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-25 12:57:19,924 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-25 12:57:20,199 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 12:57:20,207 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 12:57:20,213 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 12:57:20,222 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 12:57:20,240 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 12:57:20,356 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 12:57:20,368 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T12:57:20.254000'::timestamp AND timestamp <= '2025-05-25T12:57:20.254000'::timestamp;
2025-05-25 12:57:20,385 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-24T12:57:20.254000'::timestamp AND timestamp <= '2025-05-25T12:57:20.254000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-25 12:57:20,409 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-25 12:57:20,525 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-25 12:57:20,531 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-25 12:57:20,537 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-25 12:57:20,543 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-25 12:57:20,549 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-25 12:57:43,894 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 12:57:43,906 - CatastoDB_catasto_storico_localhost - ERROR - Errore imprevisto durante l'aggiornamento della partita ID 1109: not all arguments converted during string formatting
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 717, in update_partita
    self.logger.debug(f"Esecuzione query UPDATE partita: {cur.mogrify(query, params_tuple).decode('utf-8', 'ignore')}")
                                                          ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
TypeError: not all arguments converted during string formatting
2025-05-25 12:57:44,000 - CatastoGUI - ERROR - Errore durante il salvataggio delle modifiche alla partita ID 1109: Errore imprevisto: not all arguments converted during string formatting
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 717, in update_partita
    self.logger.debug(f"Esecuzione query UPDATE partita: {cur.mogrify(query, params_tuple).decode('utf-8', 'ignore')}")
                                                          ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
TypeError: not all arguments converted during string formatting

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "U:\catasto\gemini\prova.py", line 1714, in _save_changes
    success = self.db_manager.update_partita(self.partita_id, dati_modificati) # <--- USA QUESTA ORA
  File "U:\catasto\gemini\catasto_db_manager.py", line 755, in update_partita
    raise DBMError(f"Errore imprevisto: {e}") from e
catasto_db_manager.DBMError: Errore imprevisto: not all arguments converted during string formatting
2025-05-25 12:57:46,145 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 12:57:46,157 - CatastoDB_catasto_storico_localhost - ERROR - Errore imprevisto durante l'aggiornamento della partita ID 1109: not all arguments converted during string formatting
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 717, in update_partita
    self.logger.debug(f"Esecuzione query UPDATE partita: {cur.mogrify(query, params_tuple).decode('utf-8', 'ignore')}")
                                                          ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
TypeError: not all arguments converted during string formatting
2025-05-25 12:57:46,188 - CatastoGUI - ERROR - Errore durante il salvataggio delle modifiche alla partita ID 1109: Errore imprevisto: not all arguments converted during string formatting
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 717, in update_partita
    self.logger.debug(f"Esecuzione query UPDATE partita: {cur.mogrify(query, params_tuple).decode('utf-8', 'ignore')}")
                                                          ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
TypeError: not all arguments converted during string formatting

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "U:\catasto\gemini\prova.py", line 1730, in _save_changes
    success = self.db_manager.update_partita(self.partita_id, dati_modificati)
  File "U:\catasto\gemini\catasto_db_manager.py", line 755, in update_partita
    raise DBMError(f"Errore imprevisto: {e}") from e
catasto_db_manager.DBMError: Errore imprevisto: not all arguments converted during string formatting
2025-05-25 12:57:54,913 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 161, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 12:57:54,954 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 12:57:54,967 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 12:57:54,981 - CatastoDB_catasto_storico_localhost - ERROR - Errore imprevisto durante l'aggiornamento della partita ID 1109: not all arguments converted during string formatting
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 717, in update_partita
    self.logger.debug(f"Esecuzione query UPDATE partita: {cur.mogrify(query, params_tuple).decode('utf-8', 'ignore')}")
                                                          ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
TypeError: not all arguments converted during string formatting
2025-05-25 12:57:55,017 - CatastoGUI - ERROR - Errore durante il salvataggio delle modifiche alla partita ID 1109: Errore imprevisto: not all arguments converted during string formatting
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 717, in update_partita
    self.logger.debug(f"Esecuzione query UPDATE partita: {cur.mogrify(query, params_tuple).decode('utf-8', 'ignore')}")
                                                          ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
TypeError: not all arguments converted during string formatting

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "U:\catasto\gemini\prova.py", line 1714, in _save_changes
    success = self.db_manager.update_partita(self.partita_id, dati_modificati) # <--- USA QUESTA ORA
  File "U:\catasto\gemini\catasto_db_manager.py", line 755, in update_partita
    raise DBMError(f"Errore imprevisto: {e}") from e
catasto_db_manager.DBMError: Errore imprevisto: not all arguments converted during string formatting
2025-05-25 12:58:00,784 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 161, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 12:58:00,816 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 12:58:00,828 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 12:58:00,850 - CatastoDB_catasto_storico_localhost - ERROR - Errore imprevisto durante l'aggiornamento della partita ID 1109: not all arguments converted during string formatting
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 717, in update_partita
    self.logger.debug(f"Esecuzione query UPDATE partita: {cur.mogrify(query, params_tuple).decode('utf-8', 'ignore')}")
                                                          ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
TypeError: not all arguments converted during string formatting
2025-05-25 12:58:00,890 - CatastoGUI - ERROR - Errore durante il salvataggio delle modifiche alla partita ID 1109: Errore imprevisto: not all arguments converted during string formatting
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 717, in update_partita
    self.logger.debug(f"Esecuzione query UPDATE partita: {cur.mogrify(query, params_tuple).decode('utf-8', 'ignore')}")
                                                          ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
TypeError: not all arguments converted during string formatting

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "U:\catasto\gemini\prova.py", line 1730, in _save_changes
    success = self.db_manager.update_partita(self.partita_id, dati_modificati)
  File "U:\catasto\gemini\catasto_db_manager.py", line 755, in update_partita
    raise DBMError(f"Errore imprevisto: {e}") from e
catasto_db_manager.DBMError: Errore imprevisto: not all arguments converted during string formatting
2025-05-25 12:58:26,146 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 161, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 12:58:26,186 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 12:58:26,198 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 12:58:26,210 - CatastoDB_catasto_storico_localhost - ERROR - Errore imprevisto durante l'aggiornamento della partita ID 1109: not all arguments converted during string formatting
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 717, in update_partita
    self.logger.debug(f"Esecuzione query UPDATE partita: {cur.mogrify(query, params_tuple).decode('utf-8', 'ignore')}")
                                                          ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
TypeError: not all arguments converted during string formatting
2025-05-25 12:58:26,238 - CatastoGUI - ERROR - Errore durante il salvataggio delle modifiche alla partita ID 1109: Errore imprevisto: not all arguments converted during string formatting
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 717, in update_partita
    self.logger.debug(f"Esecuzione query UPDATE partita: {cur.mogrify(query, params_tuple).decode('utf-8', 'ignore')}")
                                                          ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
TypeError: not all arguments converted during string formatting

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "U:\catasto\gemini\prova.py", line 1714, in _save_changes
    success = self.db_manager.update_partita(self.partita_id, dati_modificati) # <--- USA QUESTA ORA
  File "U:\catasto\gemini\catasto_db_manager.py", line 755, in update_partita
    raise DBMError(f"Errore imprevisto: {e}") from e
catasto_db_manager.DBMError: Errore imprevisto: not all arguments converted during string formatting
2025-05-25 12:58:27,367 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 161, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 12:58:27,398 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 12:58:27,410 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 12:58:27,428 - CatastoDB_catasto_storico_localhost - ERROR - Errore imprevisto durante l'aggiornamento della partita ID 1109: not all arguments converted during string formatting
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 717, in update_partita
    self.logger.debug(f"Esecuzione query UPDATE partita: {cur.mogrify(query, params_tuple).decode('utf-8', 'ignore')}")
                                                          ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
TypeError: not all arguments converted during string formatting
2025-05-25 12:58:27,459 - CatastoGUI - ERROR - Errore durante il salvataggio delle modifiche alla partita ID 1109: Errore imprevisto: not all arguments converted during string formatting
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 717, in update_partita
    self.logger.debug(f"Esecuzione query UPDATE partita: {cur.mogrify(query, params_tuple).decode('utf-8', 'ignore')}")
                                                          ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
TypeError: not all arguments converted during string formatting

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "U:\catasto\gemini\prova.py", line 1730, in _save_changes
    success = self.db_manager.update_partita(self.partita_id, dati_modificati)
  File "U:\catasto\gemini\catasto_db_manager.py", line 755, in update_partita
    raise DBMError(f"Errore imprevisto: {e}") from e
catasto_db_manager.DBMError: Errore imprevisto: not all arguments converted during string formatting
2025-05-25 12:58:34,290 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 161, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 12:58:34,318 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 12:58:34,329 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 12:58:34,341 - CatastoDB_catasto_storico_localhost - ERROR - Errore imprevisto durante l'aggiornamento della partita ID 1109: not all arguments converted during string formatting
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 717, in update_partita
    self.logger.debug(f"Esecuzione query UPDATE partita: {cur.mogrify(query, params_tuple).decode('utf-8', 'ignore')}")
                                                          ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
TypeError: not all arguments converted during string formatting
2025-05-25 12:58:34,369 - CatastoGUI - ERROR - Errore durante il salvataggio delle modifiche alla partita ID 1109: Errore imprevisto: not all arguments converted during string formatting
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 717, in update_partita
    self.logger.debug(f"Esecuzione query UPDATE partita: {cur.mogrify(query, params_tuple).decode('utf-8', 'ignore')}")
                                                          ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
TypeError: not all arguments converted during string formatting

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "U:\catasto\gemini\prova.py", line 1714, in _save_changes
    success = self.db_manager.update_partita(self.partita_id, dati_modificati) # <--- USA QUESTA ORA
  File "U:\catasto\gemini\catasto_db_manager.py", line 755, in update_partita
    raise DBMError(f"Errore imprevisto: {e}") from e
catasto_db_manager.DBMError: Errore imprevisto: not all arguments converted during string formatting
2025-05-25 12:58:35,670 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 161, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 12:58:35,698 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 12:58:35,710 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 12:58:35,722 - CatastoDB_catasto_storico_localhost - ERROR - Errore imprevisto durante l'aggiornamento della partita ID 1109: not all arguments converted during string formatting
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 717, in update_partita
    self.logger.debug(f"Esecuzione query UPDATE partita: {cur.mogrify(query, params_tuple).decode('utf-8', 'ignore')}")
                                                          ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
TypeError: not all arguments converted during string formatting
2025-05-25 12:58:35,753 - CatastoGUI - ERROR - Errore durante il salvataggio delle modifiche alla partita ID 1109: Errore imprevisto: not all arguments converted during string formatting
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 717, in update_partita
    self.logger.debug(f"Esecuzione query UPDATE partita: {cur.mogrify(query, params_tuple).decode('utf-8', 'ignore')}")
                                                          ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
TypeError: not all arguments converted during string formatting

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "U:\catasto\gemini\prova.py", line 1730, in _save_changes
    success = self.db_manager.update_partita(self.partita_id, dati_modificati)
  File "U:\catasto\gemini\catasto_db_manager.py", line 755, in update_partita
    raise DBMError(f"Errore imprevisto: {e}") from e
catasto_db_manager.DBMError: Errore imprevisto: not all arguments converted during string formatting
2025-05-25 12:59:12,651 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 161, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 12:59:12,691 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 12:59:12,704 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 12:59:12,716 - CatastoDB_catasto_storico_localhost - ERROR - Errore imprevisto durante l'aggiornamento della partita ID 1109: not all arguments converted during string formatting
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 717, in update_partita
    self.logger.debug(f"Esecuzione query UPDATE partita: {cur.mogrify(query, params_tuple).decode('utf-8', 'ignore')}")
                                                          ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
TypeError: not all arguments converted during string formatting
2025-05-25 12:59:12,747 - CatastoGUI - ERROR - Errore durante il salvataggio delle modifiche alla partita ID 1109: Errore imprevisto: not all arguments converted during string formatting
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 717, in update_partita
    self.logger.debug(f"Esecuzione query UPDATE partita: {cur.mogrify(query, params_tuple).decode('utf-8', 'ignore')}")
                                                          ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
TypeError: not all arguments converted during string formatting

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "U:\catasto\gemini\prova.py", line 1714, in _save_changes
    success = self.db_manager.update_partita(self.partita_id, dati_modificati) # <--- USA QUESTA ORA
  File "U:\catasto\gemini\catasto_db_manager.py", line 755, in update_partita
    raise DBMError(f"Errore imprevisto: {e}") from e
catasto_db_manager.DBMError: Errore imprevisto: not all arguments converted during string formatting
2025-05-25 12:59:14,023 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 161, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 12:59:14,052 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 12:59:14,064 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 12:59:14,075 - CatastoDB_catasto_storico_localhost - ERROR - Errore imprevisto durante l'aggiornamento della partita ID 1109: not all arguments converted during string formatting
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 717, in update_partita
    self.logger.debug(f"Esecuzione query UPDATE partita: {cur.mogrify(query, params_tuple).decode('utf-8', 'ignore')}")
                                                          ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
TypeError: not all arguments converted during string formatting
2025-05-25 12:59:14,107 - CatastoGUI - ERROR - Errore durante il salvataggio delle modifiche alla partita ID 1109: Errore imprevisto: not all arguments converted during string formatting
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 717, in update_partita
    self.logger.debug(f"Esecuzione query UPDATE partita: {cur.mogrify(query, params_tuple).decode('utf-8', 'ignore')}")
                                                          ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
TypeError: not all arguments converted during string formatting

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "U:\catasto\gemini\prova.py", line 1730, in _save_changes
    success = self.db_manager.update_partita(self.partita_id, dati_modificati)
  File "U:\catasto\gemini\catasto_db_manager.py", line 755, in update_partita
    raise DBMError(f"Errore imprevisto: {e}") from e
catasto_db_manager.DBMError: Errore imprevisto: not all arguments converted during string formatting
2025-05-25 13:03:31,168 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 161, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 13:03:31,210 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 13:03:31,222 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 13:03:31,235 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-25 13:03:31,262 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 5edbb705...
2025-05-25 13:03:32,594 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-25 13:03:32,600 - CatastoDB - INFO - Disconnessione completata
2025-05-25 13:03:32,606 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-25 13:03:32,612 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-25 13:03:32,631 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-25 13:03:41,015 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-25 13:03:41,137 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-25 13:03:41,325 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-25 13:03:47,961 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-25 13:03:48,221 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-25 13:03:48,231 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 40a9c1f0...
2025-05-25 13:03:48,237 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 13:03:48,250 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=40a9c1f0...
2025-05-25 13:03:49,106 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-25 13:03:49,422 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 13:03:49,428 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 13:03:49,437 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 13:03:49,443 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 13:03:49,462 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 13:03:49,710 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 13:03:49,721 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T13:03:49.492000'::timestamp AND timestamp <= '2025-05-25T13:03:49.492000'::timestamp;
2025-05-25 13:03:49,739 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-24T13:03:49.492000'::timestamp AND timestamp <= '2025-05-25T13:03:49.492000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-25 13:03:49,783 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-25 13:03:49,950 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-25 13:03:50,210 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 13:03:50,216 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 13:03:50,223 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 13:03:50,229 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 13:03:50,249 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 13:03:50,379 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 13:03:50,390 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T13:03:50.272000'::timestamp AND timestamp <= '2025-05-25T13:03:50.272000'::timestamp;
2025-05-25 13:03:50,406 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-24T13:03:50.272000'::timestamp AND timestamp <= '2025-05-25T13:03:50.272000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-25 13:03:50,430 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-25 13:03:50,550 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-25 13:03:50,555 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-25 13:03:50,561 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-25 13:03:50,567 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-25 13:03:50,572 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-25 13:04:04,323 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 13:04:04,335 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1109: 
            UPDATE catasto.partita
            SET numero_partita = 3000, tipo = 'principale', data_impianto = '2019-05-24'::date, data_chiusura = '2025-04-07'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1109;
        
2025-05-25 13:04:04,350 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1109 aggiornata con successo. Righe modificate: 1
2025-05-25 13:04:08,802 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 13:04:08,815 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1109: 
            UPDATE catasto.partita
            SET numero_partita = 3000, tipo = 'principale', data_impianto = '2019-05-24'::date, data_chiusura = '2025-04-07'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1109;
        
2025-05-25 13:04:08,831 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1109 aggiornata con successo. Righe modificate: 1
2025-05-25 13:04:15,112 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 161, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 13:04:15,209 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 13:04:15,222 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 13:04:15,236 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-25 13:04:15,251 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 40a9c1f0...
2025-05-25 13:04:16,461 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-25 13:04:16,468 - CatastoDB - INFO - Disconnessione completata
2025-05-25 13:04:16,474 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-25 13:04:16,480 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-25 13:04:16,498 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-25 13:07:47,528 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-25 13:07:47,750 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-25 13:07:47,860 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-25 13:07:52,094 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-25 13:07:52,358 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-25 13:07:52,368 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 54b77164...
2025-05-25 13:07:52,373 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 13:07:52,387 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=54b77164...
2025-05-25 13:07:53,418 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-25 13:07:53,791 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 13:07:53,798 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 13:07:53,805 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 13:07:53,812 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 13:07:53,832 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 13:07:53,957 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 13:07:53,983 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T13:07:53.856000'::timestamp AND timestamp <= '2025-05-25T13:07:53.856000'::timestamp;
2025-05-25 13:07:54,000 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-24T13:07:53.856000'::timestamp AND timestamp <= '2025-05-25T13:07:53.856000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-25 13:07:54,032 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-25 13:07:54,218 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-25 13:07:54,482 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 13:07:54,488 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 13:07:54,495 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 13:07:54,501 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 13:07:54,521 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 13:07:54,765 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 13:07:54,778 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T13:07:54.546000'::timestamp AND timestamp <= '2025-05-25T13:07:54.546000'::timestamp;
2025-05-25 13:07:54,793 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-24T13:07:54.546000'::timestamp AND timestamp <= '2025-05-25T13:07:54.546000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-25 13:07:54,817 - CatastoDB_catasto_storico_localhost - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15194
2025-05-25 13:07:54,937 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-25 13:07:54,943 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-25 13:07:54,949 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-25 13:07:54,954 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-25 13:07:54,960 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-25 13:08:06,291 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 13:08:06,302 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1107: 
            UPDATE catasto.partita
            SET numero_partita = 3000, tipo = 'principale', data_impianto = '1978-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1107;
        
2025-05-25 13:08:06,319 - CatastoDB_catasto_storico_localhost - ERROR - Errore di violazione di unicit‡ (vincolo: partita_comune_id_numero_partita_key) durante l'aggiornamento della partita ID 1107: ERRORE:  un valore chiave duplicato viola il vincolo univoco "partita_comune_id_numero_partita_key"
DETAIL:  La chiave (comune_id, numero_partita)=(3, 3000) esiste gi‡.

2025-05-25 13:08:13,745 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 13:08:13,756 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1107: 
            UPDATE catasto.partita
            SET numero_partita = 3000, tipo = 'principale', data_impianto = '1978-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1107;
        
2025-05-25 13:08:13,776 - CatastoDB_catasto_storico_localhost - ERROR - Errore di violazione di unicit‡ (vincolo: partita_comune_id_numero_partita_key) durante l'aggiornamento della partita ID 1107: ERRORE:  un valore chiave duplicato viola il vincolo univoco "partita_comune_id_numero_partita_key"
DETAIL:  La chiave (comune_id, numero_partita)=(3, 3000) esiste gi‡.

2025-05-25 13:08:43,147 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 166, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 13:08:43,189 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 13:08:43,201 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 13:08:43,213 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1142: 
            UPDATE catasto.partita
            SET numero_partita = 3727, tipo = 'principale', data_impianto = '2022-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1142;
        
2025-05-25 13:08:43,228 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1142 aggiornata con successo. Righe modificate: 1
2025-05-25 13:08:45,002 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 166, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 13:08:45,032 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 13:08:45,044 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 13:08:45,058 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1142: 
            UPDATE catasto.partita
            SET numero_partita = 3727, tipo = 'principale', data_impianto = '2022-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1142;
        
2025-05-25 13:08:45,073 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1142 aggiornata con successo. Righe modificate: 1
2025-05-25 13:12:31,590 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 166, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 13:12:31,632 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 13:12:31,644 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 13:12:31,657 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1142: 
            UPDATE catasto.partita
            SET numero_partita = 3728, tipo = 'principale', data_impianto = '2022-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1142;
        
2025-05-25 13:12:31,671 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1142 aggiornata con successo. Righe modificate: 1
2025-05-25 13:12:50,139 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 166, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 13:12:50,180 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 13:12:50,192 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 13:12:50,204 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1142: 
            UPDATE catasto.partita
            SET numero_partita = 3728, tipo = 'principale', data_impianto = '2022-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1142;
        
2025-05-25 13:12:50,224 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1142 aggiornata con successo. Righe modificate: 1
2025-05-25 14:28:24,080 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 166, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 14:28:24,120 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 14:28:24,131 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 14:28:24,145 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-25 14:28:24,161 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 54b77164...
2025-05-25 14:28:25,194 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-25 14:28:25,202 - CatastoDB - INFO - Disconnessione completata
2025-05-25 14:28:25,207 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-25 14:28:25,213 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-25 14:28:25,227 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-25 14:28:33,888 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-25 14:28:34,009 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-25 14:28:34,117 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-25 14:28:39,859 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-25 14:28:40,148 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-25 14:28:40,158 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 7753a0b5...
2025-05-25 14:28:40,165 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 14:28:40,182 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=7753a0b5...
2025-05-25 14:28:41,644 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-25 14:28:42,017 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 14:28:42,023 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 14:28:42,030 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 14:28:42,035 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 14:28:42,054 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 14:28:42,175 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 14:28:42,186 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T14:28:42.077000'::timestamp AND timestamp <= '2025-05-25T14:28:42.077000'::timestamp;
2025-05-25 14:28:42,208 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 14:28:42,311 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-25 14:28:42,515 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 14:28:42,521 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 14:28:42,528 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 14:28:42,534 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 14:28:42,554 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 14:28:42,680 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 14:28:42,692 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T14:28:42.576000'::timestamp AND timestamp <= '2025-05-25T14:28:42.576000'::timestamp;
2025-05-25 14:28:42,705 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 14:28:42,742 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-25 14:28:42,747 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-25 14:28:42,753 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-25 14:28:42,758 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-25 14:28:42,764 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-25 14:28:56,531 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 14:28:56,543 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1110: 
            UPDATE catasto.partita
            SET numero_partita = 3258, tipo = 'principale', data_impianto = '2001-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1110;
        
2025-05-25 14:28:56,557 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1110 aggiornata con successo. Righe modificate: 1
2025-05-25 14:36:21,865 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-25 14:36:22,013 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-25 14:36:22,122 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-25 14:36:27,688 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-25 14:36:27,944 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-25 14:36:27,966 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 01c3a66f...
2025-05-25 14:36:27,972 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 14:36:27,984 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=01c3a66f...
2025-05-25 14:36:29,330 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-25 14:36:29,673 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 14:36:29,679 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 14:36:29,686 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 14:36:29,693 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 14:36:29,710 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 14:36:29,986 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 14:36:29,998 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T14:36:29.755000'::timestamp AND timestamp <= '2025-05-25T14:36:29.755000'::timestamp;
2025-05-25 14:36:30,013 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 14:36:30,101 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-25 14:36:30,306 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 14:36:30,312 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 14:36:30,318 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 14:36:30,324 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 14:36:30,354 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 14:36:30,597 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 14:36:30,608 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T14:36:30.381000'::timestamp AND timestamp <= '2025-05-25T14:36:30.381000'::timestamp;
2025-05-25 14:36:30,622 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 14:36:30,658 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-25 14:36:30,664 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-25 14:36:30,670 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-25 14:36:30,675 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-25 14:36:30,681 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-25 14:36:47,844 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 14:36:47,856 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1112: 
            UPDATE catasto.partita
            SET numero_partita = 4013, tipo = 'principale', data_impianto = '1988-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1112;
        
2025-05-25 14:36:47,870 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1112 aggiornata con successo. Righe modificate: 1
2025-05-25 14:36:47,881 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 14:36:47,896 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 14:36:47,908 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1112: 
            UPDATE catasto.partita
            SET numero_partita = 4013, tipo = 'principale', data_impianto = '1988-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1112;
        
2025-05-25 14:36:47,928 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1112 aggiornata con successo. Righe modificate: 1
2025-05-25 14:36:47,941 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 14:37:13,233 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 14:37:13,246 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1107: 
            UPDATE catasto.partita
            SET numero_partita = 9008, tipo = 'principale', data_impianto = '1978-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1107;
        
2025-05-25 14:37:13,261 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1107 aggiornata con successo. Righe modificate: 1
2025-05-25 14:37:13,272 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 14:37:13,289 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 14:37:13,302 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1107: 
            UPDATE catasto.partita
            SET numero_partita = 9008, tipo = 'principale', data_impianto = '1978-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1107;
        
2025-05-25 14:37:13,317 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1107 aggiornata con successo. Righe modificate: 1
2025-05-25 14:37:13,329 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 14:39:03,555 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 14:39:03,567 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1107: 
            UPDATE catasto.partita
            SET numero_partita = 1009, tipo = 'principale', data_impianto = '1978-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1107;
        
2025-05-25 14:39:03,581 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1107 aggiornata con successo. Righe modificate: 1
2025-05-25 14:39:03,592 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 14:39:03,608 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 14:39:03,619 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1107: 
            UPDATE catasto.partita
            SET numero_partita = 1009, tipo = 'principale', data_impianto = '1978-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1107;
        
2025-05-25 14:39:03,633 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1107 aggiornata con successo. Righe modificate: 1
2025-05-25 14:39:03,646 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 14:39:56,774 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 14:39:56,785 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1107: 
            UPDATE catasto.partita
            SET numero_partita = 8008, tipo = 'principale', data_impianto = '1978-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1107;
        
2025-05-25 14:39:56,798 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1107 aggiornata con successo. Righe modificate: 1
2025-05-25 14:39:56,809 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 14:39:56,824 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 14:39:56,836 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1107: 
            UPDATE catasto.partita
            SET numero_partita = 8008, tipo = 'principale', data_impianto = '1978-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1107;
        
2025-05-25 14:39:56,849 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1107 aggiornata con successo. Righe modificate: 1
2025-05-25 14:39:56,860 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:03:17,283 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:03:17,299 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-25 15:03:17,314 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 01c3a66f...
2025-05-25 15:03:18,662 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-25 15:03:18,670 - CatastoDB - INFO - Disconnessione completata
2025-05-25 15:03:18,676 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-25 15:03:18,681 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-25 15:03:18,701 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-25 15:03:25,837 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-25 15:03:25,953 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-25 15:03:26,057 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-25 15:03:31,277 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-25 15:03:31,531 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-25 15:03:31,541 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 5ba5c630...
2025-05-25 15:03:31,546 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:03:31,559 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=5ba5c630...
2025-05-25 15:03:32,546 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-25 15:03:32,893 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 15:03:32,899 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 15:03:32,906 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 15:03:32,912 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 15:03:32,931 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 15:03:33,051 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:03:33,062 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T15:03:32.953000'::timestamp AND timestamp <= '2025-05-25T15:03:32.953000'::timestamp;
2025-05-25 15:03:33,076 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 15:03:33,304 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-25 15:03:33,510 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 15:03:33,529 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 15:03:33,537 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 15:03:33,544 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 15:03:33,564 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 15:03:33,800 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:03:33,811 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T15:03:33.593000'::timestamp AND timestamp <= '2025-05-25T15:03:33.593000'::timestamp;
2025-05-25 15:03:33,825 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 15:03:33,862 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-25 15:03:33,868 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-25 15:03:33,875 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-25 15:03:33,881 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-25 15:03:33,887 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-25 15:03:45,287 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:03:45,299 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1114: 
            UPDATE catasto.partita
            SET numero_partita = 6015, tipo = 'principale', data_impianto = '1982-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1114;
        
2025-05-25 15:03:45,315 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1114 aggiornata con successo. Righe modificate: 1
2025-05-25 15:03:45,327 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:03:45,342 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:03:45,354 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1114: 
            UPDATE catasto.partita
            SET numero_partita = 6015, tipo = 'principale', data_impianto = '1982-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1114;
        
2025-05-25 15:03:45,369 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1114 aggiornata con successo. Righe modificate: 1
2025-05-25 15:03:45,381 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:04:36,116 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:04:36,128 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1100: 
            UPDATE catasto.partita
            SET numero_partita = 9001, tipo = 'principale', data_impianto = '2003-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1100;
        
2025-05-25 15:04:36,143 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1100 aggiornata con successo. Righe modificate: 1
2025-05-25 15:04:36,156 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:04:36,172 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:04:36,185 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1100: 
            UPDATE catasto.partita
            SET numero_partita = 9001, tipo = 'principale', data_impianto = '2003-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1100;
        
2025-05-25 15:04:36,199 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1100 aggiornata con successo. Righe modificate: 1
2025-05-25 15:04:36,210 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:05:52,349 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:05:52,361 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1100: 
            UPDATE catasto.partita
            SET numero_partita = 9001, tipo = 'principale', data_impianto = '2003-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1100;
        
2025-05-25 15:05:52,375 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1100 aggiornata con successo. Righe modificate: 1
2025-05-25 15:05:52,387 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:05:52,402 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:05:52,415 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1100: 
            UPDATE catasto.partita
            SET numero_partita = 9001, tipo = 'principale', data_impianto = '2003-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1100;
        
2025-05-25 15:05:52,428 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1100 aggiornata con successo. Righe modificate: 1
2025-05-25 15:05:52,441 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:08:46,855 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:08:46,868 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-25 15:08:46,882 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 5ba5c630...
2025-05-25 15:08:47,979 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-25 15:08:47,986 - CatastoDB - INFO - Disconnessione completata
2025-05-25 15:08:47,992 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-25 15:08:47,999 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-25 15:08:48,012 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-25 15:09:16,013 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-25 15:09:16,131 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-25 15:09:16,237 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-25 15:09:22,153 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-25 15:09:22,415 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-25 15:09:22,424 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione a7016508...
2025-05-25 15:09:22,430 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:09:22,442 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=a7016508...
2025-05-25 15:09:23,849 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-25 15:09:24,368 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 15:09:24,374 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 15:09:24,381 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 15:09:24,389 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 15:09:24,407 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 15:09:24,585 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:09:24,597 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T15:09:24.424000'::timestamp AND timestamp <= '2025-05-25T15:09:24.424000'::timestamp;
2025-05-25 15:09:24,611 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 15:09:24,850 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-25 15:09:25,055 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 15:09:25,061 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 15:09:25,068 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 15:09:25,076 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 15:09:25,095 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 15:09:25,219 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:09:25,231 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T15:09:25.114000'::timestamp AND timestamp <= '2025-05-25T15:09:25.114000'::timestamp;
2025-05-25 15:09:25,245 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 15:09:25,279 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-25 15:09:25,286 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-25 15:09:25,291 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-25 15:09:25,297 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-25 15:09:25,303 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-25 15:10:08,919 - CatastoGUI - INFO - Tentativo di aggiornare la partita ID 1100 con i dati: {'numero_partita': 5701, 'tipo': 'principale', 'stato': 'attiva', 'data_impianto': datetime.date(2003, 5, 24), 'data_chiusura': datetime.date(2025, 1, 1), 'numero_provenienza': None}
2025-05-25 15:10:09,071 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:10:09,082 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1100: 
            UPDATE catasto.partita
            SET numero_partita = 5701, tipo = 'principale', data_impianto = '2003-05-24'::date, data_chiusura = '2025-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1100;
        
2025-05-25 15:10:09,123 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1100 aggiornata con successo. Righe modificate: 1
2025-05-25 15:10:09,134 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:10:09,147 - CatastoGUI - INFO - Partita ID 1100 aggiornata con successo nel database.
2025-05-25 15:10:54,495 - CatastoGUI - INFO - Tentativo di aggiornare la partita ID 1644 con i dati: {'numero_partita': 6545, 'tipo': 'principale', 'stato': 'attiva', 'data_impianto': datetime.date(2024, 4, 16), 'data_chiusura': datetime.date(2025, 1, 1), 'numero_provenienza': 1383}
2025-05-25 15:10:54,502 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:10:54,514 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1644: 
            UPDATE catasto.partita
            SET numero_partita = 6545, tipo = 'principale', data_impianto = '2024-04-16'::date, data_chiusura = '2025-01-01'::date, numero_provenienza = 1383, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1644;
        
2025-05-25 15:10:54,529 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1644 aggiornata con successo. Righe modificate: 1
2025-05-25 15:10:54,541 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:10:54,554 - CatastoGUI - INFO - Partita ID 1644 aggiornata con successo nel database.
2025-05-25 15:19:24,827 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:19:24,840 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-25 15:19:24,855 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione a7016508...
2025-05-25 15:19:25,997 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-25 15:19:26,003 - CatastoDB - INFO - Disconnessione completata
2025-05-25 15:19:26,009 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-25 15:19:26,015 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-25 15:19:26,036 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-25 15:24:05,170 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-25 15:24:05,329 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-25 15:24:05,439 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-25 15:24:11,583 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-25 15:24:11,840 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-25 15:24:11,855 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione a40344dc...
2025-05-25 15:24:11,861 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:24:11,876 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=a40344dc...
2025-05-25 15:24:12,672 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-25 15:24:12,993 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 15:24:12,999 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 15:24:13,007 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 15:24:13,012 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 15:24:13,032 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 15:24:13,218 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:24:13,238 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T15:24:13.086000'::timestamp AND timestamp <= '2025-05-25T15:24:13.086000'::timestamp;
2025-05-25 15:24:13,254 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 15:24:13,823 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-25 15:24:14,050 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 15:24:14,055 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 15:24:14,062 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 15:24:14,068 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 15:24:14,088 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 15:24:14,216 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:24:14,228 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T15:24:14.108000'::timestamp AND timestamp <= '2025-05-25T15:24:14.108000'::timestamp;
2025-05-25 15:24:14,241 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 15:24:14,274 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-25 15:24:14,279 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-25 15:24:14,284 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-25 15:24:14,289 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-25 15:24:14,294 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-25 15:25:46,196 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-25 15:25:46,408 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-25 15:25:46,513 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-25 15:25:52,151 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-25 15:25:52,407 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-25 15:25:52,421 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione c9d49c4b...
2025-05-25 15:25:52,427 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:25:52,440 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=c9d49c4b...
2025-05-25 15:25:53,892 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-25 15:25:54,362 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 15:25:54,388 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 15:25:54,414 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 15:25:54,420 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 15:25:54,448 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 15:25:54,678 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:25:54,689 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T15:25:54.471000'::timestamp AND timestamp <= '2025-05-25T15:25:54.471000'::timestamp;
2025-05-25 15:25:54,703 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 15:25:54,919 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-25 15:25:55,150 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 15:25:55,157 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 15:25:55,164 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 15:25:55,172 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 15:25:55,192 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 15:25:55,332 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:25:55,344 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T15:25:55.219000'::timestamp AND timestamp <= '2025-05-25T15:25:55.219000'::timestamp;
2025-05-25 15:25:55,358 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 15:25:55,394 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-25 15:25:55,399 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-25 15:25:55,405 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-25 15:25:55,411 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-25 15:25:55,417 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-25 15:28:57,766 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-25 15:28:57,885 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-25 15:28:57,996 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-25 15:29:03,616 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-25 15:29:03,871 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-25 15:29:03,884 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione e58f3ef5...
2025-05-25 15:29:03,890 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:29:03,904 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=e58f3ef5...
2025-05-25 15:29:04,652 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-25 15:29:05,322 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 15:29:05,328 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 15:29:05,336 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 15:29:05,342 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 15:29:05,361 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 15:29:05,482 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:29:05,493 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T15:29:05.386000'::timestamp AND timestamp <= '2025-05-25T15:29:05.386000'::timestamp;
2025-05-25 15:29:05,508 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 15:29:05,598 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-25 15:29:06,090 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 15:29:06,097 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 15:29:06,103 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 15:29:06,109 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 15:29:06,128 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 15:29:06,254 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:29:06,266 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T15:29:06.150000'::timestamp AND timestamp <= '2025-05-25T15:29:06.150000'::timestamp;
2025-05-25 15:29:06,280 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 15:29:06,314 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-25 15:29:06,320 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-25 15:29:06,325 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-25 15:29:06,331 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-25 15:29:06,336 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-25 15:29:20,693 - CatastoGUI - INFO - Tentativo di aggiornare i dati generali della partita ID 1115 con: {'numero_partita': 1016, 'tipo': 'principale', 'stato': 'inattiva', 'data_impianto': datetime.date(1982, 5, 24), 'data_chiusura': datetime.date(2025, 3, 20), 'numero_provenienza': None}
2025-05-25 15:29:20,795 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:29:20,806 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1115: 
            UPDATE catasto.partita
            SET numero_partita = 1016, tipo = 'principale', data_impianto = '1982-05-24'::date, data_chiusura = '2025-03-20'::date, numero_provenienza = NULL, stato = 'inattiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1115;
        
2025-05-25 15:29:20,822 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1115 aggiornata con successo. Righe modificate: 1
2025-05-25 15:29:20,833 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:29:20,845 - CatastoGUI - INFO - Dati generali della Partita ID 1115 aggiornati con successo.
2025-05-25 15:29:23,430 - CatastoGUI - INFO - Tentativo di aggiornare la partita ID 1115 con i dati: {'numero_partita': 1016, 'tipo': 'principale', 'stato': 'inattiva', 'data_impianto': datetime.date(1982, 5, 24), 'data_chiusura': datetime.date(2025, 3, 20), 'numero_provenienza': None}
2025-05-25 15:29:23,436 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:29:23,448 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1115: 
            UPDATE catasto.partita
            SET numero_partita = 1016, tipo = 'principale', data_impianto = '1982-05-24'::date, data_chiusura = '2025-03-20'::date, numero_provenienza = NULL, stato = 'inattiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1115;
        
2025-05-25 15:29:23,463 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1115 aggiornata con successo. Righe modificate: 1
2025-05-25 15:29:23,475 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 15:29:23,487 - CatastoGUI - INFO - Partita ID 1115 aggiornata con successo nel database.
2025-05-25 16:15:08,803 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-25 16:15:08,989 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-25 16:15:09,099 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-25 16:15:14,275 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-25 16:15:14,537 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-25 16:15:14,550 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 7a0185ad...
2025-05-25 16:15:14,556 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:15:14,567 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=7a0185ad...
2025-05-25 16:15:15,961 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-25 16:15:16,317 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 16:15:16,324 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 16:15:16,331 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 16:15:16,337 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 16:15:16,360 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 16:15:16,488 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:15:16,499 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T16:15:16.387000'::timestamp AND timestamp <= '2025-05-25T16:15:16.387000'::timestamp;
2025-05-25 16:15:16,514 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 16:15:16,731 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-25 16:15:16,978 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 16:15:16,984 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 16:15:16,997 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 16:15:17,003 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 16:15:17,023 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 16:15:17,144 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:15:17,155 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T16:15:17.042000'::timestamp AND timestamp <= '2025-05-25T16:15:17.042000'::timestamp;
2025-05-25 16:15:17,169 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 16:15:17,213 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-25 16:15:17,219 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-25 16:15:17,224 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-25 16:15:17,229 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-25 16:15:17,235 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-25 16:15:35,564 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 1115
2025-05-25 16:15:35,682 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:15:35,694 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 1115: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 1115
            ORDER BY
                pos.nome_completo;
        
2025-05-25 16:15:35,710 - CatastoDB_catasto_storico_localhost - INFO - Trovati 1 possessori per la partita ID 1115.
2025-05-25 16:15:35,721 - CatastoGUI - ERROR - Errore durante il caricamento dei possessori per la partita ID 1115: 'CatastoDBManager' object has no attribute 'release_connection'
Traceback (most recent call last):
  File "U:\catasto\gemini\prova.py", line 1741, in _load_possessori_associati
    possessori = self.db_manager.get_possessori_per_partita(self.partita_id)
  File "U:\catasto\gemini\catasto_db_manager.py", line 566, in get_possessori_per_partita
    self.release_connection(conn)
    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CatastoDBManager' object has no attribute 'release_connection'. Did you mean: '_release_connection'?
2025-05-25 16:15:52,407 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:15:52,420 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-25 16:15:52,433 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 7a0185ad...
2025-05-25 16:15:53,807 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-25 16:15:53,814 - CatastoDB - INFO - Disconnessione completata
2025-05-25 16:15:53,820 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-25 16:15:53,826 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-25 16:15:53,842 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-25 16:16:53,855 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-25 16:16:54,007 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-25 16:16:54,115 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-25 16:16:59,597 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-25 16:16:59,850 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-25 16:16:59,863 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 63b58e94...
2025-05-25 16:16:59,869 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:16:59,883 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=63b58e94...
2025-05-25 16:17:00,757 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-25 16:17:01,103 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 16:17:01,110 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 16:17:01,116 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 16:17:01,123 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 16:17:01,141 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 16:17:01,265 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:17:01,277 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T16:17:01.167000'::timestamp AND timestamp <= '2025-05-25T16:17:01.167000'::timestamp;
2025-05-25 16:17:01,292 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 16:17:01,524 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-25 16:17:01,847 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 16:17:01,853 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 16:17:01,860 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 16:17:01,865 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 16:17:01,920 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 16:17:02,040 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:17:02,052 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T16:17:01.937000'::timestamp AND timestamp <= '2025-05-25T16:17:01.937000'::timestamp;
2025-05-25 16:17:02,070 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 16:17:02,126 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-25 16:17:02,131 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-25 16:17:02,136 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-25 16:17:02,142 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-25 16:17:02,149 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-25 16:17:07,568 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 1116
2025-05-25 16:17:07,668 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:17:07,679 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 1116: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 1116
            ORDER BY
                pos.nome_completo;
        
2025-05-25 16:17:07,695 - CatastoDB_catasto_storico_localhost - INFO - Trovati 1 possessori per la partita ID 1116.
2025-05-25 16:17:07,706 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:17:36,792 - CatastoGUI - INFO - Tentativo di aggiornare i dati generali della partita ID 1116 con: {'numero_partita': 1017, 'tipo': 'principale', 'stato': 'attiva', 'data_impianto': datetime.date(1978, 5, 24), 'data_chiusura': datetime.date(2000, 1, 1), 'numero_provenienza': None}
2025-05-25 16:17:36,798 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:17:36,810 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1116: 
            UPDATE catasto.partita
            SET numero_partita = 1017, tipo = 'principale', data_impianto = '1978-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1116;
        
2025-05-25 16:17:36,824 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1116 aggiornata con successo. Righe modificate: 1
2025-05-25 16:17:36,837 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:17:36,849 - CatastoGUI - INFO - Dati generali della Partita ID 1116 aggiornati con successo.
2025-05-25 16:17:37,828 - CatastoGUI - INFO - Tentativo di aggiornare la partita ID 1116 con i dati: {'numero_partita': 1017, 'tipo': 'principale', 'stato': 'attiva', 'data_impianto': datetime.date(1978, 5, 24), 'data_chiusura': datetime.date(2000, 1, 1), 'numero_provenienza': None}
2025-05-25 16:17:37,838 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:17:37,853 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1116: 
            UPDATE catasto.partita
            SET numero_partita = 1017, tipo = 'principale', data_impianto = '1978-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1116;
        
2025-05-25 16:17:37,865 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1116 aggiornata con successo. Righe modificate: 1
2025-05-25 16:17:37,876 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:17:37,886 - CatastoGUI - INFO - Partita ID 1116 aggiornata con successo nel database.
2025-05-25 16:21:14,958 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-25 16:21:15,255 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-25 16:21:15,388 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-25 16:21:22,045 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-25 16:21:22,305 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-25 16:21:22,321 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 6d219e7a...
2025-05-25 16:21:22,327 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:21:22,340 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=6d219e7a...
2025-05-25 16:21:23,433 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-25 16:21:23,807 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 16:21:23,823 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 16:21:23,832 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 16:21:23,839 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 16:21:23,869 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 16:21:23,986 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:21:23,998 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T16:21:23.890000'::timestamp AND timestamp <= '2025-05-25T16:21:23.890000'::timestamp;
2025-05-25 16:21:24,012 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 16:21:24,242 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-25 16:21:24,470 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 16:21:24,477 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 16:21:24,484 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 16:21:24,492 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 16:21:24,517 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 16:21:24,643 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:21:24,655 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T16:21:24.545000'::timestamp AND timestamp <= '2025-05-25T16:21:24.545000'::timestamp;
2025-05-25 16:21:24,670 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 16:21:24,704 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-25 16:21:24,710 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-25 16:21:24,716 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-25 16:21:24,722 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-25 16:21:24,729 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-25 16:21:30,710 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 1113
2025-05-25 16:21:30,811 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:21:30,837 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 1113: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 1113
            ORDER BY
                pos.nome_completo;
        
2025-05-25 16:21:30,854 - CatastoDB_catasto_storico_localhost - INFO - Trovati 1 possessori per la partita ID 1113.
2025-05-25 16:21:30,865 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:22:00,955 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 1113
2025-05-25 16:22:00,961 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:22:00,972 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 1113: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 1113
            ORDER BY
                pos.nome_completo;
        
2025-05-25 16:22:00,986 - CatastoDB_catasto_storico_localhost - INFO - Trovati 1 possessori per la partita ID 1113.
2025-05-25 16:22:00,998 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:23:10,680 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 1113
2025-05-25 16:23:10,686 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:23:10,699 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 1113: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 1113
            ORDER BY
                pos.nome_completo;
        
2025-05-25 16:23:10,715 - CatastoDB_catasto_storico_localhost - INFO - Trovati 1 possessori per la partita ID 1113.
2025-05-25 16:23:10,730 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:24:34,115 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:24:34,165 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-25 16:24:34,194 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 6d219e7a...
2025-05-25 16:24:35,183 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-25 16:24:35,190 - CatastoDB - INFO - Disconnessione completata
2025-05-25 16:24:35,195 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-25 16:24:35,200 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-25 16:24:35,220 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-25 16:24:42,245 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-25 16:24:42,425 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-25 16:24:42,655 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-25 16:24:47,773 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-25 16:24:48,033 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-25 16:24:48,042 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 022c4e42...
2025-05-25 16:24:48,048 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:24:48,061 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=022c4e42...
2025-05-25 16:24:48,856 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-25 16:24:49,300 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 16:24:49,306 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 16:24:49,313 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 16:24:49,319 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 16:24:49,336 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 16:24:49,453 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:24:49,465 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T16:24:49.359000'::timestamp AND timestamp <= '2025-05-25T16:24:49.359000'::timestamp;
2025-05-25 16:24:49,478 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 16:24:49,567 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-25 16:24:49,888 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 16:24:49,894 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 16:24:49,901 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 16:24:49,907 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 16:24:49,924 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 16:24:50,041 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:24:50,053 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T16:24:49.944000'::timestamp AND timestamp <= '2025-05-25T16:24:49.944000'::timestamp;
2025-05-25 16:24:50,066 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 16:24:50,099 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-25 16:24:50,107 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-25 16:24:50,115 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-25 16:24:50,121 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-25 16:24:50,134 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-25 16:24:55,257 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 1106
2025-05-25 16:24:55,372 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:24:55,386 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 1106: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 1106
            ORDER BY
                pos.nome_completo;
        
2025-05-25 16:24:55,401 - CatastoDB_catasto_storico_localhost - INFO - Trovati 1 possessori per la partita ID 1106.
2025-05-25 16:24:55,413 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:29:39,813 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:29:39,826 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-25 16:29:39,843 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 022c4e42...
2025-05-25 16:29:40,913 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-25 16:29:40,920 - CatastoDB - INFO - Disconnessione completata
2025-05-25 16:29:40,926 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-25 16:29:40,931 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-25 16:29:40,945 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-25 16:29:48,801 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-25 16:29:48,919 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-25 16:29:49,025 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-25 16:29:57,878 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-25 16:29:58,134 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-25 16:29:58,143 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 3b9b19c3...
2025-05-25 16:29:58,149 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:29:58,162 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=3b9b19c3...
2025-05-25 16:29:59,755 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-25 16:30:00,147 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 16:30:00,156 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 16:30:00,164 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 16:30:00,171 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 16:30:00,213 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 16:30:00,400 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:30:00,416 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T16:30:00.267000'::timestamp AND timestamp <= '2025-05-25T16:30:00.267000'::timestamp;
2025-05-25 16:30:00,435 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 16:30:00,772 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-25 16:30:01,134 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 16:30:01,140 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 16:30:01,146 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 16:30:01,154 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 16:30:01,175 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 16:30:01,399 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:30:01,440 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T16:30:01.186000'::timestamp AND timestamp <= '2025-05-25T16:30:01.186000'::timestamp;
2025-05-25 16:30:01,455 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 16:30:02,017 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-25 16:30:02,070 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-25 16:30:02,085 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-25 16:30:02,095 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-25 16:30:02,104 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-25 16:30:08,149 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 1113
2025-05-25 16:30:08,155 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 1113
2025-05-25 16:30:08,381 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:30:08,393 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 1113: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 1113
            ORDER BY
                pos.nome_completo;
        
2025-05-25 16:30:08,408 - CatastoDB_catasto_storico_localhost - INFO - Trovati 1 possessori per la partita ID 1113.
2025-05-25 16:30:08,419 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:30:08,431 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 1113, 'possessore_id': 203, 'nome_completo_possessore': 'Possessore 3-3 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}]
2025-05-25 16:30:08,437 - CatastoGUI - INFO - DEBUG: Tabella impostata a 1 righe.
2025-05-25 16:30:08,444 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 1113, 'possessore_id': 203, 'nome_completo_possessore': 'Possessore 3-3 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-25 16:30:08,451 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-25 16:32:03,781 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:32:03,794 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-25 16:32:03,809 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 3b9b19c3...
2025-05-25 16:32:04,951 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-25 16:32:04,958 - CatastoDB - INFO - Disconnessione completata
2025-05-25 16:32:04,963 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-25 16:32:04,970 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-25 16:32:04,991 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-25 16:37:13,603 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-25 16:37:13,879 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-25 16:37:13,986 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-25 16:37:26,004 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-25 16:37:26,266 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-25 16:37:26,281 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 0e15fb05...
2025-05-25 16:37:26,287 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:37:26,300 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=0e15fb05...
2025-05-25 16:37:27,389 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-25 16:37:27,720 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 16:37:27,727 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 16:37:27,734 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 16:37:27,742 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 16:37:27,771 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 16:37:27,953 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:37:27,965 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T16:37:27.789000'::timestamp AND timestamp <= '2025-05-25T16:37:27.789000'::timestamp;
2025-05-25 16:37:27,987 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 16:37:28,338 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-25 16:37:28,542 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 16:37:28,549 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 16:37:28,558 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 16:37:28,565 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 16:37:28,605 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 16:37:28,729 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:37:28,741 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T16:37:28.626000'::timestamp AND timestamp <= '2025-05-25T16:37:28.626000'::timestamp;
2025-05-25 16:37:28,756 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 16:37:28,806 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-25 16:37:28,812 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-25 16:37:28,817 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-25 16:37:28,824 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-25 16:37:28,830 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-25 16:37:34,071 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 1106
2025-05-25 16:37:34,076 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 1106
2025-05-25 16:37:34,185 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:37:34,197 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 1106: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 1106
            ORDER BY
                pos.nome_completo;
        
2025-05-25 16:37:34,212 - CatastoDB_catasto_storico_localhost - INFO - Trovati 1 possessori per la partita ID 1106.
2025-05-25 16:37:34,225 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:37:34,240 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 1106, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}]
2025-05-25 16:37:34,246 - CatastoGUI - INFO - DEBUG: Tabella impostata a 1 righe.
2025-05-25 16:37:34,252 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 1106, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-25 16:37:34,261 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-25 16:37:54,886 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 16:37:54,900 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-25 16:37:54,914 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 0e15fb05...
2025-05-25 16:37:56,376 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-25 16:37:56,382 - CatastoDB - INFO - Disconnessione completata
2025-05-25 16:37:56,388 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-25 16:37:56,394 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-25 16:37:56,409 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-25 17:18:41,159 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-25 17:18:41,305 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-25 17:18:41,416 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-25 17:18:46,580 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-25 17:18:46,840 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-25 17:18:46,870 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione e59dea6e...
2025-05-25 17:18:46,875 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:18:46,888 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=e59dea6e...
2025-05-25 17:18:47,734 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-25 17:18:48,077 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 17:18:48,083 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 17:18:48,091 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 17:18:48,099 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 17:18:48,116 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 17:18:48,250 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:18:48,261 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T17:18:48.154000'::timestamp AND timestamp <= '2025-05-25T17:18:48.154000'::timestamp;
2025-05-25 17:18:48,276 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 17:18:48,622 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-25 17:18:48,835 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 17:18:48,842 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 17:18:48,851 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 17:18:48,858 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 17:18:48,880 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 17:18:49,005 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:18:49,017 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T17:18:48.905000'::timestamp AND timestamp <= '2025-05-25T17:18:48.905000'::timestamp;
2025-05-25 17:18:49,030 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 17:18:49,066 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-25 17:18:49,072 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-25 17:18:49,078 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-25 17:18:49,084 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-25 17:18:49,089 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-25 17:18:56,698 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 1106
2025-05-25 17:18:56,704 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 1106
2025-05-25 17:18:56,805 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:18:56,824 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 1106: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 1106
            ORDER BY
                pos.nome_completo;
        
2025-05-25 17:18:56,840 - CatastoDB_catasto_storico_localhost - INFO - Trovati 1 possessori per la partita ID 1106.
2025-05-25 17:18:56,875 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:18:56,887 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 1106, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}]
2025-05-25 17:18:56,908 - CatastoGUI - INFO - DEBUG: Tabella impostata a 1 righe.
2025-05-25 17:18:56,914 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 1106, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-25 17:18:56,920 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-25 17:19:06,619 - CatastoGUI - INFO - Possessore selezionato/creato: ID 211, Nome: Possessore 3-11 Rossi
2025-05-25 17:19:12,401 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:19:12,412 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query aggiungi_possessore_a_partita: 
            INSERT INTO catasto.partita_possessore
                (partita_id, possessore_id, tipo_partita, titolo, quota, data_creazione, data_modifica)
            VALUES
                (1106, 211, 'secondaria', 'propriet‡ esclusiva', NULL, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP)
            RETURNING id; 
        
2025-05-25 17:19:12,433 - CatastoDB_catasto_storico_localhost - INFO - Possessore ID 211 associato con successo alla partita ID 1106 (ID Relazione: 2764).
2025-05-25 17:19:12,445 - CatastoGUI - CRITICAL - Metodo 'aggiungi_possessore_a_partita' non trovato: 'CatastoDBManager' object has no attribute 'release_connection'
Traceback (most recent call last):
  File "U:\catasto\gemini\prova.py", line 1874, in _aggiungi_possessore_a_partita
    success = self.db_manager.aggiungi_possessore_a_partita(
        partita_id=self.partita_id,
    ...<3 lines>...
        quota=quota_possesso
    )
  File "U:\catasto\gemini\catasto_db_manager.py", line 1295, in aggiungi_possessore_a_partita
    self.release_connection(conn)
    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CatastoDBManager' object has no attribute 'release_connection'. Did you mean: '_release_connection'?
2025-05-25 17:19:22,140 - CatastoGUI - INFO - Tentativo di aggiornare i dati generali della partita ID 1106 con: {'numero_partita': 1007, 'tipo': 'secondaria', 'stato': 'attiva', 'data_impianto': datetime.date(1995, 5, 24), 'data_chiusura': datetime.date(2000, 1, 1), 'numero_provenienza': None}
2025-05-25 17:19:22,261 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:19:22,272 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1106: 
            UPDATE catasto.partita
            SET numero_partita = 1007, tipo = 'secondaria', data_impianto = '1995-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1106;
        
2025-05-25 17:19:22,290 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1106 aggiornata con successo. Righe modificate: 1
2025-05-25 17:19:22,306 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:19:22,321 - CatastoGUI - INFO - Dati generali della Partita ID 1106 aggiornati con successo.
2025-05-25 17:19:23,539 - CatastoGUI - INFO - Tentativo di aggiornare la partita ID 1106 con i dati: {'numero_partita': 1007, 'tipo': 'secondaria', 'stato': 'attiva', 'data_impianto': datetime.date(1995, 5, 24), 'data_chiusura': datetime.date(2000, 1, 1), 'numero_provenienza': None}
2025-05-25 17:19:23,545 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:19:23,556 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1106: 
            UPDATE catasto.partita
            SET numero_partita = 1007, tipo = 'secondaria', data_impianto = '1995-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1106;
        
2025-05-25 17:19:23,571 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1106 aggiornata con successo. Righe modificate: 1
2025-05-25 17:19:23,582 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:19:23,594 - CatastoGUI - INFO - Partita ID 1106 aggiornata con successo nel database.
2025-05-25 17:19:35,620 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 1106
2025-05-25 17:19:35,626 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 1106
2025-05-25 17:19:35,632 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:19:35,644 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 1106: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 1106
            ORDER BY
                pos.nome_completo;
        
2025-05-25 17:19:35,659 - CatastoDB_catasto_storico_localhost - INFO - Trovati 2 possessori per la partita ID 1106.
2025-05-25 17:19:35,672 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:19:35,684 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 2764, 'possessore_id': 211, 'nome_completo_possessore': 'Possessore 3-11 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'secondaria'}, {'id_relazione_partita_possessore': 1106, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}]
2025-05-25 17:19:35,690 - CatastoGUI - INFO - DEBUG: Tabella impostata a 2 righe.
2025-05-25 17:19:35,696 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 2764, 'possessore_id': 211, 'nome_completo_possessore': 'Possessore 3-11 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'secondaria'}
2025-05-25 17:19:35,702 - CatastoGUI - INFO - DEBUG: Popolamento riga 1, dati: {'id_relazione_partita_possessore': 1106, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-25 17:19:35,708 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-25 17:20:03,608 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 1106
2025-05-25 17:20:03,613 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 1106
2025-05-25 17:20:03,619 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:20:03,630 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 1106: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 1106
            ORDER BY
                pos.nome_completo;
        
2025-05-25 17:20:03,646 - CatastoDB_catasto_storico_localhost - INFO - Trovati 2 possessori per la partita ID 1106.
2025-05-25 17:20:03,660 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:20:03,671 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 2764, 'possessore_id': 211, 'nome_completo_possessore': 'Possessore 3-11 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'secondaria'}, {'id_relazione_partita_possessore': 1106, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}]
2025-05-25 17:20:03,678 - CatastoGUI - INFO - DEBUG: Tabella impostata a 2 righe.
2025-05-25 17:20:03,682 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 2764, 'possessore_id': 211, 'nome_completo_possessore': 'Possessore 3-11 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'secondaria'}
2025-05-25 17:20:03,689 - CatastoGUI - INFO - DEBUG: Popolamento riga 1, dati: {'id_relazione_partita_possessore': 1106, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-25 17:20:03,696 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-25 17:21:02,725 - CatastoGUI - INFO - Tentativo di aggiornare i dati generali della partita ID 1106 con: {'numero_partita': 1007, 'tipo': 'secondaria', 'stato': 'attiva', 'data_impianto': datetime.date(1995, 5, 24), 'data_chiusura': datetime.date(2000, 1, 1), 'numero_provenienza': None}
2025-05-25 17:21:02,731 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:21:02,743 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1106: 
            UPDATE catasto.partita
            SET numero_partita = 1007, tipo = 'secondaria', data_impianto = '1995-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1106;
        
2025-05-25 17:21:02,757 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1106 aggiornata con successo. Righe modificate: 1
2025-05-25 17:21:02,771 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:21:02,783 - CatastoGUI - INFO - Dati generali della Partita ID 1106 aggiornati con successo.
2025-05-25 17:21:03,772 - CatastoGUI - INFO - Tentativo di aggiornare la partita ID 1106 con i dati: {'numero_partita': 1007, 'tipo': 'secondaria', 'stato': 'attiva', 'data_impianto': datetime.date(1995, 5, 24), 'data_chiusura': datetime.date(2000, 1, 1), 'numero_provenienza': None}
2025-05-25 17:21:03,778 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:21:03,790 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1106: 
            UPDATE catasto.partita
            SET numero_partita = 1007, tipo = 'secondaria', data_impianto = '1995-05-24'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1106;
        
2025-05-25 17:21:03,806 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1106 aggiornata con successo. Righe modificate: 1
2025-05-25 17:21:03,816 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:21:03,828 - CatastoGUI - INFO - Partita ID 1106 aggiornata con successo nel database.
2025-05-25 17:21:21,374 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 1106
2025-05-25 17:21:21,379 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 1106
2025-05-25 17:21:21,385 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:21:21,397 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 1106: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 1106
            ORDER BY
                pos.nome_completo;
        
2025-05-25 17:21:21,413 - CatastoDB_catasto_storico_localhost - INFO - Trovati 2 possessori per la partita ID 1106.
2025-05-25 17:21:21,425 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:21:21,437 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 2764, 'possessore_id': 211, 'nome_completo_possessore': 'Possessore 3-11 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'secondaria'}, {'id_relazione_partita_possessore': 1106, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}]
2025-05-25 17:21:21,443 - CatastoGUI - INFO - DEBUG: Tabella impostata a 2 righe.
2025-05-25 17:21:21,449 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 2764, 'possessore_id': 211, 'nome_completo_possessore': 'Possessore 3-11 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'secondaria'}
2025-05-25 17:21:21,455 - CatastoGUI - INFO - DEBUG: Popolamento riga 1, dati: {'id_relazione_partita_possessore': 1106, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-25 17:21:21,462 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-25 17:23:54,272 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 1113
2025-05-25 17:23:54,278 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 1113
2025-05-25 17:23:54,283 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:23:54,296 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 1113: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 1113
            ORDER BY
                pos.nome_completo;
        
2025-05-25 17:23:54,315 - CatastoDB_catasto_storico_localhost - INFO - Trovati 1 possessori per la partita ID 1113.
2025-05-25 17:23:54,327 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:23:54,339 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 1113, 'possessore_id': 203, 'nome_completo_possessore': 'Possessore 3-3 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}]
2025-05-25 17:23:54,345 - CatastoGUI - INFO - DEBUG: Tabella impostata a 1 righe.
2025-05-25 17:23:54,350 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 1113, 'possessore_id': 203, 'nome_completo_possessore': 'Possessore 3-3 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-25 17:23:54,357 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-25 17:24:05,969 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 1106
2025-05-25 17:24:05,975 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 1106
2025-05-25 17:24:05,981 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:24:05,994 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 1106: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 1106
            ORDER BY
                pos.nome_completo;
        
2025-05-25 17:24:06,010 - CatastoDB_catasto_storico_localhost - INFO - Trovati 2 possessori per la partita ID 1106.
2025-05-25 17:24:06,022 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:24:06,033 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 2764, 'possessore_id': 211, 'nome_completo_possessore': 'Possessore 3-11 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'secondaria'}, {'id_relazione_partita_possessore': 1106, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}]
2025-05-25 17:24:06,040 - CatastoGUI - INFO - DEBUG: Tabella impostata a 2 righe.
2025-05-25 17:24:06,045 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 2764, 'possessore_id': 211, 'nome_completo_possessore': 'Possessore 3-11 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'secondaria'}
2025-05-25 17:24:06,051 - CatastoGUI - INFO - DEBUG: Popolamento riga 1, dati: {'id_relazione_partita_possessore': 1106, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-25 17:24:06,058 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-25 17:24:51,645 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 1106
2025-05-25 17:24:51,650 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 1106
2025-05-25 17:24:51,656 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:24:51,668 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 1106: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 1106
            ORDER BY
                pos.nome_completo;
        
2025-05-25 17:24:51,682 - CatastoDB_catasto_storico_localhost - INFO - Trovati 2 possessori per la partita ID 1106.
2025-05-25 17:24:51,694 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:24:51,706 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 2764, 'possessore_id': 211, 'nome_completo_possessore': 'Possessore 3-11 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'secondaria'}, {'id_relazione_partita_possessore': 1106, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}]
2025-05-25 17:24:51,712 - CatastoGUI - INFO - DEBUG: Tabella impostata a 2 righe.
2025-05-25 17:24:51,717 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 2764, 'possessore_id': 211, 'nome_completo_possessore': 'Possessore 3-11 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'secondaria'}
2025-05-25 17:24:51,728 - CatastoGUI - INFO - DEBUG: Popolamento riga 1, dati: {'id_relazione_partita_possessore': 1106, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-25 17:24:51,735 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-25 17:25:28,528 - CatastoGUI - INFO - Possessore selezionato/creato: ID 201, Nome: Possessore 3-1 Rossi
2025-05-25 17:25:32,269 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:25:32,281 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query aggiungi_possessore_a_partita: 
            INSERT INTO catasto.partita_possessore
                (partita_id, possessore_id, tipo_partita, titolo, quota, data_creazione, data_modifica)
            VALUES
                (1106, 201, 'secondaria', 'propriet‡ esclusiva', NULL, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP)
            RETURNING id; 
        
2025-05-25 17:25:32,297 - CatastoDB_catasto_storico_localhost - INFO - Possessore ID 201 associato con successo alla partita ID 1106 (ID Relazione: 2765).
2025-05-25 17:25:32,309 - CatastoGUI - CRITICAL - Metodo 'aggiungi_possessore_a_partita' non trovato: 'CatastoDBManager' object has no attribute 'release_connection'
Traceback (most recent call last):
  File "U:\catasto\gemini\prova.py", line 1874, in _aggiungi_possessore_a_partita
    success = self.db_manager.aggiungi_possessore_a_partita(
        partita_id=self.partita_id,
    ...<3 lines>...
        quota=quota_possesso
    )
  File "U:\catasto\gemini\catasto_db_manager.py", line 1295, in aggiungi_possessore_a_partita
    self.release_connection(conn)
    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CatastoDBManager' object has no attribute 'release_connection'. Did you mean: '_release_connection'?
2025-05-25 17:25:42,420 - CatastoGUI - INFO - Possessore selezionato/creato: ID 300, Nome: Possessore 3-100 Rossi
2025-05-25 17:25:44,924 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 166, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 17:25:44,962 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 17:25:44,975 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 17:25:44,989 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query aggiungi_possessore_a_partita: 
            INSERT INTO catasto.partita_possessore
                (partita_id, possessore_id, tipo_partita, titolo, quota, data_creazione, data_modifica)
            VALUES
                (1106, 300, 'secondaria', 'propriet‡ esclusiva', NULL, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP)
            RETURNING id; 
        
2025-05-25 17:25:45,008 - CatastoDB_catasto_storico_localhost - INFO - Possessore ID 300 associato con successo alla partita ID 1106 (ID Relazione: 2766).
2025-05-25 17:25:45,020 - CatastoGUI - CRITICAL - Metodo 'aggiungi_possessore_a_partita' non trovato: 'CatastoDBManager' object has no attribute 'release_connection'
Traceback (most recent call last):
  File "U:\catasto\gemini\prova.py", line 1874, in _aggiungi_possessore_a_partita
    success = self.db_manager.aggiungi_possessore_a_partita(
        partita_id=self.partita_id,
    ...<3 lines>...
        quota=quota_possesso
    )
  File "U:\catasto\gemini\catasto_db_manager.py", line 1295, in aggiungi_possessore_a_partita
    self.release_connection(conn)
    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CatastoDBManager' object has no attribute 'release_connection'. Did you mean: '_release_connection'?
2025-05-25 17:28:50,594 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 166, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\ipabcrmm\AppData\Roaming\Python\Python313\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 17:28:50,629 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 17:28:50,640 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 17:28:50,652 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-25 17:28:50,669 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione e59dea6e...
2025-05-25 17:28:52,827 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-25 17:28:52,836 - CatastoDB - INFO - Disconnessione completata
2025-05-25 17:28:52,842 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-25 17:28:52,848 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-25 17:28:52,861 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-25 17:34:35,239 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-25 17:34:35,365 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-25 17:34:35,471 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-25 17:34:47,441 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-25 17:34:47,695 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-25 17:34:47,710 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 4e5530b5...
2025-05-25 17:34:47,716 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:34:47,730 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=4e5530b5...
2025-05-25 17:34:48,716 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-25 17:34:49,050 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 17:34:49,057 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 17:34:49,064 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 17:34:49,070 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 17:34:49,087 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 17:34:49,210 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:34:49,222 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T17:34:49.111000'::timestamp AND timestamp <= '2025-05-25T17:34:49.111000'::timestamp;
2025-05-25 17:34:49,236 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 17:34:49,471 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-25 17:34:49,678 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_statistiche_comune ORDER BY comune... Errore: ERRORE:  la vista materializzata "mv_statistiche_comune" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 17:34:49,684 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 17:34:49,690 - CatastoDB - ERROR - Errore DB durante l'esecuzione della query: SELECT * FROM mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT %s... Errore: ERRORE:  la vista materializzata "mv_immobili_per_tipologia" non Ë stata popolata
HINT:  Usa il comando REFRESH MATERIALIZED VIEW.

2025-05-25 17:34:49,698 - CatastoDB - INFO - Rollback eseguito.
2025-05-25 17:34:49,718 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 17:34:49,842 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:34:49,854 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T17:34:49.741000'::timestamp AND timestamp <= '2025-05-25T17:34:49.741000'::timestamp;
2025-05-25 17:34:49,868 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 17:34:49,904 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-25 17:34:49,910 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-25 17:34:49,916 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-25 17:34:49,923 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-25 17:34:49,928 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-25 17:34:56,722 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 1106
2025-05-25 17:34:56,728 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 1106
2025-05-25 17:34:56,829 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:34:56,840 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 1106: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 1106
            ORDER BY
                pos.nome_completo;
        
2025-05-25 17:34:56,858 - CatastoDB_catasto_storico_localhost - INFO - Trovati 4 possessori per la partita ID 1106.
2025-05-25 17:34:56,869 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 17:34:56,880 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 2765, 'possessore_id': 201, 'nome_completo_possessore': 'Possessore 3-1 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'secondaria'}, {'id_relazione_partita_possessore': 2766, 'possessore_id': 300, 'nome_completo_possessore': 'Possessore 3-100 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'secondaria'}, {'id_relazione_partita_possessore': 2764, 'possessore_id': 211, 'nome_completo_possessore': 'Possessore 3-11 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'secondaria'}, {'id_relazione_partita_possessore': 1106, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}]
2025-05-25 17:34:56,888 - CatastoGUI - INFO - DEBUG: Tabella impostata a 4 righe.
2025-05-25 17:34:56,893 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 2765, 'possessore_id': 201, 'nome_completo_possessore': 'Possessore 3-1 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'secondaria'}
2025-05-25 17:34:56,900 - CatastoGUI - INFO - DEBUG: Popolamento riga 1, dati: {'id_relazione_partita_possessore': 2766, 'possessore_id': 300, 'nome_completo_possessore': 'Possessore 3-100 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'secondaria'}
2025-05-25 17:34:56,907 - CatastoGUI - INFO - DEBUG: Popolamento riga 2, dati: {'id_relazione_partita_possessore': 2764, 'possessore_id': 211, 'nome_completo_possessore': 'Possessore 3-11 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'secondaria'}
2025-05-25 17:34:56,915 - CatastoGUI - INFO - DEBUG: Popolamento riga 3, dati: {'id_relazione_partita_possessore': 1106, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-25 17:34:56,922 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-25 17:35:16,040 - CatastoGUI - INFO - Possessore selezionato/creato: ID 211, Nome: Possessore 3-11 Rossi
2025-05-25 18:28:18,333 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-25 18:28:18,485 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-25 18:28:18,583 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-25 18:28:28,507 - CatastoGUI - WARNING - Login GUI fallito (utente 'admiin' non trovato/attivo).
2025-05-25 18:28:32,451 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-25 18:28:32,764 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-25 18:28:32,818 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione f99d46e7...
2025-05-25 18:28:32,819 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 18:28:32,821 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=f99d46e7...
2025-05-25 18:28:34,279 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-25 18:28:34,674 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 18:28:34,794 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 18:28:34,796 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T18:28:34.717000'::timestamp AND timestamp <= '2025-05-25T18:28:34.718000'::timestamp;
2025-05-25 18:28:34,811 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 18:28:34,929 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-25 18:28:35,174 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 18:28:35,259 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 18:28:35,259 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T18:28:35.194000'::timestamp AND timestamp <= '2025-05-25T18:28:35.194000'::timestamp;
2025-05-25 18:28:35,269 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 18:28:35,294 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-25 18:28:35,295 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-25 18:28:35,295 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-25 18:28:35,295 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-25 18:28:35,296 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-25 18:28:45,873 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 18:28:45,874 - CatastoDB_catasto_storico_localhost - DEBUG - Chiamata a catasto.ricerca_avanzata_immobili con parametri POSIZIONALI: (2, None, None, None, None, None, None, None, None, None, None, None)
2025-05-25 18:28:45,891 - CatastoDB_catasto_storico_localhost - ERROR - Errore DB specifico durante l'esecuzione di ricerca_avanzata_immobili_gui: ERRORE:  la funzione catasto.ricerca_avanzata_immobili(integer, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown) non esiste
LINE 2:                         SELECT * FROM catasto.ricerca_avanza...
                                              ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 2368, in ricerca_avanzata_immobili_gui
    cur.execute(query, params)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\saint\AppData\Local\Programs\Python\Python313\Lib\site-packages\psycopg2\extras.py", line 146, in execute
    return super().execute(query, vars)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedFunction: ERRORE:  la funzione catasto.ricerca_avanzata_immobili(integer, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown, unknown) non esiste
LINE 2:                         SELECT * FROM catasto.ricerca_avanza...
                                              ^
HINT:  Nessuna funzione trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-25 18:28:59,563 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 563
2025-05-25 18:28:59,564 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 563
2025-05-25 18:28:59,626 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 18:28:59,627 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 563: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 563
            ORDER BY
                pos.nome_completo;
        
2025-05-25 18:28:59,637 - CatastoDB_catasto_storico_localhost - INFO - Trovati 1 possessori per la partita ID 563.
2025-05-25 18:28:59,637 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 18:28:59,638 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 563, 'possessore_id': 102, 'nome_completo_possessore': 'Possessore 2-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}]
2025-05-25 18:28:59,638 - CatastoGUI - INFO - DEBUG: Tabella impostata a 1 righe.
2025-05-25 18:28:59,639 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 563, 'possessore_id': 102, 'nome_completo_possessore': 'Possessore 2-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-25 18:28:59,640 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-25 18:29:10,028 - CatastoGUI - INFO - Possessore selezionato/creato: ID 111, Nome: Possessore 2-11 Rossi
2025-05-25 18:30:50,298 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-25 18:30:50,508 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-25 18:30:50,685 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-25 18:30:56,881 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-25 18:30:57,180 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-25 18:30:57,230 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 7f259117...
2025-05-25 18:30:57,230 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 18:30:57,235 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=7f259117...
2025-05-25 18:30:58,215 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-25 18:30:58,594 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 18:30:58,709 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 18:30:58,710 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T18:30:58.637000'::timestamp AND timestamp <= '2025-05-25T18:30:58.638000'::timestamp;
2025-05-25 18:30:58,726 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 18:30:58,842 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-25 18:30:59,145 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 18:30:59,248 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 18:30:59,249 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T18:30:59.174000'::timestamp AND timestamp <= '2025-05-25T18:30:59.174000'::timestamp;
2025-05-25 18:30:59,257 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 18:30:59,289 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-25 18:30:59,290 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-25 18:30:59,290 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-25 18:30:59,290 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-25 18:30:59,290 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-25 18:31:08,885 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 1664
2025-05-25 18:31:08,886 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 1664
2025-05-25 18:31:08,956 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 18:31:08,956 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 1664: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 1664
            ORDER BY
                pos.nome_completo;
        
2025-05-25 18:31:08,964 - CatastoDB_catasto_storico_localhost - INFO - Trovati 1 possessori per la partita ID 1664.
2025-05-25 18:31:08,965 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 18:31:08,967 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 1664, 'possessore_id': 301, 'nome_completo_possessore': 'Possessore 4-1 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}]
2025-05-25 18:31:08,967 - CatastoGUI - INFO - DEBUG: Tabella impostata a 1 righe.
2025-05-25 18:31:08,967 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 1664, 'possessore_id': 301, 'nome_completo_possessore': 'Possessore 4-1 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-25 18:31:08,969 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-25 18:31:20,701 - CatastoGUI - INFO - Possessore selezionato/creato: ID 312, Nome: Possessore 4-12 Rossi
2025-05-25 18:31:33,125 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 18:31:33,126 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query aggiungi_possessore_a_partita: 
            INSERT INTO catasto.partita_possessore
                (partita_id, possessore_id, tipo_partita, titolo, quota, data_creazione, data_modifica)
            VALUES
                (1664, 312, 'principale', 'propriet‡ esclusiva', NULL, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP)
            RETURNING id; 
        
2025-05-25 18:31:33,144 - CatastoDB_catasto_storico_localhost - INFO - Possessore ID 312 associato con successo alla partita ID 1664 (ID Relazione: 2769).
2025-05-25 18:31:33,144 - CatastoGUI - CRITICAL - Metodo 'aggiungi_possessore_a_partita' non trovato: 'CatastoDBManager' object has no attribute 'release_connection'
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\prova.py", line 1874, in _aggiungi_possessore_a_partita
    success = self.db_manager.aggiungi_possessore_a_partita(
        partita_id=self.partita_id,
    ...<3 lines>...
        quota=quota_possesso
    )
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 1295, in aggiungi_possessore_a_partita
    self.release_connection(conn)
    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CatastoDBManager' object has no attribute 'release_connection'. Did you mean: '_release_connection'?
2025-05-25 18:33:24,067 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 1668
2025-05-25 18:33:24,068 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 1668
2025-05-25 18:33:24,139 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 18:33:24,140 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 1668: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 1668
            ORDER BY
                pos.nome_completo;
        
2025-05-25 18:33:24,152 - CatastoDB_catasto_storico_localhost - INFO - Trovati 1 possessori per la partita ID 1668.
2025-05-25 18:33:24,153 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 18:33:24,154 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 1668, 'possessore_id': 302, 'nome_completo_possessore': 'Possessore 4-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}]
2025-05-25 18:33:24,154 - CatastoGUI - INFO - DEBUG: Tabella impostata a 1 righe.
2025-05-25 18:33:24,155 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 1668, 'possessore_id': 302, 'nome_completo_possessore': 'Possessore 4-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-25 18:33:24,156 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-25 18:33:34,914 - CatastoGUI - INFO - Possessore selezionato/creato: ID 312, Nome: Possessore 4-12 Rossi
2025-05-25 18:33:44,286 - CatastoGUI - INFO - Inserimento dettagli legame annullato.
2025-05-25 18:35:05,096 - CatastoGUI - INFO - Possessore selezionato/creato: ID 400, Nome: Possessore 4-100 Rossi
2025-05-25 18:35:08,461 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 18:35:08,462 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query aggiungi_possessore_a_partita: 
            INSERT INTO catasto.partita_possessore
                (partita_id, possessore_id, tipo_partita, titolo, quota, data_creazione, data_modifica)
            VALUES
                (1668, 400, 'principale', 'propriet‡ esclusiva', NULL, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP)
            RETURNING id; 
        
2025-05-25 18:35:08,486 - CatastoDB_catasto_storico_localhost - INFO - Possessore ID 400 associato con successo alla partita ID 1668 (ID Relazione: 2770).
2025-05-25 18:35:08,486 - CatastoGUI - CRITICAL - Metodo 'aggiungi_possessore_a_partita' non trovato: 'CatastoDBManager' object has no attribute 'release_connection'
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\prova.py", line 1874, in _aggiungi_possessore_a_partita
    success = self.db_manager.aggiungi_possessore_a_partita(
        partita_id=self.partita_id,
    ...<3 lines>...
        quota=quota_possesso
    )
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 1295, in aggiungi_possessore_a_partita
    self.release_connection(conn)
    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CatastoDBManager' object has no attribute 'release_connection'. Did you mean: '_release_connection'?
2025-05-25 18:39:03,654 - CatastoDB_catasto_storico_localhost - ERROR - Errore nell'ottenere una connessione dal pool: connection pool exhausted. Tento fallback su connessione singola.
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 166, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\saint\AppData\Local\Programs\Python\Python313\Lib\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-25 18:39:03,664 - CatastoDB_catasto_storico_localhost - DEBUG - Pool non disponibile o errore, tento di usare/stabilire connessione singola.
2025-05-25 18:39:03,665 - CatastoDB_catasto_storico_localhost - DEBUG - Utilizzo della connessione singola esistente. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432
2025-05-25 18:39:03,667 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-25 18:39:03,685 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 7f259117...
2025-05-25 18:39:05,330 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-25 18:39:05,331 - CatastoDB - INFO - Disconnessione completata
2025-05-25 18:39:05,332 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-25 18:39:05,332 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-25 18:39:05,367 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-25 18:40:54,535 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-25 18:40:54,608 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-25 18:40:54,669 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-25 18:41:01,020 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-25 18:41:01,332 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-25 18:41:01,344 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione b80f74f8...
2025-05-25 18:41:01,344 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 18:41:01,347 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=b80f74f8...
2025-05-25 18:41:02,586 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-25 18:41:02,897 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 18:41:03,007 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 18:41:03,008 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T18:41:02.930000'::timestamp AND timestamp <= '2025-05-25T18:41:02.930000'::timestamp;
2025-05-25 18:41:03,019 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 18:41:03,140 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-25 18:41:03,400 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 18:41:03,484 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 18:41:03,485 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T18:41:03.424000'::timestamp AND timestamp <= '2025-05-25T18:41:03.424000'::timestamp;
2025-05-25 18:41:03,493 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 18:41:03,520 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-25 18:41:03,521 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-25 18:41:03,521 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-25 18:41:03,521 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-25 18:41:03,522 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-25 18:41:11,999 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 563
2025-05-25 18:41:11,999 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 563
2025-05-25 18:41:12,062 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 18:41:12,062 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 563: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 563
            ORDER BY
                pos.nome_completo;
        
2025-05-25 18:41:12,070 - CatastoDB_catasto_storico_localhost - INFO - Trovati 1 possessori per la partita ID 563.
2025-05-25 18:41:12,071 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 18:41:12,071 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 563, 'possessore_id': 102, 'nome_completo_possessore': 'Possessore 2-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}]
2025-05-25 18:41:12,072 - CatastoGUI - INFO - DEBUG: Tabella impostata a 1 righe.
2025-05-25 18:41:12,072 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 563, 'possessore_id': 102, 'nome_completo_possessore': 'Possessore 2-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-25 18:41:12,073 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-25 18:41:21,017 - CatastoGUI - INFO - Possessore selezionato/creato: ID 111, Nome: Possessore 2-11 Rossi
2025-05-25 18:48:04,533 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-25 18:48:04,648 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-25 18:48:04,715 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-25 18:48:11,764 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-25 18:48:12,060 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-25 18:48:12,118 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 632fc117...
2025-05-25 18:48:12,118 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 18:48:12,122 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=632fc117...
2025-05-25 18:48:13,027 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-25 18:48:13,425 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 18:48:13,529 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 18:48:13,530 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T18:48:13.465000'::timestamp AND timestamp <= '2025-05-25T18:48:13.466000'::timestamp;
2025-05-25 18:48:13,545 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 18:48:13,649 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-25 18:48:13,899 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-25 18:48:14,088 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 18:48:14,089 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-24T18:48:13.920000'::timestamp AND timestamp <= '2025-05-25T18:48:13.920000'::timestamp;
2025-05-25 18:48:14,096 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-25 18:48:14,121 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-25 18:48:14,122 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-25 18:48:14,122 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-25 18:48:14,122 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-25 18:48:14,123 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-25 18:48:22,855 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 1120
2025-05-25 18:48:22,856 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 1120
2025-05-25 18:48:22,919 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 18:48:22,919 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 1120: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 1120
            ORDER BY
                pos.nome_completo;
        
2025-05-25 18:48:22,927 - CatastoDB_catasto_storico_localhost - INFO - Trovati 1 possessori per la partita ID 1120.
2025-05-25 18:48:22,929 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 18:48:22,930 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 1120, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}]
2025-05-25 18:48:22,931 - CatastoGUI - INFO - DEBUG: Tabella impostata a 1 righe.
2025-05-25 18:48:22,931 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 1120, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-25 18:48:22,932 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-25 18:48:32,946 - CatastoGUI - INFO - Possessore selezionato/creato: ID 501, Nome: Pippi Pippo fu Pasquale
2025-05-25 18:48:34,660 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 18:48:34,661 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query aggiungi_possessore_a_partita: 
            INSERT INTO catasto.partita_possessore
                (partita_id, possessore_id, tipo_partita, titolo, quota, data_creazione, data_modifica)
            VALUES
                (1120, 501, 'principale', 'propriet‡ esclusiva', NULL, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP)
            RETURNING id; 
        
2025-05-25 18:48:34,668 - CatastoDB_catasto_storico_localhost - INFO - Possessore ID 501 associato con successo alla partita ID 1120 (ID Relazione: 2771).
2025-05-25 18:48:34,669 - CatastoGUI - CRITICAL - Metodo 'aggiungi_possessore_a_partita' non trovato o altro AttributeError: 'CatastoDBManager' object has no attribute 'release_connection'
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\prova.py", line 1850, in _aggiungi_possessore_a_partita
    success = self.db_manager.aggiungi_possessore_a_partita(
        partita_id=self.partita_id,
    ...<3 lines>...
        quota=quota_possesso
    )
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 1295, in aggiungi_possessore_a_partita
    self.release_connection(conn)
    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CatastoDBManager' object has no attribute 'release_connection'. Did you mean: '_release_connection'?
2025-05-25 18:48:43,965 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-25 18:48:43,967 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-25 18:48:43,984 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 632fc117...
2025-05-25 18:48:45,817 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-25 18:48:45,818 - CatastoDB - INFO - Disconnessione completata
2025-05-25 18:48:45,819 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-25 18:48:45,819 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-25 18:48:45,856 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-26 08:36:32,124 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-26 08:36:32,255 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-26 08:36:32,380 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-26 08:36:38,896 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-26 08:36:39,188 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 08:36:39,246 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 66be9f4f...
2025-05-26 08:36:39,247 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:36:39,251 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=66be9f4f...
2025-05-26 08:36:40,755 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 08:36:41,178 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 08:36:41,297 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:36:41,298 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T08:36:41.228000'::timestamp AND timestamp <= '2025-05-26T08:36:41.228000'::timestamp;
2025-05-26 08:36:41,323 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 08:36:41,448 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 08:36:41,773 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 08:36:41,869 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:36:41,870 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T08:36:41.796000'::timestamp AND timestamp <= '2025-05-26T08:36:41.796000'::timestamp;
2025-05-26 08:36:41,877 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 08:36:41,917 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 08:36:41,917 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 08:36:41,917 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 08:36:41,917 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 08:36:41,918 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 08:36:50,203 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 563
2025-05-26 08:36:50,264 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:36:50,265 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 563: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 563
            ORDER BY
                pos.nome_completo;
        
2025-05-26 08:36:50,275 - CatastoDB_catasto_storico_localhost - INFO - Trovati 1 possessori per la partita ID 563.
2025-05-26 08:36:50,276 - CatastoGUI - ERROR - Errore durante il caricamento dei possessori per la partita ID 563: 'CatastoDBManager' object has no attribute 'release_connection'
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\prova.py", line 1741, in _load_possessori_associati
    possessori = self.db_manager.get_possessori_per_partita(self.partita_id)
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 566, in get_possessori_per_partita
    self.release_connection(conn)
    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CatastoDBManager' object has no attribute 'release_connection'. Did you mean: '_release_connection'?
2025-05-26 08:37:28,764 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:37:28,766 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-26 08:37:28,782 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 66be9f4f...
2025-05-26 08:37:29,762 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-26 08:37:29,764 - CatastoDB - INFO - Disconnessione completata
2025-05-26 08:37:29,764 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-26 08:37:29,764 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-26 08:37:29,818 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-26 08:37:34,306 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-26 08:37:34,378 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-26 08:37:34,550 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-26 08:37:39,865 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-26 08:37:40,153 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 08:37:40,162 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 6b4b1076...
2025-05-26 08:37:40,162 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:37:40,165 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=6b4b1076...
2025-05-26 08:37:40,999 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 08:37:41,272 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 08:37:41,467 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:37:41,468 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T08:37:41.302000'::timestamp AND timestamp <= '2025-05-26T08:37:41.302000'::timestamp;
2025-05-26 08:37:41,474 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 08:37:41,594 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 08:37:41,872 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 08:37:41,978 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:37:41,979 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T08:37:41.900000'::timestamp AND timestamp <= '2025-05-26T08:37:41.900000'::timestamp;
2025-05-26 08:37:41,986 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 08:37:42,013 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 08:37:42,014 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 08:37:42,014 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 08:37:42,014 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 08:37:42,014 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 08:37:47,645 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 1120
2025-05-26 08:37:47,707 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:37:47,708 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 1120: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 1120
            ORDER BY
                pos.nome_completo;
        
2025-05-26 08:37:47,719 - CatastoDB_catasto_storico_localhost - INFO - Trovati 2 possessori per la partita ID 1120.
2025-05-26 08:37:47,720 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:37:57,359 - CatastoGUI - INFO - Possessore selezionato/creato: ID 210, Nome: Possessore 3-10 Rossi
2025-05-26 08:37:58,453 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:37:58,454 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query aggiungi_possessore_a_partita: 
            INSERT INTO catasto.partita_possessore
                (partita_id, possessore_id, tipo_partita, titolo, quota, data_creazione, data_modifica)
            VALUES
                (1120, 210, 'principale', 'propriet‡ esclusiva', NULL, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP)
            RETURNING id; 
        
2025-05-26 08:37:58,464 - CatastoDB_catasto_storico_localhost - INFO - Possessore ID 210 associato con successo alla partita ID 1120 (ID Relazione: 2772).
2025-05-26 08:37:58,465 - CatastoGUI - CRITICAL - Metodo 'aggiungi_possessore_a_partita' non trovato o altro AttributeError: 'CatastoDBManager' object has no attribute 'release_connection'
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\prova.py", line 1834, in _aggiungi_possessore_a_partita
    success = self.db_manager.aggiungi_possessore_a_partita(
        partita_id=self.partita_id,
    ...<3 lines>...
        quota=quota_possesso
    )
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 1295, in aggiungi_possessore_a_partita
    self.release_connection(conn)
    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CatastoDBManager' object has no attribute 'release_connection'. Did you mean: '_release_connection'?
2025-05-26 08:39:35,532 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:39:35,535 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-26 08:39:35,549 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 6b4b1076...
2025-05-26 08:39:36,596 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-26 08:39:36,598 - CatastoDB - INFO - Disconnessione completata
2025-05-26 08:39:36,598 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-26 08:39:36,599 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-26 08:39:36,630 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-26 08:40:09,006 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-26 08:40:09,189 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-26 08:40:09,263 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-26 08:40:15,248 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-26 08:40:15,528 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 08:40:15,549 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 0623628c...
2025-05-26 08:40:15,549 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:40:15,552 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=0623628c...
2025-05-26 08:40:16,525 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 08:40:16,860 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 08:40:16,961 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:40:16,961 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T08:40:16.899000'::timestamp AND timestamp <= '2025-05-26T08:40:16.899000'::timestamp;
2025-05-26 08:40:16,969 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 08:40:17,086 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 08:40:17,334 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 08:40:17,417 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:40:17,418 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T08:40:17.358000'::timestamp AND timestamp <= '2025-05-26T08:40:17.358000'::timestamp;
2025-05-26 08:40:17,425 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 08:40:17,449 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 08:40:17,450 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 08:40:17,450 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 08:40:17,450 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 08:40:17,450 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 08:40:22,901 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 563
2025-05-26 08:40:22,963 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:40:22,964 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 563: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 563
            ORDER BY
                pos.nome_completo;
        
2025-05-26 08:40:22,974 - CatastoDB_catasto_storico_localhost - INFO - Trovati 1 possessori per la partita ID 563.
2025-05-26 08:40:22,987 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:40:29,533 - CatastoGUI - INFO - Possessore selezionato/creato: ID 111, Nome: Possessore 2-11 Rossi
2025-05-26 08:40:32,131 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:40:32,132 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query aggiungi_possessore_a_partita: 
            INSERT INTO catasto.partita_possessore
                (partita_id, possessore_id, tipo_partita, titolo, quota, data_creazione, data_modifica)
            VALUES
                (563, 111, 'principale', 'propriet‡ esclusiva', NULL, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP)
            RETURNING id; 
        
2025-05-26 08:40:32,138 - CatastoDB_catasto_storico_localhost - INFO - Possessore ID 111 associato con successo alla partita ID 563 (ID Relazione: 2773).
2025-05-26 08:40:32,139 - CatastoGUI - CRITICAL - Metodo 'aggiungi_possessore_a_partita' non trovato o altro AttributeError: 'CatastoDBManager' object has no attribute 'release_connection'
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\prova.py", line 1840, in _aggiungi_possessore_a_partita
    success = self.db_manager.aggiungi_possessore_a_partita(
        partita_id=self.partita_id,
    ...<3 lines>...
        quota=quota_possesso
    )
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 1295, in aggiungi_possessore_a_partita
    self.release_connection(conn)
    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CatastoDBManager' object has no attribute 'release_connection'. Did you mean: '_release_connection'?
2025-05-26 08:40:37,158 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:40:37,160 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-26 08:40:37,175 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 0623628c...
2025-05-26 08:40:38,360 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-26 08:40:38,362 - CatastoDB - INFO - Disconnessione completata
2025-05-26 08:40:38,362 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-26 08:40:38,363 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-26 08:40:38,391 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-26 08:47:29,850 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-26 08:47:29,986 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-26 08:47:30,045 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-26 08:47:35,865 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-26 08:47:36,163 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 08:47:36,216 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 8e40c3e6...
2025-05-26 08:47:36,216 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:47:36,221 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=8e40c3e6...
2025-05-26 08:47:37,394 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 08:47:37,821 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 08:47:37,931 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:47:37,932 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T08:47:37.866000'::timestamp AND timestamp <= '2025-05-26T08:47:37.866000'::timestamp;
2025-05-26 08:47:37,946 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 08:47:38,061 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 08:47:38,356 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 08:47:38,438 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:47:38,439 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T08:47:38.377000'::timestamp AND timestamp <= '2025-05-26T08:47:38.377000'::timestamp;
2025-05-26 08:47:38,446 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 08:47:38,473 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 08:47:38,473 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 08:47:38,474 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 08:47:38,474 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 08:47:38,474 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 08:47:45,384 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 1121
2025-05-26 08:47:45,384 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 1121
2025-05-26 08:47:45,446 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:47:45,447 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 1121: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 1121
            ORDER BY
                pos.nome_completo;
        
2025-05-26 08:47:45,457 - CatastoDB_catasto_storico_localhost - INFO - Trovati 1 possessori per la partita ID 1121.
2025-05-26 08:47:45,459 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:47:45,461 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 1121, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}]
2025-05-26 08:47:45,461 - CatastoGUI - INFO - DEBUG: Tabella impostata a 1 righe.
2025-05-26 08:47:45,461 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 1121, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-26 08:47:45,463 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-26 08:47:52,955 - CatastoGUI - INFO - Possessore selezionato/creato: ID 300, Nome: Possessore 3-100 Rossi
2025-05-26 08:47:54,050 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:47:54,050 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query aggiungi_possessore_a_partita: 
            INSERT INTO catasto.partita_possessore
                (partita_id, possessore_id, tipo_partita, titolo, quota, data_creazione, data_modifica)
            VALUES
                (1121, 300, 'principale', 'propriet‡ esclusiva', NULL, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP)
            RETURNING id; 
        
2025-05-26 08:47:54,057 - CatastoDB_catasto_storico_localhost - INFO - Possessore ID 300 associato con successo alla partita ID 1121 (ID Relazione: 2774).
2025-05-26 08:47:54,058 - CatastoGUI - CRITICAL - Metodo 'aggiungi_possessore_a_partita' non trovato o altro AttributeError: 'CatastoDBManager' object has no attribute 'release_connection'
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\prova.py", line 1846, in _aggiungi_possessore_a_partita
    success = self.db_manager.aggiungi_possessore_a_partita(
        partita_id=self.partita_id,
    ...<3 lines>...
        quota=quota_possesso
    )
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 1295, in aggiungi_possessore_a_partita
    self.release_connection(conn)
    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CatastoDBManager' object has no attribute 'release_connection'. Did you mean: '_release_connection'?
2025-05-26 08:48:47,353 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:48:47,355 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-26 08:48:47,369 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 8e40c3e6...
2025-05-26 08:48:48,497 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-26 08:48:48,498 - CatastoDB - INFO - Disconnessione completata
2025-05-26 08:48:48,499 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-26 08:48:48,499 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-26 08:48:48,541 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-26 08:49:02,894 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-26 08:49:02,961 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-26 08:49:03,019 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-26 08:49:07,404 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-26 08:49:07,684 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 08:49:07,692 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione aeca4d87...
2025-05-26 08:49:07,692 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:49:07,695 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=aeca4d87...
2025-05-26 08:49:09,173 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 08:49:09,511 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 08:49:09,703 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:49:09,703 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T08:49:09.531000'::timestamp AND timestamp <= '2025-05-26T08:49:09.531000'::timestamp;
2025-05-26 08:49:09,713 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 08:49:09,819 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 08:49:10,114 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 08:49:10,197 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:49:10,198 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T08:49:10.135000'::timestamp AND timestamp <= '2025-05-26T08:49:10.135000'::timestamp;
2025-05-26 08:49:10,204 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 08:49:10,231 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 08:49:10,231 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 08:49:10,231 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 08:49:10,232 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 08:49:10,232 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 08:49:23,613 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 1119
2025-05-26 08:49:23,614 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 1119
2025-05-26 08:49:23,676 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:49:23,677 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 1119: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 1119
            ORDER BY
                pos.nome_completo;
        
2025-05-26 08:49:23,686 - CatastoDB_catasto_storico_localhost - INFO - Trovati 2 possessori per la partita ID 1119.
2025-05-26 08:49:23,687 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:49:23,688 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 2768, 'possessore_id': 211, 'nome_completo_possessore': 'Possessore 3-11 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}, {'id_relazione_partita_possessore': 1119, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}]
2025-05-26 08:49:23,688 - CatastoGUI - INFO - DEBUG: Tabella impostata a 2 righe.
2025-05-26 08:49:23,688 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 2768, 'possessore_id': 211, 'nome_completo_possessore': 'Possessore 3-11 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-26 08:49:23,689 - CatastoGUI - INFO - DEBUG: Popolamento riga 1, dati: {'id_relazione_partita_possessore': 1119, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-26 08:49:23,689 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-26 08:49:32,197 - CatastoGUI - INFO - Possessore selezionato/creato: ID 501, Nome: Pippi Pippo fu Pasquale
2025-05-26 08:49:33,709 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:49:33,710 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query aggiungi_possessore_a_partita: 
            INSERT INTO catasto.partita_possessore
                (partita_id, possessore_id, tipo_partita, titolo, quota, data_creazione, data_modifica)
            VALUES
                (1119, 501, 'principale', 'propriet‡ esclusiva', NULL, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP)
            RETURNING id; 
        
2025-05-26 08:49:33,716 - CatastoDB_catasto_storico_localhost - INFO - Possessore ID 501 associato con successo alla partita ID 1119 (ID Relazione: 2775).
2025-05-26 08:49:33,717 - CatastoGUI - CRITICAL - Metodo 'aggiungi_possessore_a_partita' non trovato o altro AttributeError: 'CatastoDBManager' object has no attribute 'release_connection'
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\prova.py", line 1846, in _aggiungi_possessore_a_partita
    success = self.db_manager.aggiungi_possessore_a_partita(
        partita_id=self.partita_id,
    ...<3 lines>...
        quota=quota_possesso
    )
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 1295, in aggiungi_possessore_a_partita
    self.release_connection(conn)
    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CatastoDBManager' object has no attribute 'release_connection'. Did you mean: '_release_connection'?
2025-05-26 08:50:46,328 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:50:46,330 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-26 08:50:46,336 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione aeca4d87...
2025-05-26 08:50:47,481 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-26 08:50:47,482 - CatastoDB - INFO - Disconnessione completata
2025-05-26 08:50:47,482 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-26 08:50:47,483 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-26 08:50:47,505 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-26 08:50:52,345 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-26 08:50:52,413 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-26 08:50:52,585 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-26 08:50:57,314 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-26 08:50:57,596 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 08:50:57,617 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 68e9caa1...
2025-05-26 08:50:57,618 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:50:57,621 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=68e9caa1...
2025-05-26 08:50:58,393 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 08:50:58,780 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 08:50:58,873 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:50:58,874 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T08:50:58.810000'::timestamp AND timestamp <= '2025-05-26T08:50:58.810000'::timestamp;
2025-05-26 08:50:58,881 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 08:50:58,974 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 08:50:59,236 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 08:50:59,423 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:50:59,424 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T08:50:59.260000'::timestamp AND timestamp <= '2025-05-26T08:50:59.260000'::timestamp;
2025-05-26 08:50:59,431 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 08:50:59,459 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 08:50:59,460 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 08:50:59,460 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 08:50:59,460 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 08:50:59,460 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 08:51:04,895 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 1119
2025-05-26 08:51:04,896 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 1119
2025-05-26 08:51:04,967 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:51:04,968 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 1119: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 1119
            ORDER BY
                pos.nome_completo;
        
2025-05-26 08:51:04,977 - CatastoDB_catasto_storico_localhost - INFO - Trovati 3 possessori per la partita ID 1119.
2025-05-26 08:51:04,978 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:51:04,980 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 2775, 'possessore_id': 501, 'nome_completo_possessore': 'Pippi Pippo fu Pasquale', 'paternita_possessore': 'fu Pasquale', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}, {'id_relazione_partita_possessore': 2768, 'possessore_id': 211, 'nome_completo_possessore': 'Possessore 3-11 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}, {'id_relazione_partita_possessore': 1119, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}]
2025-05-26 08:51:04,980 - CatastoGUI - INFO - DEBUG: Tabella impostata a 3 righe.
2025-05-26 08:51:04,980 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 2775, 'possessore_id': 501, 'nome_completo_possessore': 'Pippi Pippo fu Pasquale', 'paternita_possessore': 'fu Pasquale', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-26 08:51:04,980 - CatastoGUI - INFO - DEBUG: Popolamento riga 1, dati: {'id_relazione_partita_possessore': 2768, 'possessore_id': 211, 'nome_completo_possessore': 'Possessore 3-11 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-26 08:51:04,981 - CatastoGUI - INFO - DEBUG: Popolamento riga 2, dati: {'id_relazione_partita_possessore': 1119, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-26 08:51:04,982 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-26 08:51:15,092 - CatastoGUI - INFO - Possessore selezionato/creato: ID 300, Nome: Possessore 3-100 Rossi
2025-05-26 08:51:16,090 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:51:16,091 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query aggiungi_possessore_a_partita: 
            INSERT INTO catasto.partita_possessore
                (partita_id, possessore_id, tipo_partita, titolo, quota, data_creazione, data_modifica)
            VALUES
                (1119, 300, 'principale', 'propriet‡ esclusiva', NULL, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP)
            RETURNING id; 
        
2025-05-26 08:51:16,098 - CatastoDB_catasto_storico_localhost - INFO - Possessore ID 300 associato con successo alla partita ID 1119 (ID Relazione: 2776).
2025-05-26 08:51:16,099 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:51:16,100 - CatastoGUI - INFO - Possessore ID 300 aggiunto con successo alla partita ID 1119
2025-05-26 08:51:20,587 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 1119
2025-05-26 08:51:20,587 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 1119
2025-05-26 08:51:20,588 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:51:20,589 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 1119: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 1119
            ORDER BY
                pos.nome_completo;
        
2025-05-26 08:51:20,591 - CatastoDB_catasto_storico_localhost - INFO - Trovati 4 possessori per la partita ID 1119.
2025-05-26 08:51:20,592 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:51:20,593 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 2775, 'possessore_id': 501, 'nome_completo_possessore': 'Pippi Pippo fu Pasquale', 'paternita_possessore': 'fu Pasquale', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}, {'id_relazione_partita_possessore': 2776, 'possessore_id': 300, 'nome_completo_possessore': 'Possessore 3-100 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}, {'id_relazione_partita_possessore': 2768, 'possessore_id': 211, 'nome_completo_possessore': 'Possessore 3-11 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}, {'id_relazione_partita_possessore': 1119, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}]
2025-05-26 08:51:20,594 - CatastoGUI - INFO - DEBUG: Tabella impostata a 4 righe.
2025-05-26 08:51:20,595 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 2775, 'possessore_id': 501, 'nome_completo_possessore': 'Pippi Pippo fu Pasquale', 'paternita_possessore': 'fu Pasquale', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-26 08:51:20,595 - CatastoGUI - INFO - DEBUG: Popolamento riga 1, dati: {'id_relazione_partita_possessore': 2776, 'possessore_id': 300, 'nome_completo_possessore': 'Possessore 3-100 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-26 08:51:20,596 - CatastoGUI - INFO - DEBUG: Popolamento riga 2, dati: {'id_relazione_partita_possessore': 2768, 'possessore_id': 211, 'nome_completo_possessore': 'Possessore 3-11 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-26 08:51:20,596 - CatastoGUI - INFO - DEBUG: Popolamento riga 3, dati: {'id_relazione_partita_possessore': 1119, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-26 08:51:20,597 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-26 08:52:00,857 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 1117
2025-05-26 08:52:00,858 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 1117
2025-05-26 08:52:00,858 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:52:00,859 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 1117: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 1117
            ORDER BY
                pos.nome_completo;
        
2025-05-26 08:52:00,861 - CatastoDB_catasto_storico_localhost - INFO - Trovati 2 possessori per la partita ID 1117.
2025-05-26 08:52:00,862 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:52:00,863 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 2767, 'possessore_id': 300, 'nome_completo_possessore': 'Possessore 3-100 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}, {'id_relazione_partita_possessore': 1117, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}]
2025-05-26 08:52:00,863 - CatastoGUI - INFO - DEBUG: Tabella impostata a 2 righe.
2025-05-26 08:52:00,864 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 2767, 'possessore_id': 300, 'nome_completo_possessore': 'Possessore 3-100 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-26 08:52:00,864 - CatastoGUI - INFO - DEBUG: Popolamento riga 1, dati: {'id_relazione_partita_possessore': 1117, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-26 08:52:00,865 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-26 08:52:07,560 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 1122
2025-05-26 08:52:07,560 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 1122
2025-05-26 08:52:07,561 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:52:07,561 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 1122: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 1122
            ORDER BY
                pos.nome_completo;
        
2025-05-26 08:52:07,563 - CatastoDB_catasto_storico_localhost - INFO - Trovati 1 possessori per la partita ID 1122.
2025-05-26 08:52:07,564 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:52:07,565 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 1122, 'possessore_id': 203, 'nome_completo_possessore': 'Possessore 3-3 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}]
2025-05-26 08:52:07,565 - CatastoGUI - INFO - DEBUG: Tabella impostata a 1 righe.
2025-05-26 08:52:07,566 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 1122, 'possessore_id': 203, 'nome_completo_possessore': 'Possessore 3-3 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-26 08:52:07,566 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-26 08:52:31,037 - CatastoGUI - INFO - Tentativo di aggiornare i dati generali della partita ID 1122 con: {'numero_partita': 9911, 'tipo': 'principale', 'stato': 'attiva', 'data_impianto': datetime.date(2010, 5, 19), 'data_chiusura': datetime.date(2025, 1, 1), 'numero_provenienza': None}
2025-05-26 08:52:31,037 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:52:31,038 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1122: 
            UPDATE catasto.partita
            SET numero_partita = 9911, tipo = 'principale', data_impianto = '2010-05-19'::date, data_chiusura = '2025-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1122;
        
2025-05-26 08:52:31,046 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1122 aggiornata con successo. Righe modificate: 1
2025-05-26 08:52:31,047 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:52:31,047 - CatastoGUI - INFO - Dati generali della Partita ID 1122 aggiornati con successo.
2025-05-26 08:52:32,402 - CatastoGUI - INFO - Tentativo di aggiornare la partita ID 1122 con i dati: {'numero_partita': 9911, 'tipo': 'principale', 'stato': 'attiva', 'data_impianto': datetime.date(2010, 5, 19), 'data_chiusura': datetime.date(2025, 1, 1), 'numero_provenienza': None}
2025-05-26 08:52:32,402 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:52:32,403 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 1122: 
            UPDATE catasto.partita
            SET numero_partita = 9911, tipo = 'principale', data_impianto = '2010-05-19'::date, data_chiusura = '2025-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1122;
        
2025-05-26 08:52:32,405 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 1122 aggiornata con successo. Righe modificate: 1
2025-05-26 08:52:32,405 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 08:52:32,406 - CatastoGUI - INFO - Partita ID 1122 aggiornata con successo nel database.
2025-05-26 09:01:09,283 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-26 09:01:09,473 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-26 09:01:09,574 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-26 09:01:15,772 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-26 09:01:16,086 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 09:01:16,123 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 6c4c1f4e...
2025-05-26 09:01:16,125 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:01:16,131 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=6c4c1f4e...
2025-05-26 09:01:17,094 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 09:01:17,505 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 09:01:17,618 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:01:17,619 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T09:01:17.547000'::timestamp AND timestamp <= '2025-05-26T09:01:17.548000'::timestamp;
2025-05-26 09:01:17,630 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 09:01:17,734 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 09:01:18,021 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 09:01:18,108 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:01:18,108 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T09:01:18.047000'::timestamp AND timestamp <= '2025-05-26T09:01:18.047000'::timestamp;
2025-05-26 09:01:18,117 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 09:01:18,143 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 09:01:18,143 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 09:01:18,143 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 09:01:18,144 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 09:01:18,144 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 09:01:23,940 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 561
2025-05-26 09:01:23,941 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 561
2025-05-26 09:01:24,005 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:01:24,006 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 561: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 561
            ORDER BY
                pos.nome_completo;
        
2025-05-26 09:01:24,015 - CatastoDB_catasto_storico_localhost - INFO - Trovati 1 possessori per la partita ID 561.
2025-05-26 09:01:24,022 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:01:24,024 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 561, 'possessore_id': 102, 'nome_completo_possessore': 'Possessore 2-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}]
2025-05-26 09:01:24,025 - CatastoGUI - INFO - DEBUG: Tabella impostata a 1 righe.
2025-05-26 09:01:24,025 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 561, 'possessore_id': 102, 'nome_completo_possessore': 'Possessore 2-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-26 09:01:24,029 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-26 09:01:49,113 - CatastoGUI - INFO - Possessore selezionato/creato: ID 502, Nome: Pippo Puppi di Topolino
2025-05-26 09:01:52,093 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:01:52,094 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query aggiungi_possessore_a_partita: 
            INSERT INTO catasto.partita_possessore
                (partita_id, possessore_id, tipo_partita, titolo, quota, data_creazione, data_modifica)
            VALUES
                (561, 502, 'principale', 'propriet‡ esclusiva', NULL, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP)
            RETURNING id; 
        
2025-05-26 09:01:52,103 - CatastoDB_catasto_storico_localhost - INFO - Possessore ID 502 associato con successo alla partita ID 561 (ID Relazione: 2777).
2025-05-26 09:01:52,104 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:01:52,105 - CatastoGUI - INFO - Possessore ID 502 aggiunto con successo alla partita ID 561
2025-05-26 09:01:53,732 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 561
2025-05-26 09:01:53,732 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 561
2025-05-26 09:01:53,732 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:01:53,733 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 561: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 561
            ORDER BY
                pos.nome_completo;
        
2025-05-26 09:01:53,735 - CatastoDB_catasto_storico_localhost - INFO - Trovati 2 possessori per la partita ID 561.
2025-05-26 09:01:53,736 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:01:53,737 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 2777, 'possessore_id': 502, 'nome_completo_possessore': 'Pippo Puppi di Topolino', 'paternita_possessore': 'di Topolino', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}, {'id_relazione_partita_possessore': 561, 'possessore_id': 102, 'nome_completo_possessore': 'Possessore 2-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}]
2025-05-26 09:01:53,738 - CatastoGUI - INFO - DEBUG: Tabella impostata a 2 righe.
2025-05-26 09:01:53,738 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 2777, 'possessore_id': 502, 'nome_completo_possessore': 'Pippo Puppi di Topolino', 'paternita_possessore': 'di Topolino', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-26 09:01:53,738 - CatastoGUI - INFO - DEBUG: Popolamento riga 1, dati: {'id_relazione_partita_possessore': 561, 'possessore_id': 102, 'nome_completo_possessore': 'Possessore 2-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-26 09:01:53,740 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-26 09:02:05,868 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:02:05,869 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query aggiorna_legame_partita_possessore ID 561: 
            UPDATE catasto.partita_possessore
            SET titolo = 'propriet√† esclusiva', quota = '1/2', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 561;
        
2025-05-26 09:02:05,871 - CatastoDB_catasto_storico_localhost - INFO - Legame partita-possessore ID 561 aggiornato. Righe modificate: 1
2025-05-26 09:02:05,872 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:02:05,873 - CatastoGUI - INFO - Legame ID 561 aggiornato con successo.
2025-05-26 09:02:07,573 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 561
2025-05-26 09:02:07,573 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 561
2025-05-26 09:02:07,573 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:02:07,574 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 561: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 561
            ORDER BY
                pos.nome_completo;
        
2025-05-26 09:02:07,576 - CatastoDB_catasto_storico_localhost - INFO - Trovati 2 possessori per la partita ID 561.
2025-05-26 09:02:07,577 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:02:07,578 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 2777, 'possessore_id': 502, 'nome_completo_possessore': 'Pippo Puppi di Topolino', 'paternita_possessore': 'di Topolino', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}, {'id_relazione_partita_possessore': 561, 'possessore_id': 102, 'nome_completo_possessore': 'Possessore 2-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': '1/2', 'tipo_partita_rel': 'principale'}]
2025-05-26 09:02:07,579 - CatastoGUI - INFO - DEBUG: Tabella impostata a 2 righe.
2025-05-26 09:02:07,579 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 2777, 'possessore_id': 502, 'nome_completo_possessore': 'Pippo Puppi di Topolino', 'paternita_possessore': 'di Topolino', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-26 09:02:07,579 - CatastoGUI - INFO - DEBUG: Popolamento riga 1, dati: {'id_relazione_partita_possessore': 561, 'possessore_id': 102, 'nome_completo_possessore': 'Possessore 2-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': '1/2', 'tipo_partita_rel': 'principale'}
2025-05-26 09:02:07,581 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-26 09:02:18,749 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:02:18,750 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query rimuovi_possessore_da_partita ID 2777: DELETE FROM catasto.partita_possessore WHERE id = 2777;
2025-05-26 09:02:18,752 - CatastoDB_catasto_storico_localhost - INFO - Legame partita-possessore ID 2777 rimosso con successo. Righe modificate: 1
2025-05-26 09:02:18,753 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:02:18,754 - CatastoGUI - INFO - Legame ID 2777 rimosso con successo.
2025-05-26 09:02:20,589 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 561
2025-05-26 09:02:20,589 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 561
2025-05-26 09:02:20,590 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:02:20,591 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 561: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 561
            ORDER BY
                pos.nome_completo;
        
2025-05-26 09:02:20,593 - CatastoDB_catasto_storico_localhost - INFO - Trovati 1 possessori per la partita ID 561.
2025-05-26 09:02:20,594 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:02:20,595 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 561, 'possessore_id': 102, 'nome_completo_possessore': 'Possessore 2-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': '1/2', 'tipo_partita_rel': 'principale'}]
2025-05-26 09:02:20,595 - CatastoGUI - INFO - DEBUG: Tabella impostata a 1 righe.
2025-05-26 09:02:20,595 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 561, 'possessore_id': 102, 'nome_completo_possessore': 'Possessore 2-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': '1/2', 'tipo_partita_rel': 'principale'}
2025-05-26 09:02:20,596 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-26 09:03:12,797 - CatastoGUI - INFO - Tentativo di aggiornare i dati generali della partita ID 561 con: {'numero_partita': 1006, 'tipo': 'principale', 'stato': 'attiva', 'data_impianto': datetime.date(2020, 5, 19), 'data_chiusura': datetime.date(2025, 12, 10), 'numero_provenienza': None}
2025-05-26 09:03:12,798 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:03:12,799 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 561: 
            UPDATE catasto.partita
            SET numero_partita = 1006, tipo = 'principale', data_impianto = '2020-05-19'::date, data_chiusura = '2025-12-10'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 561;
        
2025-05-26 09:03:12,815 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 561 aggiornata con successo. Righe modificate: 1
2025-05-26 09:03:12,816 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:03:12,817 - CatastoGUI - INFO - Dati generali della Partita ID 561 aggiornati con successo.
2025-05-26 09:03:14,129 - CatastoGUI - INFO - Tentativo di aggiornare la partita ID 561 con i dati: {'numero_partita': 1006, 'tipo': 'principale', 'stato': 'attiva', 'data_impianto': datetime.date(2020, 5, 19), 'data_chiusura': datetime.date(2025, 12, 10), 'numero_provenienza': None}
2025-05-26 09:03:14,129 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:03:14,130 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE partita ID 561: 
            UPDATE catasto.partita
            SET numero_partita = 1006, tipo = 'principale', data_impianto = '2020-05-19'::date, data_chiusura = '2025-12-10'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 561;
        
2025-05-26 09:03:14,132 - CatastoDB_catasto_storico_localhost - INFO - Partita ID 561 aggiornata con successo. Righe modificate: 1
2025-05-26 09:03:14,133 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:03:14,134 - CatastoGUI - INFO - Partita ID 561 aggiornata con successo nel database.
2025-05-26 09:03:56,066 - CatastoDB - INFO - Ricerca avanzata possessori per 'Pippo Pippi' (soglia: 0.3) ha prodotto 2 risultati.
2025-05-26 09:05:02,869 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-26 09:05:02,939 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-26 09:05:02,998 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-26 09:05:08,147 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-26 09:05:08,433 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 09:05:08,451 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 3f5fe691...
2025-05-26 09:05:08,452 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:05:08,455 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=3f5fe691...
2025-05-26 09:05:09,699 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 09:05:09,977 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 09:05:10,069 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:05:10,070 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T09:05:10.010000'::timestamp AND timestamp <= '2025-05-26T09:05:10.010000'::timestamp;
2025-05-26 09:05:10,077 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 09:05:10,177 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 09:05:10,430 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 09:05:10,514 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:05:10,514 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T09:05:10.450000'::timestamp AND timestamp <= '2025-05-26T09:05:10.450000'::timestamp;
2025-05-26 09:05:10,523 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 09:05:10,548 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 09:05:10,548 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 09:05:10,549 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 09:05:10,549 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 09:05:10,549 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 09:06:35,539 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 1119
2025-05-26 09:06:35,540 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 1119
2025-05-26 09:06:35,601 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:06:35,602 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 1119: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 1119
            ORDER BY
                pos.nome_completo;
        
2025-05-26 09:06:35,610 - CatastoDB_catasto_storico_localhost - INFO - Trovati 4 possessori per la partita ID 1119.
2025-05-26 09:06:35,611 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:06:35,612 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 2775, 'possessore_id': 501, 'nome_completo_possessore': 'Pippi Pippo fu Pasquale', 'paternita_possessore': 'fu Pasquale', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}, {'id_relazione_partita_possessore': 2776, 'possessore_id': 300, 'nome_completo_possessore': 'Possessore 3-100 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}, {'id_relazione_partita_possessore': 2768, 'possessore_id': 211, 'nome_completo_possessore': 'Possessore 3-11 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}, {'id_relazione_partita_possessore': 1119, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}]
2025-05-26 09:06:35,613 - CatastoGUI - INFO - DEBUG: Tabella impostata a 4 righe.
2025-05-26 09:06:35,614 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 2775, 'possessore_id': 501, 'nome_completo_possessore': 'Pippi Pippo fu Pasquale', 'paternita_possessore': 'fu Pasquale', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-26 09:06:35,614 - CatastoGUI - INFO - DEBUG: Popolamento riga 1, dati: {'id_relazione_partita_possessore': 2776, 'possessore_id': 300, 'nome_completo_possessore': 'Possessore 3-100 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-26 09:06:35,614 - CatastoGUI - INFO - DEBUG: Popolamento riga 2, dati: {'id_relazione_partita_possessore': 2768, 'possessore_id': 211, 'nome_completo_possessore': 'Possessore 3-11 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-26 09:06:35,615 - CatastoGUI - INFO - DEBUG: Popolamento riga 3, dati: {'id_relazione_partita_possessore': 1119, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-26 09:06:35,616 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-26 09:06:45,899 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:06:45,902 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-26 09:06:45,915 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 3f5fe691...
2025-05-26 09:06:47,259 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-26 09:06:47,260 - CatastoDB - INFO - Disconnessione completata
2025-05-26 09:06:47,260 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-26 09:06:47,261 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-26 09:06:47,301 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-26 09:14:44,078 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-26 09:14:44,207 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-26 09:14:44,275 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-26 09:14:49,515 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-26 09:14:49,818 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 09:14:49,863 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione bbd35b75...
2025-05-26 09:14:49,863 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:14:49,867 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=bbd35b75...
2025-05-26 09:14:50,654 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 09:14:51,134 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 09:14:51,243 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:14:51,244 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T09:14:51.166000'::timestamp AND timestamp <= '2025-05-26T09:14:51.167000'::timestamp;
2025-05-26 09:14:51,257 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 09:14:51,349 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 09:14:51,659 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 09:14:51,772 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:14:51,773 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T09:14:51.704000'::timestamp AND timestamp <= '2025-05-26T09:14:51.704000'::timestamp;
2025-05-26 09:14:51,782 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 09:14:51,813 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 09:14:51,813 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 09:14:51,814 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 09:14:51,814 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 09:14:51,814 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 09:18:11,700 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:18:11,702 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-26 09:18:11,718 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione bbd35b75...
2025-05-26 09:18:12,783 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-26 09:18:12,784 - CatastoDB - INFO - Disconnessione completata
2025-05-26 09:18:12,785 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-26 09:18:12,785 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-26 09:18:12,805 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-26 09:18:20,464 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-26 09:18:20,539 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-26 09:18:20,597 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-26 09:18:26,013 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-26 09:18:26,298 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 09:18:26,308 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 38282886...
2025-05-26 09:18:26,308 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:18:26,311 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=38282886...
2025-05-26 09:18:29,406 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 09:18:29,706 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 09:18:29,797 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:18:29,798 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T09:18:29.738000'::timestamp AND timestamp <= '2025-05-26T09:18:29.738000'::timestamp;
2025-05-26 09:18:29,805 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 09:18:29,897 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 09:18:30,142 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 09:18:30,353 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:18:30,354 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T09:18:30.163000'::timestamp AND timestamp <= '2025-05-26T09:18:30.163000'::timestamp;
2025-05-26 09:18:30,362 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 09:18:30,393 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 09:18:30,394 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 09:18:30,394 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 09:18:30,395 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 09:18:30,395 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 09:18:56,984 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-26 09:18:57,054 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-26 09:18:57,120 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-26 09:19:04,805 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-26 09:19:05,093 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 09:19:05,102 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 0d333c8e...
2025-05-26 09:19:05,103 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:19:05,106 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=0d333c8e...
2025-05-26 09:19:06,654 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 09:19:06,972 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 09:19:07,072 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:19:07,073 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T09:19:07.005000'::timestamp AND timestamp <= '2025-05-26T09:19:07.005000'::timestamp;
2025-05-26 09:19:07,080 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 09:19:07,214 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 09:19:07,481 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 09:19:07,567 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:19:07,568 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T09:19:07.506000'::timestamp AND timestamp <= '2025-05-26T09:19:07.506000'::timestamp;
2025-05-26 09:19:07,575 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 09:19:07,600 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 09:19:07,600 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 09:19:07,601 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 09:19:07,601 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 09:19:07,602 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 09:19:29,903 - CatastoDB - INFO - Ricerca avanzata possessori per 'Pippo Pippi' (soglia: 0.3) ha prodotto 2 risultati.
2025-05-26 09:22:40,973 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-26 09:22:41,100 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-26 09:22:41,167 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-26 09:22:46,973 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-26 09:22:47,262 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 09:22:47,311 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 74f351ca...
2025-05-26 09:22:47,311 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:22:47,316 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=74f351ca...
2025-05-26 09:22:48,989 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 09:22:49,369 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 09:22:49,593 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:22:49,594 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T09:22:49.412000'::timestamp AND timestamp <= '2025-05-26T09:22:49.413000'::timestamp;
2025-05-26 09:22:49,613 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 09:22:49,741 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 09:22:50,015 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 09:22:50,096 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:22:50,097 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T09:22:50.035000'::timestamp AND timestamp <= '2025-05-26T09:22:50.035000'::timestamp;
2025-05-26 09:22:50,103 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 09:22:50,127 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 09:22:50,128 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 09:22:50,128 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 09:22:50,128 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 09:22:50,129 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 09:23:05,587 - CatastoDB - INFO - Ricerca avanzata possessori per 'pippo pippi' (soglia: 0.3) ha prodotto 2 risultati.
2025-05-26 09:23:08,078 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:23:08,079 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessore_full_details per possessore_id 501: 
            SELECT
                p.id,
                p.cognome_nome,
                p.paternita,
                p.nome_completo,
                p.attivo,
                p.comune_id AS comune_riferimento_id, 
                c.nome AS comune_riferimento_nome, -- Nome del comune dalla tabella comune
                p.data_creazione,
                p.data_modifica
            FROM
                catasto.possessore p
            LEFT JOIN 
                catasto.comune c ON p.comune_id = c.id -- LEFT JOIN per gestire possessori senza comune (anche se comune_id Ë NOT NULL nel tuo schema)
            WHERE
                p.id = 501;
        
2025-05-26 09:23:08,089 - CatastoDB_catasto_storico_localhost - INFO - Dettagli recuperati per il possessore ID 501.
2025-05-26 09:23:08,091 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:23:17,685 - CatastoGUI - INFO - Nuovo comune di riferimento selezionato per possessore (non ancora salvato): ID 8, Nome: Altare
2025-05-26 09:23:19,294 - CatastoGUI - INFO - Tentativo di aggiornare il possessore ID 501 con i dati: {'nome_completo': 'Pippi Pippo fu Pasquale', 'cognome_nome': 'Pippi Pippo', 'paternita': 'fu Pasquale', 'attivo': True, 'comune_riferimento_id': 8}
2025-05-26 09:23:19,295 - CatastoGUI - CRITICAL - Metodo 'update_possessore' non trovato o altro AttributeError: 'CatastoDBManager' object has no attribute 'update_possessore'
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\prova.py", line 2332, in _save_changes
    self.db_manager.update_possessore(self.possessore_id, dati_modificati)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CatastoDBManager' object has no attribute 'update_possessore'. Did you mean: 'insert_possessore'?
2025-05-26 09:26:38,309 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-26 09:26:38,419 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-26 09:26:38,600 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-26 09:26:43,992 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-26 09:26:44,278 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 09:26:44,330 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione db5217a8...
2025-05-26 09:26:44,331 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:26:44,336 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=db5217a8...
2025-05-26 09:26:45,806 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 09:26:46,199 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 09:26:46,311 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:26:46,312 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T09:26:46.245000'::timestamp AND timestamp <= '2025-05-26T09:26:46.246000'::timestamp;
2025-05-26 09:26:46,324 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 09:26:46,445 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 09:26:46,696 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 09:26:46,788 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:26:46,789 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T09:26:46.724000'::timestamp AND timestamp <= '2025-05-26T09:26:46.724000'::timestamp;
2025-05-26 09:26:46,799 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 09:26:46,823 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 09:26:46,824 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 09:26:46,824 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 09:26:46,824 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 09:26:46,825 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 09:26:55,286 - CatastoDB - INFO - Ricerca avanzata possessori per 'pippo pippi' (soglia: 0.3) ha prodotto 2 risultati.
2025-05-26 09:26:57,295 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:26:57,296 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessore_full_details per possessore_id 501: 
            SELECT
                p.id,
                p.cognome_nome,
                p.paternita,
                p.nome_completo,
                p.attivo,
                p.comune_id AS comune_riferimento_id, 
                c.nome AS comune_riferimento_nome, -- Nome del comune dalla tabella comune
                p.data_creazione,
                p.data_modifica
            FROM
                catasto.possessore p
            LEFT JOIN 
                catasto.comune c ON p.comune_id = c.id -- LEFT JOIN per gestire possessori senza comune (anche se comune_id Ë NOT NULL nel tuo schema)
            WHERE
                p.id = 501;
        
2025-05-26 09:26:57,305 - CatastoDB_catasto_storico_localhost - INFO - Dettagli recuperati per il possessore ID 501.
2025-05-26 09:26:57,307 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:27:04,837 - CatastoGUI - INFO - Nuovo comune di riferimento selezionato per possessore (non ancora salvato): ID 8, Nome: Altare
2025-05-26 09:27:06,390 - CatastoGUI - INFO - Tentativo di aggiornare il possessore ID 501 con i dati: {'nome_completo': 'Pippi Pippo fu Pasquale', 'cognome_nome': 'Pippi Pippo', 'paternita': 'fu Pasquale', 'attivo': True, 'comune_riferimento_id': 8}
2025-05-26 09:27:06,390 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:27:06,391 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE possessore ID 501: 
            UPDATE catasto.possessore
            SET nome_completo = 'Pippi Pippo fu Pasquale', cognome_nome = 'Pippi Pippo', paternita = 'fu Pasquale', attivo = true, comune_id = 8, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 501;
        
2025-05-26 09:27:06,404 - CatastoDB_catasto_storico_localhost - INFO - Possessore ID 501 aggiornato con successo (righe affette potrebbero includere solo data_modifica).
2025-05-26 09:27:06,405 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:27:06,406 - CatastoGUI - INFO - Possessore ID 501 aggiornato con successo.
2025-05-26 09:27:08,636 - CatastoDB - INFO - Ricerca avanzata possessori per 'pippo pippi' (soglia: 0.3) ha prodotto 2 risultati.
2025-05-26 09:27:25,208 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:27:25,208 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessore_full_details per possessore_id 501: 
            SELECT
                p.id,
                p.cognome_nome,
                p.paternita,
                p.nome_completo,
                p.attivo,
                p.comune_id AS comune_riferimento_id, 
                c.nome AS comune_riferimento_nome, -- Nome del comune dalla tabella comune
                p.data_creazione,
                p.data_modifica
            FROM
                catasto.possessore p
            LEFT JOIN 
                catasto.comune c ON p.comune_id = c.id -- LEFT JOIN per gestire possessori senza comune (anche se comune_id Ë NOT NULL nel tuo schema)
            WHERE
                p.id = 501;
        
2025-05-26 09:27:25,210 - CatastoDB_catasto_storico_localhost - INFO - Dettagli recuperati per il possessore ID 501.
2025-05-26 09:27:25,210 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:29:01,860 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-26 09:29:01,930 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-26 09:29:01,991 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-26 09:29:07,536 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-26 09:29:07,821 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 09:29:07,833 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 927574be...
2025-05-26 09:29:07,833 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:29:07,836 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=927574be...
2025-05-26 09:29:09,279 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 09:29:09,557 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 09:29:09,643 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:29:09,643 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T09:29:09.582000'::timestamp AND timestamp <= '2025-05-26T09:29:09.582000'::timestamp;
2025-05-26 09:29:09,651 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 09:29:09,800 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 09:29:10,062 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 09:29:10,262 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:29:10,263 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T09:29:10.084000'::timestamp AND timestamp <= '2025-05-26T09:29:10.084000'::timestamp;
2025-05-26 09:29:10,271 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 09:29:10,296 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 09:29:10,297 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 09:29:10,297 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 09:29:10,298 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 09:29:10,298 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 09:34:24,963 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:34:24,967 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-26 09:34:24,985 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 927574be...
2025-05-26 09:34:26,101 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-26 09:34:26,103 - CatastoDB - INFO - Disconnessione completata
2025-05-26 09:34:26,103 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-26 09:34:26,104 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-26 09:34:26,134 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-26 09:34:32,379 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-26 09:34:32,449 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-26 09:34:32,508 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-26 09:34:38,155 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-26 09:34:38,438 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 09:34:38,447 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione b06f0b28...
2025-05-26 09:34:38,447 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:34:38,451 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=b06f0b28...
2025-05-26 09:34:39,786 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 09:34:40,098 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 09:34:40,195 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:34:40,195 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T09:34:40.131000'::timestamp AND timestamp <= '2025-05-26T09:34:40.131000'::timestamp;
2025-05-26 09:34:40,201 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 09:34:40,286 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 09:34:40,533 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 09:34:40,620 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:34:40,621 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T09:34:40.555000'::timestamp AND timestamp <= '2025-05-26T09:34:40.555000'::timestamp;
2025-05-26 09:34:40,629 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 09:34:40,652 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 09:34:40,652 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 09:34:40,653 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 09:34:40,653 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 09:34:40,653 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 09:34:46,814 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:34:46,815 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessore_full_details per possessore_id 214: 
            SELECT
                p.id,
                p.cognome_nome,
                p.paternita,
                p.nome_completo,
                p.attivo,
                p.comune_id AS comune_riferimento_id, 
                c.nome AS comune_riferimento_nome, -- Nome del comune dalla tabella comune
                p.data_creazione,
                p.data_modifica
            FROM
                catasto.possessore p
            LEFT JOIN 
                catasto.comune c ON p.comune_id = c.id -- LEFT JOIN per gestire possessori senza comune (anche se comune_id Ë NOT NULL nel tuo schema)
            WHERE
                p.id = 214;
        
2025-05-26 09:34:46,826 - CatastoDB_catasto_storico_localhost - INFO - Dettagli recuperati per il possessore ID 214.
2025-05-26 09:34:46,827 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:34:52,966 - CatastoGUI - INFO - Tentativo di aggiornare il possessore ID 214 con i dati: {'nome_completo': 'Possessore 3-14 Rossi', 'cognome_nome': 'Stress 14', 'paternita': 'fu Stress Test', 'attivo': False, 'comune_riferimento_id': 3}
2025-05-26 09:34:52,966 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:34:52,967 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE possessore ID 214: 
            UPDATE catasto.possessore
            SET nome_completo = 'Possessore 3-14 Rossi', cognome_nome = 'Stress 14', paternita = 'fu Stress Test', attivo = false, comune_id = 3, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 214;
        
2025-05-26 09:34:52,979 - CatastoDB_catasto_storico_localhost - INFO - Possessore ID 214 aggiornato con successo (righe affette potrebbero includere solo data_modifica).
2025-05-26 09:34:52,980 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:34:52,981 - CatastoGUI - INFO - Possessore ID 214 aggiornato con successo.
2025-05-26 09:34:59,150 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:34:59,150 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessore_full_details per possessore_id 214: 
            SELECT
                p.id,
                p.cognome_nome,
                p.paternita,
                p.nome_completo,
                p.attivo,
                p.comune_id AS comune_riferimento_id, 
                c.nome AS comune_riferimento_nome, -- Nome del comune dalla tabella comune
                p.data_creazione,
                p.data_modifica
            FROM
                catasto.possessore p
            LEFT JOIN 
                catasto.comune c ON p.comune_id = c.id -- LEFT JOIN per gestire possessori senza comune (anche se comune_id Ë NOT NULL nel tuo schema)
            WHERE
                p.id = 214;
        
2025-05-26 09:34:59,152 - CatastoDB_catasto_storico_localhost - INFO - Dettagli recuperati per il possessore ID 214.
2025-05-26 09:34:59,154 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:35:05,640 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:35:05,641 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessore_full_details per possessore_id 214: 
            SELECT
                p.id,
                p.cognome_nome,
                p.paternita,
                p.nome_completo,
                p.attivo,
                p.comune_id AS comune_riferimento_id, 
                c.nome AS comune_riferimento_nome, -- Nome del comune dalla tabella comune
                p.data_creazione,
                p.data_modifica
            FROM
                catasto.possessore p
            LEFT JOIN 
                catasto.comune c ON p.comune_id = c.id -- LEFT JOIN per gestire possessori senza comune (anche se comune_id Ë NOT NULL nel tuo schema)
            WHERE
                p.id = 214;
        
2025-05-26 09:35:05,643 - CatastoDB_catasto_storico_localhost - INFO - Dettagli recuperati per il possessore ID 214.
2025-05-26 09:35:05,644 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:35:21,352 - CatastoGUI - INFO - Tentativo di aggiornare il possessore ID 214 con i dati: {'nome_completo': 'Possessore 3-14 Rossi', 'cognome_nome': 'Cippa Lippa', 'paternita': 'fu Stress Test', 'attivo': False, 'comune_riferimento_id': 3}
2025-05-26 09:35:21,353 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:35:21,354 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE possessore ID 214: 
            UPDATE catasto.possessore
            SET nome_completo = 'Possessore 3-14 Rossi', cognome_nome = 'Cippa Lippa', paternita = 'fu Stress Test', attivo = false, comune_id = 3, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 214;
        
2025-05-26 09:35:21,368 - CatastoDB_catasto_storico_localhost - INFO - Possessore ID 214 aggiornato con successo (righe affette potrebbero includere solo data_modifica).
2025-05-26 09:35:21,370 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:35:21,371 - CatastoGUI - INFO - Possessore ID 214 aggiornato con successo.
2025-05-26 09:35:36,140 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:35:36,141 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessore_full_details per possessore_id 214: 
            SELECT
                p.id,
                p.cognome_nome,
                p.paternita,
                p.nome_completo,
                p.attivo,
                p.comune_id AS comune_riferimento_id, 
                c.nome AS comune_riferimento_nome, -- Nome del comune dalla tabella comune
                p.data_creazione,
                p.data_modifica
            FROM
                catasto.possessore p
            LEFT JOIN 
                catasto.comune c ON p.comune_id = c.id -- LEFT JOIN per gestire possessori senza comune (anche se comune_id Ë NOT NULL nel tuo schema)
            WHERE
                p.id = 214;
        
2025-05-26 09:35:36,144 - CatastoDB_catasto_storico_localhost - INFO - Dettagli recuperati per il possessore ID 214.
2025-05-26 09:35:36,145 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:35:55,174 - CatastoDB - INFO - Nessun risultato per ricerca avanzata possessori: 'Cippa Lippa' (soglia: 0.3).
2025-05-26 09:35:59,291 - CatastoDB - INFO - Nessun risultato per ricerca avanzata possessori: 'Cippa Lippa' (soglia: 0.15000000000000002).
2025-05-26 09:36:05,757 - CatastoDB - INFO - Nessun risultato per ricerca avanzata possessori: 'Cippa' (soglia: 0.15000000000000002).
2025-05-26 09:36:22,208 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:36:22,208 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessore_full_details per possessore_id 214: 
            SELECT
                p.id,
                p.cognome_nome,
                p.paternita,
                p.nome_completo,
                p.attivo,
                p.comune_id AS comune_riferimento_id, 
                c.nome AS comune_riferimento_nome, -- Nome del comune dalla tabella comune
                p.data_creazione,
                p.data_modifica
            FROM
                catasto.possessore p
            LEFT JOIN 
                catasto.comune c ON p.comune_id = c.id -- LEFT JOIN per gestire possessori senza comune (anche se comune_id Ë NOT NULL nel tuo schema)
            WHERE
                p.id = 214;
        
2025-05-26 09:36:22,210 - CatastoDB_catasto_storico_localhost - INFO - Dettagli recuperati per il possessore ID 214.
2025-05-26 09:36:22,212 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:36:28,559 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:36:28,560 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessore_full_details per possessore_id 300: 
            SELECT
                p.id,
                p.cognome_nome,
                p.paternita,
                p.nome_completo,
                p.attivo,
                p.comune_id AS comune_riferimento_id, 
                c.nome AS comune_riferimento_nome, -- Nome del comune dalla tabella comune
                p.data_creazione,
                p.data_modifica
            FROM
                catasto.possessore p
            LEFT JOIN 
                catasto.comune c ON p.comune_id = c.id -- LEFT JOIN per gestire possessori senza comune (anche se comune_id Ë NOT NULL nel tuo schema)
            WHERE
                p.id = 300;
        
2025-05-26 09:36:28,562 - CatastoDB_catasto_storico_localhost - INFO - Dettagli recuperati per il possessore ID 300.
2025-05-26 09:36:28,563 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:36:32,627 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:36:32,628 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessore_full_details per possessore_id 214: 
            SELECT
                p.id,
                p.cognome_nome,
                p.paternita,
                p.nome_completo,
                p.attivo,
                p.comune_id AS comune_riferimento_id, 
                c.nome AS comune_riferimento_nome, -- Nome del comune dalla tabella comune
                p.data_creazione,
                p.data_modifica
            FROM
                catasto.possessore p
            LEFT JOIN 
                catasto.comune c ON p.comune_id = c.id -- LEFT JOIN per gestire possessori senza comune (anche se comune_id Ë NOT NULL nel tuo schema)
            WHERE
                p.id = 214;
        
2025-05-26 09:36:32,629 - CatastoDB_catasto_storico_localhost - INFO - Dettagli recuperati per il possessore ID 214.
2025-05-26 09:36:32,630 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:36:40,032 - CatastoGUI - INFO - Nuovo comune di riferimento selezionato per possessore (non ancora salvato): ID 8, Nome: Altare
2025-05-26 09:36:41,701 - CatastoGUI - INFO - Tentativo di aggiornare il possessore ID 214 con i dati: {'nome_completo': 'Possessore 3-14 Rossi', 'cognome_nome': 'Cippa Lippa', 'paternita': 'fu Stress Test', 'attivo': False, 'comune_riferimento_id': 8}
2025-05-26 09:36:41,701 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:36:41,702 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE possessore ID 214: 
            UPDATE catasto.possessore
            SET nome_completo = 'Possessore 3-14 Rossi', cognome_nome = 'Cippa Lippa', paternita = 'fu Stress Test', attivo = false, comune_id = 8, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 214;
        
2025-05-26 09:36:41,707 - CatastoDB_catasto_storico_localhost - INFO - Possessore ID 214 aggiornato con successo (righe affette potrebbero includere solo data_modifica).
2025-05-26 09:36:41,707 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:36:41,708 - CatastoGUI - INFO - Possessore ID 214 aggiornato con successo.
2025-05-26 09:38:20,233 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:38:20,235 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessore_full_details per possessore_id 214: 
            SELECT
                p.id,
                p.cognome_nome,
                p.paternita,
                p.nome_completo,
                p.attivo,
                p.comune_id AS comune_riferimento_id, 
                c.nome AS comune_riferimento_nome, -- Nome del comune dalla tabella comune
                p.data_creazione,
                p.data_modifica
            FROM
                catasto.possessore p
            LEFT JOIN 
                catasto.comune c ON p.comune_id = c.id -- LEFT JOIN per gestire possessori senza comune (anche se comune_id Ë NOT NULL nel tuo schema)
            WHERE
                p.id = 214;
        
2025-05-26 09:38:20,238 - CatastoDB_catasto_storico_localhost - INFO - Dettagli recuperati per il possessore ID 214.
2025-05-26 09:38:20,239 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:38:40,032 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:38:40,034 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-26 09:38:40,087 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione b06f0b28...
2025-05-26 09:38:41,264 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-26 09:38:41,266 - CatastoDB - INFO - Disconnessione completata
2025-05-26 09:38:41,267 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-26 09:38:41,268 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-26 09:38:41,288 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-26 09:47:55,760 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-26 09:47:55,897 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-26 09:47:55,976 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-26 09:48:03,320 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-26 09:48:03,649 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 09:48:03,687 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 2f016ffc...
2025-05-26 09:48:03,687 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:48:03,690 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=2f016ffc...
2025-05-26 09:48:04,954 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 09:48:05,746 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 09:48:05,944 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:48:05,985 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T09:48:05.823000'::timestamp AND timestamp <= '2025-05-26T09:48:05.823000'::timestamp;
2025-05-26 09:48:06,003 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 09:48:06,178 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 09:48:06,560 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 09:48:06,656 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:48:06,657 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T09:48:06.583000'::timestamp AND timestamp <= '2025-05-26T09:48:06.583000'::timestamp;
2025-05-26 09:48:06,664 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 09:48:06,700 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 09:48:06,700 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 09:48:06,701 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 09:48:06,701 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 09:48:06,702 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 09:48:19,282 - CatastoGUI - INFO - Nessuna partita trovata per il comune ID: 8
2025-05-26 09:48:31,334 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:48:31,336 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-26 09:48:31,348 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 2f016ffc...
2025-05-26 09:48:32,579 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-26 09:48:32,581 - CatastoDB - INFO - Disconnessione completata
2025-05-26 09:48:32,581 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-26 09:48:32,582 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-26 09:48:32,605 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-26 09:58:52,786 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-26 09:58:52,947 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-26 09:58:53,133 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-26 09:59:09,831 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-26 09:59:10,199 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 09:59:10,271 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 14def8d4...
2025-05-26 09:59:10,271 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:59:10,275 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=14def8d4...
2025-05-26 09:59:11,479 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 09:59:12,512 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 09:59:12,667 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:59:12,668 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T09:59:12.585000'::timestamp AND timestamp <= '2025-05-26T09:59:12.585000'::timestamp;
2025-05-26 09:59:12,682 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 09:59:12,898 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 09:59:13,463 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 09:59:13,576 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:59:13,576 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T09:59:13.497000'::timestamp AND timestamp <= '2025-05-26T09:59:13.497000'::timestamp;
2025-05-26 09:59:13,584 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 09:59:13,623 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 09:59:13,624 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 09:59:13,624 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 09:59:13,624 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 09:59:13,625 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 09:59:21,295 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:59:21,296 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessore_full_details per possessore_id 502: 
            SELECT
                p.id,
                p.cognome_nome,
                p.paternita,
                p.nome_completo,
                p.attivo,
                p.comune_id AS comune_riferimento_id, 
                c.nome AS comune_riferimento_nome, -- Nome del comune dalla tabella comune
                p.data_creazione,
                p.data_modifica
            FROM
                catasto.possessore p
            LEFT JOIN 
                catasto.comune c ON p.comune_id = c.id -- LEFT JOIN per gestire possessori senza comune (anche se comune_id Ë NOT NULL nel tuo schema)
            WHERE
                p.id = 502;
        
2025-05-26 09:59:21,312 - CatastoDB_catasto_storico_localhost - INFO - Dettagli recuperati per il possessore ID 502.
2025-05-26 09:59:21,314 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:59:32,979 - CatastoGUI - INFO - Nuovo comune di riferimento selezionato per possessore (non ancora salvato): ID 8, Nome: Altare
2025-05-26 09:59:34,660 - CatastoGUI - INFO - DEBUG: _save_changes chiamato per possessore ID 502
2025-05-26 09:59:34,698 - CatastoGUI - INFO - DEBUG: Dati dalla UI: {'nome_completo': 'Pippo Puppi di Topolino', 'cognome_nome': 'Pippo Puppi', 'paternita': 'di Topolino', 'attivo': True, 'comune_riferimento_id': 8}
2025-05-26 09:59:34,699 - CatastoGUI - INFO - DEBUG: Chiamata a db_manager.update_possessore per ID 502
2025-05-26 09:59:34,699 - CatastoGUI - INFO - Tentativo di aggiornare il possessore ID 502 con i dati: {'nome_completo': 'Pippo Puppi di Topolino', 'cognome_nome': 'Pippo Puppi', 'paternita': 'di Topolino', 'attivo': True, 'comune_riferimento_id': 8}
2025-05-26 09:59:34,700 - CatastoDB_catasto_storico_localhost - INFO - DEBUG: update_possessore (DBManager) chiamato per ID 502 con dati: {'nome_completo': 'Pippo Puppi di Topolino', 'cognome_nome': 'Pippo Puppi', 'paternita': 'di Topolino', 'attivo': True, 'comune_riferimento_id': 8}
2025-05-26 09:59:34,701 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:59:34,702 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE possessore ID 502: 
            UPDATE catasto.possessore
            SET nome_completo = 'Pippo Puppi di Topolino', cognome_nome = 'Pippo Puppi', paternita = 'di Topolino', attivo = true, comune_id = 8, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 502;
        
2025-05-26 09:59:34,710 - CatastoDB_catasto_storico_localhost - INFO - Possessore ID 502 aggiornato con successo (righe affette potrebbero includere solo data_modifica).
2025-05-26 09:59:34,711 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:59:34,711 - CatastoGUI - INFO - Possessore ID 502 aggiornato con successo.
2025-05-26 09:59:34,712 - CatastoGUI - INFO - DEBUG: db_manager.update_possessore completato per ID 502
2025-05-26 09:59:59,291 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 09:59:59,293 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-26 09:59:59,308 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 14def8d4...
2025-05-26 10:00:00,560 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-26 10:00:00,562 - CatastoDB - INFO - Disconnessione completata
2025-05-26 10:00:00,563 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-26 10:00:00,563 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-26 10:00:00,606 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-26 10:00:09,788 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-26 10:00:09,889 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-26 10:00:10,009 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-26 10:00:15,249 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-26 10:00:15,703 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 10:00:15,720 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 52555676...
2025-05-26 10:00:15,721 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:00:15,726 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=52555676...
2025-05-26 10:00:17,367 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 10:00:18,110 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 10:00:18,367 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:00:18,368 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T10:00:18.189000'::timestamp AND timestamp <= '2025-05-26T10:00:18.189000'::timestamp;
2025-05-26 10:00:18,372 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 10:00:18,567 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 10:00:19,162 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 10:00:19,278 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:00:19,279 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T10:00:19.194000'::timestamp AND timestamp <= '2025-05-26T10:00:19.194000'::timestamp;
2025-05-26 10:00:19,292 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 10:00:19,338 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 10:00:19,338 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 10:00:19,339 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 10:00:19,339 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 10:00:19,339 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 10:00:30,322 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:00:30,324 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-26 10:00:30,328 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 52555676...
2025-05-26 10:00:31,636 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-26 10:00:31,638 - CatastoDB - INFO - Disconnessione completata
2025-05-26 10:00:31,638 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-26 10:00:31,639 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-26 10:00:31,664 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-26 10:14:12,892 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-26 10:14:13,007 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-26 10:14:13,093 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-26 10:14:24,127 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-26 10:14:24,470 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 10:14:24,520 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione be965491...
2025-05-26 10:14:24,521 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:14:24,524 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=be965491...
2025-05-26 10:14:26,023 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 10:14:26,953 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 10:14:27,112 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:14:27,113 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T10:14:27.027000'::timestamp AND timestamp <= '2025-05-26T10:14:27.028000'::timestamp;
2025-05-26 10:14:27,131 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 10:14:27,332 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 10:14:27,866 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 10:14:27,980 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:14:27,981 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T10:14:27.895000'::timestamp AND timestamp <= '2025-05-26T10:14:27.895000'::timestamp;
2025-05-26 10:14:27,989 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 10:14:28,025 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 10:14:28,029 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 10:14:28,029 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 10:14:28,030 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 10:14:28,030 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 10:14:34,464 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:14:34,466 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessore_full_details per possessore_id 501: 
            SELECT
                p.id,
                p.cognome_nome,
                p.paternita,
                p.nome_completo,
                p.attivo,
                p.comune_id AS comune_riferimento_id, 
                c.nome AS comune_riferimento_nome, -- Nome del comune dalla tabella comune
                p.data_creazione,
                p.data_modifica
            FROM
                catasto.possessore p
            LEFT JOIN 
                catasto.comune c ON p.comune_id = c.id -- LEFT JOIN per gestire possessori senza comune (anche se comune_id Ë NOT NULL nel tuo schema)
            WHERE
                p.id = 501;
        
2025-05-26 10:14:34,487 - CatastoDB_catasto_storico_localhost - INFO - Dettagli recuperati per il possessore ID 501.
2025-05-26 10:14:34,490 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:14:43,121 - CatastoGUI - INFO - DEBUG: _save_changes chiamato per possessore ID 501
2025-05-26 10:14:43,161 - CatastoGUI - INFO - DEBUG: Dati dalla UI: {'nome_completo': 'Pippi Pippo fu Pasquale', 'cognome_nome': 'Orazio Coclite', 'paternita': 'fu Pasquale', 'attivo': True, 'comune_riferimento_id': 8}
2025-05-26 10:14:43,161 - CatastoGUI - INFO - DEBUG: Chiamata a db_manager.update_possessore per ID 501
2025-05-26 10:14:43,162 - CatastoGUI - INFO - Tentativo di aggiornare il possessore ID 501 con i dati: {'nome_completo': 'Pippi Pippo fu Pasquale', 'cognome_nome': 'Orazio Coclite', 'paternita': 'fu Pasquale', 'attivo': True, 'comune_riferimento_id': 8}
2025-05-26 10:14:43,163 - CatastoDB_catasto_storico_localhost - INFO - DEBUG: update_possessore (DBManager) chiamato per ID 501 con dati: {'nome_completo': 'Pippi Pippo fu Pasquale', 'cognome_nome': 'Orazio Coclite', 'paternita': 'fu Pasquale', 'attivo': True, 'comune_riferimento_id': 8}
2025-05-26 10:14:43,164 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:14:43,165 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE possessore ID 501: 
            UPDATE catasto.possessore
            SET nome_completo = 'Pippi Pippo fu Pasquale', cognome_nome = 'Orazio Coclite', paternita = 'fu Pasquale', attivo = true, comune_id = 8, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 501;
        
2025-05-26 10:14:43,177 - CatastoDB_catasto_storico_localhost - INFO - Possessore ID 501 aggiornato con successo (righe affette potrebbero includere solo data_modifica).
2025-05-26 10:14:43,179 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:14:43,180 - CatastoGUI - INFO - Possessore ID 501 aggiornato con successo.
2025-05-26 10:14:43,181 - CatastoGUI - INFO - DEBUG: db_manager.update_possessore completato per ID 501
2025-05-26 10:14:43,193 - CatastoGUI - INFO - DEBUG: ModificaPossessoreDialog accettato. Ricaricamento dati possessori...
2025-05-26 10:15:02,251 - CatastoDB - INFO - Nessun risultato per ricerca avanzata possessori: 'orazio' (soglia: 0.3).
2025-05-26 10:15:06,579 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:15:06,581 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-26 10:15:06,637 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione be965491...
2025-05-26 10:15:07,697 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-26 10:15:07,698 - CatastoDB - INFO - Disconnessione completata
2025-05-26 10:15:07,700 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-26 10:15:07,702 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-26 10:15:07,738 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-26 10:15:12,966 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-26 10:15:13,060 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-26 10:15:13,136 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-26 10:15:18,180 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-26 10:15:18,514 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 10:15:18,564 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione e7defbc1...
2025-05-26 10:15:18,565 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:15:18,568 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=e7defbc1...
2025-05-26 10:15:19,497 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 10:15:20,424 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 10:15:20,547 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:15:20,548 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T10:15:20.468000'::timestamp AND timestamp <= '2025-05-26T10:15:20.468000'::timestamp;
2025-05-26 10:15:20,557 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 10:15:20,781 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 10:15:21,359 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 10:15:21,479 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:15:21,479 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T10:15:21.394000'::timestamp AND timestamp <= '2025-05-26T10:15:21.394000'::timestamp;
2025-05-26 10:15:21,488 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 10:15:21,524 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 10:15:21,525 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 10:15:21,525 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 10:15:21,526 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 10:15:21,526 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 10:15:28,527 - CatastoDB - INFO - Ricerca avanzata possessori per 'orazio' (soglia: 0.3) ha prodotto 1 risultati.
2025-05-26 10:15:31,745 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:15:31,745 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessore_full_details per possessore_id 501: 
            SELECT
                p.id,
                p.cognome_nome,
                p.paternita,
                p.nome_completo,
                p.attivo,
                p.comune_id AS comune_riferimento_id, 
                c.nome AS comune_riferimento_nome, -- Nome del comune dalla tabella comune
                p.data_creazione,
                p.data_modifica
            FROM
                catasto.possessore p
            LEFT JOIN 
                catasto.comune c ON p.comune_id = c.id -- LEFT JOIN per gestire possessori senza comune (anche se comune_id Ë NOT NULL nel tuo schema)
            WHERE
                p.id = 501;
        
2025-05-26 10:15:31,757 - CatastoDB_catasto_storico_localhost - INFO - Dettagli recuperati per il possessore ID 501.
2025-05-26 10:15:31,759 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:15:43,036 - CatastoGUI - INFO - DEBUG: _save_changes chiamato per possessore ID 501
2025-05-26 10:15:43,037 - CatastoGUI - INFO - DEBUG: Dati dalla UI: {'nome_completo': 'Pippi Pippo fu Pasquale', 'cognome_nome': 'Antonio Gennaro', 'paternita': 'fu Pasquale', 'attivo': True, 'comune_riferimento_id': 8}
2025-05-26 10:15:43,038 - CatastoGUI - INFO - DEBUG: Chiamata a db_manager.update_possessore per ID 501
2025-05-26 10:15:43,038 - CatastoGUI - INFO - Tentativo di aggiornare il possessore ID 501 con i dati: {'nome_completo': 'Pippi Pippo fu Pasquale', 'cognome_nome': 'Antonio Gennaro', 'paternita': 'fu Pasquale', 'attivo': True, 'comune_riferimento_id': 8}
2025-05-26 10:15:43,039 - CatastoDB_catasto_storico_localhost - INFO - DEBUG: update_possessore (DBManager) chiamato per ID 501 con dati: {'nome_completo': 'Pippi Pippo fu Pasquale', 'cognome_nome': 'Antonio Gennaro', 'paternita': 'fu Pasquale', 'attivo': True, 'comune_riferimento_id': 8}
2025-05-26 10:15:43,041 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:15:43,041 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE possessore ID 501: 
            UPDATE catasto.possessore
            SET nome_completo = 'Pippi Pippo fu Pasquale', cognome_nome = 'Antonio Gennaro', paternita = 'fu Pasquale', attivo = true, comune_id = 8, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 501;
        
2025-05-26 10:15:43,086 - CatastoDB_catasto_storico_localhost - INFO - Possessore ID 501 aggiornato con successo (righe affette potrebbero includere solo data_modifica).
2025-05-26 10:15:43,087 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:15:43,088 - CatastoGUI - INFO - Possessore ID 501 aggiornato con successo.
2025-05-26 10:15:43,088 - CatastoGUI - INFO - DEBUG: db_manager.update_possessore completato per ID 501
2025-05-26 10:15:44,343 - CatastoDB - INFO - Ricerca avanzata possessori per 'orazio' (soglia: 0.3) ha prodotto 1 risultati.
2025-05-26 10:15:50,264 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:15:50,265 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessore_full_details per possessore_id 501: 
            SELECT
                p.id,
                p.cognome_nome,
                p.paternita,
                p.nome_completo,
                p.attivo,
                p.comune_id AS comune_riferimento_id, 
                c.nome AS comune_riferimento_nome, -- Nome del comune dalla tabella comune
                p.data_creazione,
                p.data_modifica
            FROM
                catasto.possessore p
            LEFT JOIN 
                catasto.comune c ON p.comune_id = c.id -- LEFT JOIN per gestire possessori senza comune (anche se comune_id Ë NOT NULL nel tuo schema)
            WHERE
                p.id = 501;
        
2025-05-26 10:15:50,267 - CatastoDB_catasto_storico_localhost - INFO - Dettagli recuperati per il possessore ID 501.
2025-05-26 10:15:50,268 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:15:53,632 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:15:53,634 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-26 10:15:53,678 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione e7defbc1...
2025-05-26 10:15:54,795 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-26 10:15:54,797 - CatastoDB - INFO - Disconnessione completata
2025-05-26 10:15:54,797 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-26 10:15:54,798 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-26 10:15:54,821 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-26 10:15:59,152 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-26 10:15:59,286 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-26 10:15:59,373 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-26 10:16:08,838 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-26 10:16:09,178 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 10:16:09,218 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 70c6806b...
2025-05-26 10:16:09,219 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:16:09,221 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=70c6806b...
2025-05-26 10:16:10,720 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 10:16:11,620 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 10:16:11,776 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:16:11,776 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T10:16:11.689000'::timestamp AND timestamp <= '2025-05-26T10:16:11.689000'::timestamp;
2025-05-26 10:16:11,789 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 10:16:11,945 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 10:16:12,503 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 10:16:12,636 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:16:12,637 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T10:16:12.545000'::timestamp AND timestamp <= '2025-05-26T10:16:12.545000'::timestamp;
2025-05-26 10:16:12,650 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 10:16:12,688 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 10:16:12,689 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 10:16:12,689 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 10:16:12,690 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 10:16:12,691 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 10:16:21,043 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:16:21,045 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-26 10:16:21,049 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione 70c6806b...
2025-05-26 10:16:22,053 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-26 10:16:22,055 - CatastoDB - INFO - Disconnessione completata
2025-05-26 10:16:22,056 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-26 10:16:22,057 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-26 10:16:22,079 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-26 10:19:06,187 - CatastoDB_catasto_storico_localhost - INFO - Inizializzato gestore per database catasto_storico (schema: catasto) con log_level: DEBUG
2025-05-26 10:19:06,304 - CatastoDB_catasto_storico_localhost - INFO - Pool di connessioni PostgreSQL per 'CatastoApp' inizializzato con successo.
2025-05-26 10:19:06,387 - CatastoDB - INFO - Connessione stabilita con successo
2025-05-26 10:19:11,900 - CatastoDB - INFO - Credenziali (incluso ruolo) recuperate per utente: admin, Ruolo: admin
2025-05-26 10:19:12,269 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 10:19:12,320 - CatastoDB - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione a698e364...
2025-05-26 10:19:12,321 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:19:12,323 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=a698e364...
2025-05-26 10:19:13,472 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 10:19:14,285 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 10:19:14,389 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:19:14,390 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T10:19:14.311000'::timestamp AND timestamp <= '2025-05-26T10:19:14.311000'::timestamp;
2025-05-26 10:19:14,403 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 10:19:14,582 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 10:19:14,953 - CatastoDB - INFO - Recuperati 1 utenti.
2025-05-26 10:19:15,198 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:19:15,199 - CatastoDB_catasto_storico_localhost - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T10:19:14.991000'::timestamp AND timestamp <= '2025-05-26T10:19:14.991000'::timestamp;
2025-05-26 10:19:15,215 - CatastoDB_catasto_storico_localhost - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 10:19:15,268 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 10:19:15,268 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 10:19:15,268 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 10:19:15,268 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 10:19:15,269 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 10:19:23,369 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:19:23,370 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query get_possessore_full_details per possessore_id 502: 
            SELECT
                p.id,
                p.cognome_nome,
                p.paternita,
                p.nome_completo,
                p.attivo,
                p.comune_id AS comune_riferimento_id, 
                c.nome AS comune_riferimento_nome, -- Nome del comune dalla tabella comune
                p.data_creazione,
                p.data_modifica
            FROM
                catasto.possessore p
            LEFT JOIN 
                catasto.comune c ON p.comune_id = c.id -- LEFT JOIN per gestire possessori senza comune (anche se comune_id Ë NOT NULL nel tuo schema)
            WHERE
                p.id = 502;
        
2025-05-26 10:19:23,386 - CatastoDB_catasto_storico_localhost - INFO - Dettagli recuperati per il possessore ID 502.
2025-05-26 10:19:23,388 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:19:36,886 - CatastoGUI - INFO - DEBUG: _save_changes chiamato per possessore ID 502
2025-05-26 10:19:36,886 - CatastoGUI - INFO - DEBUG: Dati dalla UI: {'nome_completo': 'Pippo Puppi di Topolino', 'cognome_nome': "Alfredo O'Chiatt", 'paternita': 'di Topolino', 'attivo': True, 'comune_riferimento_id': 8}
2025-05-26 10:19:36,886 - CatastoGUI - INFO - DEBUG: Chiamata a db_manager.update_possessore per ID 502
2025-05-26 10:19:36,887 - CatastoGUI - INFO - Tentativo di aggiornare il possessore ID 502 con i dati: {'nome_completo': 'Pippo Puppi di Topolino', 'cognome_nome': "Alfredo O'Chiatt", 'paternita': 'di Topolino', 'attivo': True, 'comune_riferimento_id': 8}
2025-05-26 10:19:36,887 - CatastoDB_catasto_storico_localhost - INFO - DEBUG: update_possessore (DBManager) chiamato per ID 502 con dati: {'nome_completo': 'Pippo Puppi di Topolino', 'cognome_nome': "Alfredo O'Chiatt", 'paternita': 'di Topolino', 'attivo': True, 'comune_riferimento_id': 8}
2025-05-26 10:19:36,888 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:19:36,889 - CatastoDB_catasto_storico_localhost - DEBUG - Esecuzione query UPDATE possessore ID 502: 
            UPDATE catasto.possessore
            SET nome_completo = 'Pippo Puppi di Topolino', cognome_nome = 'Alfredo O''Chiatt', paternita = 'di Topolino', attivo = true, comune_id = 8, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 502;
        
2025-05-26 10:19:36,897 - CatastoDB_catasto_storico_localhost - INFO - Possessore ID 502 aggiornato con successo (righe affette potrebbero includere solo data_modifica).
2025-05-26 10:19:36,898 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione rilasciata al pool. Dettagli DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:19:36,898 - CatastoGUI - INFO - Possessore ID 502 aggiornato con successo.
2025-05-26 10:19:36,899 - CatastoGUI - INFO - DEBUG: db_manager.update_possessore completato per ID 502
2025-05-26 10:19:36,908 - CatastoGUI - INFO - DEBUG: ModificaPossessoreDialog accettato. Ricaricamento dati possessori...
2025-05-26 10:19:47,301 - CatastoDB_catasto_storico_localhost - DEBUG - Connessione ottenuta dal pool. Dettagli: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=CatastoApp'
2025-05-26 10:19:47,302 - CatastoDB_catasto_storico_localhost - INFO - Variabili di sessione per audit resettate.
2025-05-26 10:19:47,346 - CatastoDB - INFO - Logout registrato per utente ID 1, sessione a698e364...
2025-05-26 10:19:48,430 - CatastoGUI - INFO - Evento closeEvent intercettato.
2025-05-26 10:19:48,432 - CatastoDB - INFO - Disconnessione completata
2025-05-26 10:19:48,432 - CatastoGUI - INFO - Connessione al database chiusa.
2025-05-26 10:19:48,432 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-26 10:19:48,450 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-26 10:37:37,751 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 10:37:37,867 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppPool' inizializzato (min:1, max:5).
2025-05-26 10:49:03,161 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 10:49:03,338 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppPool' inizializzato (min:1, max:5).
2025-05-26 10:49:03,339 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 10:49:03,426 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 10:49:03,428 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2599004027024 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 10:49:03,429 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2599004027024 rilasciata al pool.
2025-05-26 10:49:03,430 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 10:49:10,938 - CatastoDB - ERROR - Errore Python get_user_credentials per 'admin': 'CatastoDBManager' object has no attribute 'conn'
2025-05-26 10:49:12,550 - CatastoGUI - WARNING - Login GUI fallito (utente 'admin' non trovato/attivo).
2025-05-26 10:49:17,381 - CatastoDB - ERROR - Errore Python get_user_credentials per 'admin': 'CatastoDBManager' object has no attribute 'conn'
2025-05-26 10:49:18,558 - CatastoGUI - WARNING - Login GUI fallito (utente 'admin' non trovato/attivo).
2025-05-26 10:49:27,535 - CatastoDB - ERROR - Errore Python get_user_credentials per 'admin': 'CatastoDBManager' object has no attribute 'conn'
2025-05-26 10:49:28,349 - CatastoGUI - WARNING - Login GUI fallito (utente 'admin' non trovato/attivo).
2025-05-26 10:49:30,642 - CatastoGUI - INFO - Login annullato o fallito. Uscita dall'applicazione GUI.
2025-05-26 11:27:07,116 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 11:27:07,264 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 11:27:07,265 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 11:27:07,348 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 11:27:07,350 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2397411132544 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 11:27:07,351 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2397411132544 rilasciata al pool.
2025-05-26 11:27:07,352 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 11:27:15,485 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2397411132544 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 11:27:15,487 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 11:27:15,541 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 11:27:15,543 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2397411132544 rilasciata al pool.
2025-05-26 11:27:15,922 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 11:27:15,926 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2397411132544 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 11:27:15,980 - CatastoDB_catasto_storico_localhost_5432 - ERROR - Errore DB in register_access per utente 1, azione login: ERRORE:  la relazione "catasto.sessioni_accesso" non esiste
LINE 2:                     INSERT INTO catasto.sessioni_accesso 
                                        ^
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 1925, in register_access
    cur.execute(query, (user_id, session_id_to_return, indirizzo_ip, app_name_to_log, action, esito, dettagli))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: ERRORE:  la relazione "catasto.sessioni_accesso" non esiste
LINE 2:                     INSERT INTO catasto.sessioni_accesso 
                                        ^

2025-05-26 11:27:15,999 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2397411132544 rilasciata al pool.
2025-05-26 11:27:19,273 - CatastoGUI - ERROR - Login GUI OK per ID 1 ma fallita reg. accesso.
2025-05-26 11:27:24,502 - CatastoGUI - INFO - Login annullato o fallito. Uscita dall'applicazione GUI.
2025-05-26 11:59:38,840 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 11:59:38,953 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 11:59:38,953 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 11:59:39,016 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 11:59:39,017 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2922678387840 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 11:59:39,017 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2922678387840 rilasciata al pool.
2025-05-26 11:59:39,018 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 11:59:47,735 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2922678387840 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 11:59:47,737 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 11:59:47,803 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 11:59:47,806 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2922678387840 rilasciata al pool.
2025-05-26 11:59:48,110 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 11:59:48,110 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2922678387840 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 11:59:48,148 - CatastoDB_catasto_storico_localhost_5432 - ERROR - Errore DB in register_access per utente 1, azione login: ERRORE:  la relazione "catasto.sessioni_accesso" non esiste
LINE 2:                     INSERT INTO catasto.sessioni_accesso 
                                        ^
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 1925, in register_access
    cur.execute(query, (user_id, session_id_to_return, indirizzo_ip, app_name_to_log, action, esito, dettagli))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: ERRORE:  la relazione "catasto.sessioni_accesso" non esiste
LINE 2:                     INSERT INTO catasto.sessioni_accesso 
                                        ^

2025-05-26 11:59:48,163 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2922678387840 rilasciata al pool.
2025-05-26 11:59:49,338 - CatastoGUI - ERROR - Login GUI OK per ID 1 ma fallita reg. accesso.
2025-05-26 11:59:51,310 - CatastoGUI - INFO - Login annullato o fallito. Uscita dall'applicazione GUI.
2025-05-26 11:59:51,311 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-26 12:00:20,666 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 12:00:20,739 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 12:00:20,740 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 12:00:20,803 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 12:00:20,804 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1887802344576 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:00:20,804 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1887802344576 rilasciata al pool.
2025-05-26 12:00:20,805 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 12:00:25,362 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1887802344576 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:00:25,363 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 12:00:25,375 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 12:00:25,376 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1887802344576 rilasciata al pool.
2025-05-26 12:00:25,673 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 12:00:25,673 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1887802344576 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:00:25,682 - CatastoDB_catasto_storico_localhost_5432 - ERROR - Errore DB in register_access per utente 1, azione login: ERRORE:  la relazione "catasto.sessioni_accesso" non esiste
LINE 2:                     INSERT INTO catasto.sessioni_accesso 
                                        ^
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 1925, in register_access
    cur.execute(query, (user_id, session_id_to_return, indirizzo_ip, app_name_to_log, action, esito, dettagli))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: ERRORE:  la relazione "catasto.sessioni_accesso" non esiste
LINE 2:                     INSERT INTO catasto.sessioni_accesso 
                                        ^

2025-05-26 12:00:25,693 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1887802344576 rilasciata al pool.
2025-05-26 12:00:27,517 - CatastoGUI - ERROR - Login GUI OK per ID 1 ma fallita reg. accesso.
2025-05-26 12:00:41,188 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1887802344576 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:00:41,189 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 12:00:41,192 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 12:00:41,192 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1887802344576 rilasciata al pool.
2025-05-26 12:00:41,485 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 12:00:41,486 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1887802344576 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:00:41,489 - CatastoDB_catasto_storico_localhost_5432 - ERROR - Errore DB in register_access per utente 1, azione login: ERRORE:  la relazione "catasto.sessioni_accesso" non esiste
LINE 2:                     INSERT INTO catasto.sessioni_accesso 
                                        ^
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 1925, in register_access
    cur.execute(query, (user_id, session_id_to_return, indirizzo_ip, app_name_to_log, action, esito, dettagli))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: ERRORE:  la relazione "catasto.sessioni_accesso" non esiste
LINE 2:                     INSERT INTO catasto.sessioni_accesso 
                                        ^

2025-05-26 12:00:41,493 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1887802344576 rilasciata al pool.
2025-05-26 12:00:42,997 - CatastoGUI - ERROR - Login GUI OK per ID 1 ma fallita reg. accesso.
2025-05-26 12:00:45,505 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1887802344576 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:00:45,506 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 12:00:45,509 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 12:00:45,510 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1887802344576 rilasciata al pool.
2025-05-26 12:00:45,813 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 12:00:45,814 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1887802344576 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:00:45,817 - CatastoDB_catasto_storico_localhost_5432 - ERROR - Errore DB in register_access per utente 1, azione login: ERRORE:  la relazione "catasto.sessioni_accesso" non esiste
LINE 2:                     INSERT INTO catasto.sessioni_accesso 
                                        ^
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 1925, in register_access
    cur.execute(query, (user_id, session_id_to_return, indirizzo_ip, app_name_to_log, action, esito, dettagli))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: ERRORE:  la relazione "catasto.sessioni_accesso" non esiste
LINE 2:                     INSERT INTO catasto.sessioni_accesso 
                                        ^

2025-05-26 12:00:45,820 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1887802344576 rilasciata al pool.
2025-05-26 12:00:47,467 - CatastoGUI - ERROR - Login GUI OK per ID 1 ma fallita reg. accesso.
2025-05-26 12:00:48,545 - CatastoGUI - INFO - Login annullato o fallito. Uscita dall'applicazione GUI.
2025-05-26 12:00:48,546 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-26 12:05:43,430 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 12:05:43,655 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 12:05:43,656 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 12:05:43,722 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 12:05:43,723 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1784142627968 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:05:43,723 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1784142627968 rilasciata al pool.
2025-05-26 12:05:43,724 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 12:05:49,111 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1784142627968 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:05:49,113 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 12:05:49,131 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 12:05:49,132 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1784142627968 rilasciata al pool.
2025-05-26 12:05:49,428 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 12:05:49,428 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1784142627968 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:05:49,463 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione ed43d147...
2025-05-26 12:05:49,464 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1784142627968 rilasciata al pool.
2025-05-26 12:05:49,465 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1784142627968 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:05:49,467 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=ed43d147...
2025-05-26 12:05:49,468 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1784142627968 rilasciata al pool.
2025-05-26 12:05:50,822 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 12:05:50,876 - CatastoDB - ERROR - Errore Python in get_all_comuni_details: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-26 12:05:50,876 - CatastoGUI - INFO - Nessun comune trovato nel database.
2025-05-26 12:05:51,000 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1784142627968 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:05:51,001 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 12:05:51,005 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-26 12:05:51,005 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1784142627968 rilasciata al pool.
2025-05-26 12:05:51,196 - CatastoDB - ERROR - Errore Python get_statistiche_comune: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-26 12:05:51,197 - CatastoDB - ERROR - Errore Python get_immobili_per_tipologia: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-26 12:05:51,213 - CatastoDB - ERROR - Errore Python durante il recupero degli utenti: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-26 12:05:51,248 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1784142627968 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:05:51,249 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T12:05:51.245000'::timestamp AND timestamp <= '2025-05-26T12:05:51.245000'::timestamp;
2025-05-26 12:05:51,257 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 12:05:51,383 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 12:05:51,424 - CatastoDB - ERROR - Errore Python in get_all_comuni_details: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-26 12:05:51,425 - CatastoGUI - INFO - Nessun comune trovato nel database.
2025-05-26 12:05:51,547 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1784142629600 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:05:51,548 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 12:05:51,555 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-26 12:05:51,555 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1784142629600 rilasciata al pool.
2025-05-26 12:05:51,695 - CatastoDB - ERROR - Errore Python get_statistiche_comune: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-26 12:05:51,695 - CatastoDB - ERROR - Errore Python get_immobili_per_tipologia: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-26 12:05:51,708 - CatastoDB - ERROR - Errore Python durante il recupero degli utenti: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-26 12:05:51,730 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1784142629600 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:05:51,731 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T12:05:51.729000'::timestamp AND timestamp <= '2025-05-26T12:05:51.729000'::timestamp;
2025-05-26 12:05:51,737 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 12:05:51,767 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 12:05:51,767 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 12:05:51,768 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 12:05:51,768 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 12:05:51,768 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 12:08:31,206 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1784142629872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:08:31,221 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-26 12:08:31,231 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione ed43d147...
2025-05-26 12:08:31,231 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1784142629872 rilasciata al pool.
2025-05-26 12:10:15,145 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 12:10:15,263 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 12:10:15,263 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 12:10:15,327 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 12:10:15,328 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1688116528256 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:10:15,328 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1688116528256 rilasciata al pool.
2025-05-26 12:10:15,329 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 12:10:21,192 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1688116528256 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:10:21,193 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 12:10:21,240 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 12:10:21,243 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1688116528256 rilasciata al pool.
2025-05-26 12:10:21,550 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 12:10:21,551 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1688116528256 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:10:21,584 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione c6ca73a2...
2025-05-26 12:10:21,585 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1688116528256 rilasciata al pool.
2025-05-26 12:10:21,585 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1688116528256 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:10:21,588 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=c6ca73a2...
2025-05-26 12:10:21,589 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1688116528256 rilasciata al pool.
2025-05-26 12:10:22,671 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 12:10:22,672 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-26 12:10:22,672 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-26 12:10:22,672 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-26 12:10:22,674 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 12:10:22,722 - CatastoDB - ERROR - Errore Python in get_all_comuni_details: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-26 12:10:22,722 - CatastoGUI - INFO - Nessun comune trovato nel database.
2025-05-26 12:10:22,833 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1688116528256 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:10:22,834 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 12:10:22,838 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-26 12:10:22,839 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1688116528256 rilasciata al pool.
2025-05-26 12:10:23,009 - CatastoDB - ERROR - Errore Python get_statistiche_comune: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-26 12:10:23,010 - CatastoDB - ERROR - Errore Python get_immobili_per_tipologia: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-26 12:10:23,024 - CatastoDB - ERROR - Errore Python durante il recupero degli utenti: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-26 12:10:23,069 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1688116528256 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:10:23,070 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T12:10:23.066000'::timestamp AND timestamp <= '2025-05-26T12:10:23.067000'::timestamp;
2025-05-26 12:10:23,077 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 12:10:23,126 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 12:10:23,127 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 12:10:23,208 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 12:10:23,208 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 12:10:23,208 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 12:11:06,782 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1688116529888 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:11:06,798 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-26 12:11:06,802 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione c6ca73a2...
2025-05-26 12:11:06,803 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1688116529888 rilasciata al pool.
2025-05-26 12:11:32,066 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 12:11:32,181 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 12:11:32,182 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 12:11:32,244 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 12:11:32,245 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1904252880000 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:11:32,245 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1904252880000 rilasciata al pool.
2025-05-26 12:11:32,246 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 12:11:38,242 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1904252880000 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:11:38,242 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 12:11:38,288 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 12:11:38,290 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1904252880000 rilasciata al pool.
2025-05-26 12:11:38,597 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 12:11:38,597 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1904252880000 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:11:38,673 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 73cce066...
2025-05-26 12:11:38,674 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1904252880000 rilasciata al pool.
2025-05-26 12:11:38,674 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1904252880000 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:11:38,676 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=73cce066...
2025-05-26 12:11:38,676 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1904252880000 rilasciata al pool.
2025-05-26 12:11:40,238 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 12:11:40,238 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-26 12:11:40,238 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-26 12:11:40,239 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-26 12:11:40,239 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 12:11:40,280 - CatastoDB - ERROR - Errore Python in get_all_comuni_details: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-26 12:11:40,281 - CatastoGUI - INFO - Nessun comune trovato nel database.
2025-05-26 12:11:40,429 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1904252880000 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:11:40,430 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 12:11:40,440 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-26 12:11:40,442 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1904252880000 rilasciata al pool.
2025-05-26 12:11:40,658 - CatastoDB - ERROR - Errore Python get_statistiche_comune: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-26 12:11:40,659 - CatastoDB - ERROR - Errore Python get_immobili_per_tipologia: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-26 12:11:40,681 - CatastoDB - ERROR - Errore Python durante il recupero degli utenti: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-26 12:11:40,728 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1904252880000 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:11:40,729 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T12:11:40.726000'::timestamp AND timestamp <= '2025-05-26T12:11:40.726000'::timestamp;
2025-05-26 12:11:40,744 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 12:11:40,791 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 12:11:40,792 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 12:11:40,877 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 12:11:40,878 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 12:11:40,880 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 12:11:45,124 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1904252881632 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:11:45,143 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-26 12:11:45,146 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 73cce066...
2025-05-26 12:11:45,146 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1904252881632 rilasciata al pool.
2025-05-26 12:17:39,077 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 12:17:39,185 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 12:17:39,185 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 12:17:39,246 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 12:17:39,247 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1360360293232 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:17:39,247 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1360360293232 rilasciata al pool.
2025-05-26 12:17:39,248 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 12:17:45,854 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1360360293232 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:17:45,856 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 12:17:45,921 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 12:17:45,924 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1360360293232 rilasciata al pool.
2025-05-26 12:17:46,221 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 12:17:46,222 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1360360293232 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:17:46,263 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione b14d80f5...
2025-05-26 12:17:46,264 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1360360293232 rilasciata al pool.
2025-05-26 12:17:46,264 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1360360293232 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:17:46,268 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=b14d80f5...
2025-05-26 12:17:46,268 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1360360293232 rilasciata al pool.
2025-05-26 12:17:47,989 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 12:17:47,989 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-26 12:17:47,989 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-26 12:17:47,990 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-26 12:17:47,990 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 12:17:48,040 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1360360293232 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:17:48,041 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT 
                id, 
                nome AS nome_comune,
                provincia,
                regione 
            FROM catasto.comune 
            ORDER BY nome_comune;
        
2025-05-26 12:17:48,050 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-26 12:17:48,051 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1360360293232 rilasciata al pool.
2025-05-26 12:17:48,180 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1360360293232 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:17:48,180 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 12:17:48,181 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-26 12:17:48,182 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1360360293232 rilasciata al pool.
2025-05-26 12:17:48,365 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1360360293232 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:17:48,365 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-26 12:17:48,379 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-26 12:17:48,380 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1360360293232 rilasciata al pool.
2025-05-26 12:17:48,382 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1360360293232 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:17:48,383 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-26 12:17:48,392 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-26 12:17:48,393 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1360360293232 rilasciata al pool.
2025-05-26 12:17:48,423 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1360360293232 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:17:48,424 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-26 12:17:48,426 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-26 12:17:48,427 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1360360293232 rilasciata al pool.
2025-05-26 12:17:48,464 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1360360293232 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:17:48,465 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T12:17:48.463000'::timestamp AND timestamp <= '2025-05-26T12:17:48.463000'::timestamp;
2025-05-26 12:17:48,475 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 12:17:48,514 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 12:17:48,515 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 12:17:48,582 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 12:17:48,583 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 12:17:48,583 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 12:17:51,026 - CatastoDB - ERROR - Errore Python in get_partite_by_comune: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-26 12:17:51,027 - CatastoGUI - INFO - Nessuna partita trovata per il comune ID: 2
2025-05-26 12:17:59,928 - CatastoDB - ERROR - Errore Python in get_partite_by_comune: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-26 12:17:59,929 - CatastoGUI - INFO - Nessuna partita trovata per il comune ID: 2
2025-05-26 12:18:04,995 - CatastoDB - ERROR - Errore Python in get_possessori_by_comune: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-26 12:18:04,996 - CatastoGUI - INFO - Nessun possessore trovato per il comune ID: 2
2025-05-26 12:30:10,020 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 12:30:10,128 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 12:30:10,129 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 12:30:10,193 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 12:30:10,194 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2553623202256 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:30:10,195 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2553623202256 rilasciata al pool.
2025-05-26 12:30:10,195 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 12:30:16,030 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2553623202256 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:30:16,032 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 12:30:16,074 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 12:30:16,076 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2553623202256 rilasciata al pool.
2025-05-26 12:30:16,370 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 12:30:16,371 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2553623202256 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:30:16,407 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 6695a65b...
2025-05-26 12:30:16,407 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2553623202256 rilasciata al pool.
2025-05-26 12:30:16,408 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2553623202256 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:30:16,409 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=6695a65b...
2025-05-26 12:30:16,410 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2553623202256 rilasciata al pool.
2025-05-26 12:30:17,735 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 12:30:17,736 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-26 12:30:17,736 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-26 12:30:17,736 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-26 12:30:17,737 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 12:30:17,781 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2553623202256 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:30:17,782 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT 
                id, 
                nome AS nome_comune,
                provincia,
                regione 
            FROM catasto.comune 
            ORDER BY nome_comune;
        
2025-05-26 12:30:17,792 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-26 12:30:17,793 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2553623202256 rilasciata al pool.
2025-05-26 12:30:17,921 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2553623202256 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:30:17,921 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 12:30:17,922 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-26 12:30:17,923 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2553623202256 rilasciata al pool.
2025-05-26 12:30:18,073 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2553623202256 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:30:18,074 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-26 12:30:18,079 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-26 12:30:18,079 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2553623202256 rilasciata al pool.
2025-05-26 12:30:18,082 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2553623202256 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:30:18,083 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-26 12:30:18,085 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-26 12:30:18,086 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2553623202256 rilasciata al pool.
2025-05-26 12:30:18,125 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2553623202256 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:30:18,126 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-26 12:30:18,128 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-26 12:30:18,128 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2553623202256 rilasciata al pool.
2025-05-26 12:30:18,163 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2553623202256 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:30:18,165 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T12:30:18.162000'::timestamp AND timestamp <= '2025-05-26T12:30:18.162000'::timestamp;
2025-05-26 12:30:18,172 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 12:30:18,209 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 12:30:18,209 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 12:30:18,283 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 12:30:18,283 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 12:30:18,283 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 12:30:21,749 - CatastoDB - ERROR - Errore Python in get_partite_by_comune: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-26 12:30:21,749 - CatastoGUI - INFO - Nessuna partita trovata per il comune ID: 2
2025-05-26 12:30:24,678 - CatastoDB - ERROR - Errore Python in get_possessori_by_comune: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-26 12:30:24,678 - CatastoGUI - INFO - Nessun possessore trovato per il comune ID: 2
2025-05-26 12:30:27,042 - CatastoGUI - ERROR - Metodo get_localita_by_comune non trovato nel db_manager: 'CatastoDBManager' object has no attribute 'get_localita_by_comune'
2025-05-26 12:30:30,766 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2553621609408 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:30:30,782 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-26 12:30:30,785 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 6695a65b...
2025-05-26 12:30:30,786 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2553621609408 rilasciata al pool.
2025-05-26 12:30:31,873 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-26 12:30:31,873 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-26 12:30:31,874 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2553621609408 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:30:31,875 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-26 12:30:31,875 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2553621609408 rilasciata al pool.
2025-05-26 12:30:31,903 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-26 12:30:31,904 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-26 12:30:31,904 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-26 12:30:31,904 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-26 12:30:31,923 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-26 12:30:59,127 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 12:30:59,200 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 12:30:59,201 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 12:30:59,363 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 12:30:59,364 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1580178786768 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:30:59,365 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1580178786768 rilasciata al pool.
2025-05-26 12:30:59,365 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 12:31:04,456 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1580178786768 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:31:04,457 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 12:31:04,478 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 12:31:04,479 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1580178786768 rilasciata al pool.
2025-05-26 12:31:04,767 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 12:31:04,768 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1580178786768 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:31:04,790 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 8219232c...
2025-05-26 12:31:04,791 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1580178786768 rilasciata al pool.
2025-05-26 12:31:04,791 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1580178786768 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:31:04,793 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=8219232c...
2025-05-26 12:31:04,794 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1580178786768 rilasciata al pool.
2025-05-26 12:31:06,411 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 12:31:06,412 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-26 12:31:06,412 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-26 12:31:06,413 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-26 12:31:06,414 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 12:31:06,442 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1580178786768 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:31:06,442 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT 
                id, 
                nome AS nome_comune,
                provincia,
                regione 
            FROM catasto.comune 
            ORDER BY nome_comune;
        
2025-05-26 12:31:06,444 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-26 12:31:06,444 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1580178786768 rilasciata al pool.
2025-05-26 12:31:06,580 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1580178786768 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:31:06,581 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 12:31:06,582 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-26 12:31:06,583 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1580178786768 rilasciata al pool.
2025-05-26 12:31:06,752 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1580178786768 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:31:06,753 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-26 12:31:06,755 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-26 12:31:06,756 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1580178786768 rilasciata al pool.
2025-05-26 12:31:06,759 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1580178786768 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:31:06,759 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-26 12:31:06,762 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-26 12:31:06,763 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1580178786768 rilasciata al pool.
2025-05-26 12:31:06,801 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1580178786768 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:31:06,802 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-26 12:31:06,803 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-26 12:31:06,804 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1580178786768 rilasciata al pool.
2025-05-26 12:31:06,827 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1580178786768 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:31:06,827 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T12:31:06.826000'::timestamp AND timestamp <= '2025-05-26T12:31:06.826000'::timestamp;
2025-05-26 12:31:06,830 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 12:31:06,867 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 12:31:06,868 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 12:31:06,955 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 12:31:06,955 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 12:31:06,956 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 12:31:09,673 - CatastoDB - ERROR - Errore Python in get_partite_by_comune: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-26 12:31:09,673 - CatastoGUI - INFO - Nessuna partita trovata per il comune ID: 2
2025-05-26 12:31:13,460 - CatastoDB - ERROR - Errore Python in get_possessori_by_comune: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-26 12:31:13,460 - CatastoGUI - INFO - Nessun possessore trovato per il comune ID: 2
2025-05-26 12:31:15,720 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1580177062848 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:31:15,727 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-26 12:31:15,730 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 8219232c...
2025-05-26 12:31:15,730 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1580177062848 rilasciata al pool.
2025-05-26 12:31:16,791 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-26 12:31:16,791 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-26 12:31:16,792 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1580177062848 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 12:31:16,793 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-26 12:31:16,793 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1580177062848 rilasciata al pool.
2025-05-26 12:31:16,816 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-26 12:31:16,817 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-26 12:31:16,818 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-26 12:31:16,818 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-26 12:31:16,834 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-26 13:04:08,894 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 13:04:09,007 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 13:04:09,008 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 13:04:09,076 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 13:04:09,077 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1976519279472 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:04:09,077 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1976519279472 rilasciata al pool.
2025-05-26 13:04:09,078 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 13:04:16,571 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1976519279472 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:04:16,573 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 13:04:16,659 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 13:04:16,662 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1976519279472 rilasciata al pool.
2025-05-26 13:04:16,963 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 13:04:16,963 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1976519279472 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:04:17,017 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 7e7df726...
2025-05-26 13:04:17,018 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1976519279472 rilasciata al pool.
2025-05-26 13:04:17,019 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1976519279472 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:04:17,022 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=7e7df726...
2025-05-26 13:04:17,022 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1976519279472 rilasciata al pool.
2025-05-26 13:04:20,408 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 13:04:20,408 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-26 13:04:20,409 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-26 13:04:20,409 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-26 13:04:20,409 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 13:04:20,448 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1976519279472 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:04:20,449 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, codice_catastale, provincia, regione, 
                   data_istituzione, data_soppressione, note 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-26 13:04:20,472 - CatastoDB_catasto_storico_localhost_5432 - ERROR - Errore DB in get_all_comuni_details: ERRORE:  la colonna "codice_catastale" non esiste
LINE 2:             SELECT id, nome AS nome_comune, codice_catastale...
                                                    ^
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 351, in get_all_comuni_details
    cur.execute(query)
    ~~~~~~~~~~~^^^^^^^
  File "C:\Users\saint\AppData\Local\Programs\Python\Python313\Lib\site-packages\psycopg2\extras.py", line 146, in execute
    return super().execute(query, vars)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: ERRORE:  la colonna "codice_catastale" non esiste
LINE 2:             SELECT id, nome AS nome_comune, codice_catastale...
                                                    ^

2025-05-26 13:04:20,496 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1976519279472 rilasciata al pool.
2025-05-26 13:04:20,497 - CatastoGUI - INFO - Nessun comune trovato nel database.
2025-05-26 13:04:20,589 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1976519279472 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:04:20,590 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 13:04:20,601 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-26 13:04:20,602 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1976519279472 rilasciata al pool.
2025-05-26 13:04:20,771 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1976519279472 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:04:20,772 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-26 13:04:20,782 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-26 13:04:20,782 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1976519279472 rilasciata al pool.
2025-05-26 13:04:20,786 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1976519279472 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:04:20,787 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-26 13:04:20,793 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-26 13:04:20,793 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1976519279472 rilasciata al pool.
2025-05-26 13:04:20,814 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1976519279472 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:04:20,814 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-26 13:04:20,817 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-26 13:04:20,818 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1976519279472 rilasciata al pool.
2025-05-26 13:04:20,844 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1976519279472 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:04:20,846 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T13:04:20.843000'::timestamp AND timestamp <= '2025-05-26T13:04:20.844000'::timestamp;
2025-05-26 13:04:20,861 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 13:04:20,896 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 13:04:20,897 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 13:04:20,961 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 13:04:20,962 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 13:04:20,962 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 13:05:25,993 - CatastoDB - ERROR - Errore Py gen cert prop (ID: 1): 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-26 13:08:03,231 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1976517229504 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:08:03,259 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-26 13:08:03,263 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 7e7df726...
2025-05-26 13:08:03,263 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1976517229504 rilasciata al pool.
2025-05-26 13:08:04,583 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-26 13:08:04,583 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-26 13:08:04,583 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1976517229504 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:08:04,585 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-26 13:08:04,585 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1976517229504 rilasciata al pool.
2025-05-26 13:08:04,624 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-26 13:08:04,625 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-26 13:08:04,625 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-26 13:08:04,626 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-26 13:08:04,650 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-26 13:08:16,088 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 13:08:16,159 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 13:08:16,160 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 13:08:16,222 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 13:08:16,223 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2918890603648 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:08:16,224 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2918890603648 rilasciata al pool.
2025-05-26 13:08:16,224 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 13:08:25,416 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2918890603648 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:08:25,417 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 13:08:25,426 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 13:08:25,427 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2918890603648 rilasciata al pool.
2025-05-26 13:08:25,723 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 13:08:25,723 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2918890603648 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:08:25,754 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 15f18a21...
2025-05-26 13:08:25,755 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2918890603648 rilasciata al pool.
2025-05-26 13:08:25,756 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2918890603648 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:08:25,759 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=15f18a21...
2025-05-26 13:08:25,759 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2918890603648 rilasciata al pool.
2025-05-26 13:08:30,848 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 13:08:30,848 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-26 13:08:30,848 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-26 13:08:30,849 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-26 13:08:30,849 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 13:08:30,875 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2918890603648 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:08:30,876 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, codice_catastale, provincia, regione, 
                   data_istituzione, data_soppressione, note 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-26 13:08:30,879 - CatastoDB_catasto_storico_localhost_5432 - ERROR - Errore DB in get_all_comuni_details: ERRORE:  la colonna "codice_catastale" non esiste
LINE 2:             SELECT id, nome AS nome_comune, codice_catastale...
                                                    ^
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 351, in get_all_comuni_details
    cur.execute(query)
    ~~~~~~~~~~~^^^^^^^
  File "C:\Users\saint\AppData\Local\Programs\Python\Python313\Lib\site-packages\psycopg2\extras.py", line 146, in execute
    return super().execute(query, vars)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: ERRORE:  la colonna "codice_catastale" non esiste
LINE 2:             SELECT id, nome AS nome_comune, codice_catastale...
                                                    ^

2025-05-26 13:08:30,894 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2918890603648 rilasciata al pool.
2025-05-26 13:08:30,894 - CatastoGUI - INFO - Nessun comune trovato nel database.
2025-05-26 13:08:30,981 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2918890603648 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:08:30,982 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 13:08:30,984 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-26 13:08:30,984 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2918890603648 rilasciata al pool.
2025-05-26 13:08:31,116 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2918890603648 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:08:31,116 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-26 13:08:31,119 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-26 13:08:31,120 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2918890603648 rilasciata al pool.
2025-05-26 13:08:31,125 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2918890603648 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:08:31,126 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-26 13:08:31,128 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-26 13:08:31,129 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2918890603648 rilasciata al pool.
2025-05-26 13:08:31,166 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2918890603648 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:08:31,167 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-26 13:08:31,169 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-26 13:08:31,170 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2918890603648 rilasciata al pool.
2025-05-26 13:08:31,213 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2918890603648 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:08:31,214 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T13:08:31.211000'::timestamp AND timestamp <= '2025-05-26T13:08:31.211000'::timestamp;
2025-05-26 13:08:31,217 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 13:08:31,243 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 13:08:31,244 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 13:08:31,319 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 13:08:31,319 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 13:08:31,319 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 13:08:36,813 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2918888537296 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:08:36,822 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-26 13:08:36,825 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 15f18a21...
2025-05-26 13:08:36,825 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2918888537296 rilasciata al pool.
2025-05-26 13:08:38,221 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-26 13:08:38,221 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-26 13:08:38,222 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2918888537296 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:08:38,223 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-26 13:08:38,223 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2918888537296 rilasciata al pool.
2025-05-26 13:08:38,252 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-26 13:08:38,253 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-26 13:08:38,253 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-26 13:08:38,253 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-26 13:08:38,326 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-26 13:11:59,683 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 13:11:59,915 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 13:11:59,916 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 13:11:59,976 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 13:11:59,977 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2625157792624 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:11:59,978 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2625157792624 rilasciata al pool.
2025-05-26 13:11:59,978 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 13:12:06,407 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2625157792624 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:12:06,409 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 13:12:06,444 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 13:12:06,446 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2625157792624 rilasciata al pool.
2025-05-26 13:12:06,751 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 13:12:06,751 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2625157792624 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:12:06,792 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 05cab28c...
2025-05-26 13:12:06,793 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2625157792624 rilasciata al pool.
2025-05-26 13:12:06,794 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2625157792624 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:12:06,797 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=05cab28c...
2025-05-26 13:12:06,798 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2625157792624 rilasciata al pool.
2025-05-26 13:12:08,963 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 13:12:08,963 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-26 13:12:08,963 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-26 13:12:08,964 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-26 13:12:08,964 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 13:12:09,014 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2625157792624 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:12:09,015 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, codice_catastale, provincia, regione, 
                   data_istituzione, data_soppressione, note 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-26 13:12:09,025 - CatastoDB_catasto_storico_localhost_5432 - ERROR - Errore DB in get_all_comuni_details: ERRORE:  la colonna "codice_catastale" non esiste
LINE 2:             SELECT id, nome AS nome_comune, codice_catastale...
                                                    ^
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 351, in get_all_comuni_details
    cur.execute(query)
    ~~~~~~~~~~~^^^^^^^
  File "C:\Users\saint\AppData\Local\Programs\Python\Python313\Lib\site-packages\psycopg2\extras.py", line 146, in execute
    return super().execute(query, vars)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: ERRORE:  la colonna "codice_catastale" non esiste
LINE 2:             SELECT id, nome AS nome_comune, codice_catastale...
                                                    ^

2025-05-26 13:12:09,050 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2625157792624 rilasciata al pool.
2025-05-26 13:12:09,050 - CatastoGUI - INFO - Nessun comune trovato nel database.
2025-05-26 13:12:09,167 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2625157792624 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:12:09,168 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 13:12:09,171 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-26 13:12:09,172 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2625157792624 rilasciata al pool.
2025-05-26 13:12:09,349 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2625157792624 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:12:09,350 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-26 13:12:09,356 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-26 13:12:09,357 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2625157792624 rilasciata al pool.
2025-05-26 13:12:09,363 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2625157792624 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:12:09,363 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-26 13:12:09,366 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-26 13:12:09,367 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2625157792624 rilasciata al pool.
2025-05-26 13:12:09,388 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2625157792624 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:12:09,388 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-26 13:12:09,390 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-26 13:12:09,391 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2625157792624 rilasciata al pool.
2025-05-26 13:12:09,432 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2625157792624 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:12:09,433 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T13:12:09.430000'::timestamp AND timestamp <= '2025-05-26T13:12:09.430000'::timestamp;
2025-05-26 13:12:09,439 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 13:12:09,475 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 13:12:09,476 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 13:12:09,542 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 13:12:09,543 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 13:12:09,544 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 13:12:22,831 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2625157794256 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:12:22,843 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-26 13:12:22,848 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 05cab28c...
2025-05-26 13:12:22,848 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2625157794256 rilasciata al pool.
2025-05-26 13:12:24,108 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-26 13:12:24,109 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-26 13:12:24,109 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2625157794256 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:12:24,111 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-26 13:12:24,111 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2625157794256 rilasciata al pool.
2025-05-26 13:12:24,141 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-26 13:12:24,142 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-26 13:12:24,143 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-26 13:12:24,143 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-26 13:12:24,181 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-26 13:12:29,837 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 13:12:29,910 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 13:12:29,910 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 13:12:29,970 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 13:12:29,971 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584191632512 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:12:29,972 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584191632512 rilasciata al pool.
2025-05-26 13:12:29,972 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 13:12:36,521 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584191632512 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:12:36,522 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 13:12:36,531 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 13:12:36,533 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584191632512 rilasciata al pool.
2025-05-26 13:12:36,826 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 13:12:36,826 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584191632512 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:12:36,849 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 67f477e2...
2025-05-26 13:12:36,850 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584191632512 rilasciata al pool.
2025-05-26 13:12:36,851 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584191632512 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:12:36,853 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=67f477e2...
2025-05-26 13:12:36,854 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584191632512 rilasciata al pool.
2025-05-26 13:12:38,057 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 13:12:38,058 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-26 13:12:38,058 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-26 13:12:38,059 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-26 13:12:38,060 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 13:12:38,085 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584191632512 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:12:38,086 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-26 13:12:38,088 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-26 13:12:38,088 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584191632512 rilasciata al pool.
2025-05-26 13:12:38,167 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584191632512 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:12:38,168 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 13:12:38,169 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-26 13:12:38,170 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584191632512 rilasciata al pool.
2025-05-26 13:12:38,303 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584191632512 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:12:38,303 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-26 13:12:38,306 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-26 13:12:38,306 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584191632512 rilasciata al pool.
2025-05-26 13:12:38,309 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584191632512 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:12:38,310 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-26 13:12:38,312 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-26 13:12:38,312 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584191632512 rilasciata al pool.
2025-05-26 13:12:38,342 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584191632512 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:12:38,342 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-26 13:12:38,344 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-26 13:12:38,344 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584191632512 rilasciata al pool.
2025-05-26 13:12:38,372 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584191632512 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:12:38,373 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T13:12:38.371000'::timestamp AND timestamp <= '2025-05-26T13:12:38.371000'::timestamp;
2025-05-26 13:12:38,375 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 13:12:38,399 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 13:12:38,399 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 13:12:38,465 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 13:12:38,465 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 13:12:38,465 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 13:12:43,189 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:12:43,190 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_partite_by_comune per comune_id 2
2025-05-26 13:12:43,292 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 557 partite per comune ID 2.
2025-05-26 13:12:43,293 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 rilasciata al pool.
2025-05-26 13:12:46,638 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:12:46,684 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 563.
2025-05-26 13:12:46,686 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 rilasciata al pool.
2025-05-26 13:12:59,520 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:12:59,524 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 563.
2025-05-26 13:12:59,526 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 rilasciata al pool.
2025-05-26 13:12:59,529 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 563
2025-05-26 13:12:59,530 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 563
2025-05-26 13:12:59,530 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:12:59,531 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 563: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 563
            ORDER BY
                pos.nome_completo;
        
2025-05-26 13:12:59,533 - CatastoDB_catasto_storico_localhost_5432 - INFO - Trovati 2 possessori per la partita ID 563.
2025-05-26 13:12:59,534 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 rilasciata al pool.
2025-05-26 13:12:59,535 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 2773, 'possessore_id': 111, 'nome_completo_possessore': 'Possessore 2-11 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}, {'id_relazione_partita_possessore': 563, 'possessore_id': 102, 'nome_completo_possessore': 'Possessore 2-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}]
2025-05-26 13:12:59,537 - CatastoGUI - INFO - DEBUG: Tabella impostata a 2 righe.
2025-05-26 13:12:59,537 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 2773, 'possessore_id': 111, 'nome_completo_possessore': 'Possessore 2-11 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-26 13:12:59,537 - CatastoGUI - INFO - DEBUG: Popolamento riga 1, dati: {'id_relazione_partita_possessore': 563, 'possessore_id': 102, 'nome_completo_possessore': 'Possessore 2-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-26 13:12:59,539 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-26 13:13:15,696 - CatastoGUI - INFO - Tentativo di aggiornare i dati generali della partita ID 563 con: {'numero_partita': 9008, 'tipo': 'principale', 'stato': 'attiva', 'data_impianto': datetime.date(2017, 5, 19), 'data_chiusura': datetime.date(2025, 1, 1), 'numero_provenienza': None}
2025-05-26 13:13:15,697 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:13:15,698 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query UPDATE partita ID 563: 
            UPDATE catasto.partita
            SET numero_partita = 9008, tipo = 'principale', data_impianto = '2017-05-19'::date, data_chiusura = '2025-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 563;
        
2025-05-26 13:13:15,723 - CatastoDB_catasto_storico_localhost_5432 - INFO - Partita ID 563 aggiornata con successo. Righe modificate: 1
2025-05-26 13:13:15,723 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 rilasciata al pool.
2025-05-26 13:13:15,724 - CatastoGUI - INFO - Dati generali della Partita ID 563 aggiornati con successo.
2025-05-26 13:13:16,968 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:13:16,972 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 563.
2025-05-26 13:13:16,973 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 rilasciata al pool.
2025-05-26 13:13:16,974 - CatastoGUI - INFO - Tentativo di aggiornare la partita ID 563 con i dati: {'numero_partita': 9008, 'tipo': 'principale', 'stato': 'attiva', 'data_impianto': datetime.date(2017, 5, 19), 'data_chiusura': datetime.date(2025, 1, 1), 'numero_provenienza': None}
2025-05-26 13:13:16,975 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:13:16,976 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query UPDATE partita ID 563: 
            UPDATE catasto.partita
            SET numero_partita = 9008, tipo = 'principale', data_impianto = '2017-05-19'::date, data_chiusura = '2025-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 563;
        
2025-05-26 13:13:16,989 - CatastoDB_catasto_storico_localhost_5432 - INFO - Partita ID 563 aggiornata con successo. Righe modificate: 1
2025-05-26 13:13:16,990 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 rilasciata al pool.
2025-05-26 13:13:16,990 - CatastoGUI - INFO - Partita ID 563 aggiornata con successo nel database.
2025-05-26 13:13:17,022 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:13:17,023 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_partite_by_comune per comune_id 2
2025-05-26 13:13:17,034 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 557 partite per comune ID 2.
2025-05-26 13:13:17,036 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 rilasciata al pool.
2025-05-26 13:13:29,745 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:13:29,749 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 563.
2025-05-26 13:13:29,750 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 rilasciata al pool.
2025-05-26 13:13:29,752 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 563
2025-05-26 13:13:29,753 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 563
2025-05-26 13:13:29,753 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:13:29,754 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 563: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 563
            ORDER BY
                pos.nome_completo;
        
2025-05-26 13:13:29,756 - CatastoDB_catasto_storico_localhost_5432 - INFO - Trovati 2 possessori per la partita ID 563.
2025-05-26 13:13:29,757 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 rilasciata al pool.
2025-05-26 13:13:29,758 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 2773, 'possessore_id': 111, 'nome_completo_possessore': 'Possessore 2-11 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}, {'id_relazione_partita_possessore': 563, 'possessore_id': 102, 'nome_completo_possessore': 'Possessore 2-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}]
2025-05-26 13:13:29,758 - CatastoGUI - INFO - DEBUG: Tabella impostata a 2 righe.
2025-05-26 13:13:29,759 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 2773, 'possessore_id': 111, 'nome_completo_possessore': 'Possessore 2-11 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-26 13:13:29,759 - CatastoGUI - INFO - DEBUG: Popolamento riga 1, dati: {'id_relazione_partita_possessore': 563, 'possessore_id': 102, 'nome_completo_possessore': 'Possessore 2-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-26 13:13:29,760 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-26 13:13:32,320 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:13:32,321 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_partite_by_comune per comune_id 2
2025-05-26 13:13:32,332 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 557 partite per comune ID 2.
2025-05-26 13:13:32,333 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 rilasciata al pool.
2025-05-26 13:13:41,231 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:13:41,232 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_possessori_by_comune per comune_id 2
2025-05-26 13:13:41,235 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 100 possessori per comune ID 2.
2025-05-26 13:13:41,236 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 rilasciata al pool.
2025-05-26 13:13:43,529 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:13:43,530 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_possessore_full_details per possessore_id 113: 
            SELECT
                p.id,
                p.cognome_nome,
                p.paternita,
                p.nome_completo,
                p.attivo,
                p.comune_id AS comune_riferimento_id, 
                c.nome AS comune_riferimento_nome, -- Nome del comune dalla tabella comune
                p.data_creazione,
                p.data_modifica
            FROM
                catasto.possessore p
            LEFT JOIN 
                catasto.comune c ON p.comune_id = c.id -- LEFT JOIN per gestire possessori senza comune (anche se comune_id Ë NOT NULL nel tuo schema)
            WHERE
                p.id = 113;
        
2025-05-26 13:13:43,532 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli recuperati per il possessore ID 113.
2025-05-26 13:13:43,533 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 rilasciata al pool.
2025-05-26 13:13:48,738 - CatastoGUI - INFO - DEBUG: _save_changes chiamato per possessore ID 113
2025-05-26 13:13:48,738 - CatastoGUI - INFO - DEBUG: Dati dalla UI: {'nome_completo': 'Possessore 2-13 Rossi', 'cognome_nome': 'Stress 13', 'paternita': 'fu Stress Test', 'attivo': False, 'comune_riferimento_id': 2}
2025-05-26 13:13:48,739 - CatastoGUI - INFO - DEBUG: Chiamata a db_manager.update_possessore per ID 113
2025-05-26 13:13:48,739 - CatastoGUI - INFO - Tentativo di aggiornare il possessore ID 113 con i dati: {'nome_completo': 'Possessore 2-13 Rossi', 'cognome_nome': 'Stress 13', 'paternita': 'fu Stress Test', 'attivo': False, 'comune_riferimento_id': 2}
2025-05-26 13:13:48,739 - CatastoDB_catasto_storico_localhost_5432 - INFO - DEBUG: update_possessore (DBManager) chiamato per ID 113 con dati: {'nome_completo': 'Possessore 2-13 Rossi', 'cognome_nome': 'Stress 13', 'paternita': 'fu Stress Test', 'attivo': False, 'comune_riferimento_id': 2}
2025-05-26 13:13:48,740 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:13:48,741 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query UPDATE possessore ID 113: 
            UPDATE catasto.possessore
            SET nome_completo = 'Possessore 2-13 Rossi', cognome_nome = 'Stress 13', paternita = 'fu Stress Test', attivo = false, comune_id = 2, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 113;
        
2025-05-26 13:13:48,748 - CatastoDB_catasto_storico_localhost_5432 - INFO - Possessore ID 113 aggiornato con successo (righe affette potrebbero includere solo data_modifica).
2025-05-26 13:13:48,748 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 rilasciata al pool.
2025-05-26 13:13:48,749 - CatastoGUI - INFO - Possessore ID 113 aggiornato con successo.
2025-05-26 13:13:48,750 - CatastoGUI - INFO - DEBUG: db_manager.update_possessore completato per ID 113
2025-05-26 13:13:48,777 - CatastoGUI - INFO - DEBUG: ModificaPossessoreDialog accettato. Ricaricamento dati possessori...
2025-05-26 13:13:50,623 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:13:50,624 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_possessori_by_comune per comune_id 2
2025-05-26 13:13:50,627 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 100 possessori per comune ID 2.
2025-05-26 13:13:50,627 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 rilasciata al pool.
2025-05-26 13:13:54,579 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:13:54,580 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 2: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 2 ORDER BY tipo, nome, civico;
2025-05-26 13:13:54,582 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 2 (filtro: 'None').
2025-05-26 13:13:54,583 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 rilasciata al pool.
2025-05-26 13:14:04,234 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:14:04,235 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 2: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 2 ORDER BY tipo, nome, civico;
2025-05-26 13:14:04,237 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 2 (filtro: 'None').
2025-05-26 13:14:04,238 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 rilasciata al pool.
2025-05-26 13:14:10,602 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:14:10,602 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 2: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 2 ORDER BY tipo, nome, civico;
2025-05-26 13:14:10,604 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 2 (filtro: 'None').
2025-05-26 13:14:10,604 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584189566160 rilasciata al pool.
2025-05-26 13:14:24,334 - CatastoDB - ERROR - Errore Python in insert_localita 'Regione Stopardi': 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-26 13:19:37,235 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 13:19:37,343 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 13:19:37,344 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 13:19:37,406 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 13:19:37,407 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1476970088096 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:19:37,407 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1476970088096 rilasciata al pool.
2025-05-26 13:19:37,408 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 13:19:43,694 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1476970088096 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:19:43,695 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 13:19:43,763 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 13:19:43,766 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1476970088096 rilasciata al pool.
2025-05-26 13:19:44,081 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 13:19:44,082 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1476970088096 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:19:44,125 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione e175e8a3...
2025-05-26 13:19:44,125 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1476970088096 rilasciata al pool.
2025-05-26 13:19:44,126 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1476970088096 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:19:44,129 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=e175e8a3...
2025-05-26 13:19:44,130 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1476970088096 rilasciata al pool.
2025-05-26 13:19:45,966 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 13:19:45,966 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-26 13:19:45,967 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-26 13:19:45,967 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-26 13:19:45,968 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 13:19:46,003 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1476970088096 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:19:46,003 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-26 13:19:46,010 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-26 13:19:46,011 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1476970088096 rilasciata al pool.
2025-05-26 13:19:46,133 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1476970088096 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:19:46,133 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 13:19:46,135 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-26 13:19:46,136 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1476970088096 rilasciata al pool.
2025-05-26 13:19:46,298 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1476970088096 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:19:46,299 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-26 13:19:46,304 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-26 13:19:46,305 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1476970088096 rilasciata al pool.
2025-05-26 13:19:46,309 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1476970088096 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:19:46,310 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-26 13:19:46,313 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-26 13:19:46,314 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1476970088096 rilasciata al pool.
2025-05-26 13:19:46,345 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1476970088096 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:19:46,346 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-26 13:19:46,347 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-26 13:19:46,348 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1476970088096 rilasciata al pool.
2025-05-26 13:19:46,383 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1476970088096 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:19:46,385 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T13:19:46.381000'::timestamp AND timestamp <= '2025-05-26T13:19:46.383000'::timestamp;
2025-05-26 13:19:46,394 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 13:19:46,424 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 13:19:46,425 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 13:19:46,495 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 13:19:46,495 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 13:19:46,496 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 13:19:50,495 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1476966792944 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:19:50,495 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 1: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 1 ORDER BY tipo, nome, civico;
2025-05-26 13:19:50,505 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 20 localit‡ per comune ID 1 (filtro: 'None').
2025-05-26 13:19:50,506 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1476966792944 rilasciata al pool.
2025-05-26 13:20:03,049 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1476966792944 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:20:03,050 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo INSERT ON CONFLICT per localit‡: C_ID=1, Nome='Regione Stopardi', Civico=None
2025-05-26 13:20:03,067 - CatastoDB_catasto_storico_localhost_5432 - INFO - Localit‡ 'Regione Stopardi' (Comune ID: 1) inserita con successo. ID: 103.
2025-05-26 13:20:03,067 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1476966792944 rilasciata al pool.
2025-05-26 13:20:07,206 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1476966792944 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:20:07,207 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 1: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 1 ORDER BY tipo, nome, civico;
2025-05-26 13:20:07,208 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 1 (filtro: 'None').
2025-05-26 13:20:07,210 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1476966792944 rilasciata al pool.
2025-05-26 13:23:47,741 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1476966792944 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:23:47,753 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-26 13:23:47,754 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione e175e8a3...
2025-05-26 13:23:47,755 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1476966792944 rilasciata al pool.
2025-05-26 13:23:49,070 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-26 13:23:49,071 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-26 13:23:49,071 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1476966792944 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:23:49,073 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-26 13:23:49,074 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1476966792944 rilasciata al pool.
2025-05-26 13:23:49,108 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-26 13:23:49,109 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-26 13:23:49,110 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-26 13:23:49,110 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-26 13:23:49,135 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-26 13:23:56,328 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 13:23:56,398 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 13:23:56,399 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 13:23:56,461 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 13:23:56,462 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1671576470656 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:23:56,463 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1671576470656 rilasciata al pool.
2025-05-26 13:23:56,463 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 13:24:03,217 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1671576470656 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:24:03,218 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 13:24:03,231 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 13:24:03,232 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1671576470656 rilasciata al pool.
2025-05-26 13:24:03,529 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 13:24:03,530 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1671576470656 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:24:03,543 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione a3bb827e...
2025-05-26 13:24:03,544 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1671576470656 rilasciata al pool.
2025-05-26 13:24:03,544 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1671576470656 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:24:03,546 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=a3bb827e...
2025-05-26 13:24:03,547 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1671576470656 rilasciata al pool.
2025-05-26 13:24:04,880 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 13:24:04,881 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-26 13:24:04,881 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-26 13:24:04,882 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-26 13:24:04,883 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 13:24:04,915 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1671576470656 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:24:04,916 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-26 13:24:04,918 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-26 13:24:04,918 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1671576470656 rilasciata al pool.
2025-05-26 13:24:05,025 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1671576470656 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:24:05,026 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 13:24:05,027 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-26 13:24:05,028 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1671576470656 rilasciata al pool.
2025-05-26 13:24:05,185 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1671576470656 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:24:05,185 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-26 13:24:05,187 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-26 13:24:05,188 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1671576470656 rilasciata al pool.
2025-05-26 13:24:05,190 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1671576470656 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:24:05,190 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-26 13:24:05,192 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-26 13:24:05,192 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1671576470656 rilasciata al pool.
2025-05-26 13:24:05,217 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1671576470656 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:24:05,217 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-26 13:24:05,218 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-26 13:24:05,219 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1671576470656 rilasciata al pool.
2025-05-26 13:24:05,249 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1671576470656 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:24:05,249 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T13:24:05.247000'::timestamp AND timestamp <= '2025-05-26T13:24:05.247000'::timestamp;
2025-05-26 13:24:05,252 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 13:24:05,281 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 13:24:05,281 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 13:24:05,353 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 13:24:05,353 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 13:24:05,353 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 13:27:10,681 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 13:27:10,869 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 13:27:10,870 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 13:27:10,933 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 13:27:10,934 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3015906083968 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:27:10,935 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3015906083968 rilasciata al pool.
2025-05-26 13:27:10,935 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 13:27:20,380 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3015906083968 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:27:20,380 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 13:27:20,391 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 13:27:20,392 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3015906083968 rilasciata al pool.
2025-05-26 13:27:20,684 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 13:27:20,684 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3015906083968 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:27:20,696 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 08fb38c6...
2025-05-26 13:27:20,697 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3015906083968 rilasciata al pool.
2025-05-26 13:27:20,698 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3015906083968 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:27:20,699 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=08fb38c6...
2025-05-26 13:27:20,700 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3015906083968 rilasciata al pool.
2025-05-26 13:27:23,476 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 13:27:23,476 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-26 13:27:23,477 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-26 13:27:23,477 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-26 13:27:23,477 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 13:27:23,508 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3015906083968 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:27:23,509 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-26 13:27:23,511 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-26 13:27:23,512 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3015906083968 rilasciata al pool.
2025-05-26 13:27:23,605 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3015906083968 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:27:23,605 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 13:27:23,606 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-26 13:27:23,608 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3015906083968 rilasciata al pool.
2025-05-26 13:27:23,754 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3015906083968 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:27:23,754 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-26 13:27:23,757 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-26 13:27:23,758 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3015906083968 rilasciata al pool.
2025-05-26 13:27:23,761 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3015906083968 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:27:23,761 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-26 13:27:23,764 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-26 13:27:23,765 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3015906083968 rilasciata al pool.
2025-05-26 13:27:23,792 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3015906083968 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:27:23,793 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-26 13:27:23,794 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-26 13:27:23,795 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3015906083968 rilasciata al pool.
2025-05-26 13:27:23,824 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3015906083968 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:27:23,825 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T13:27:23.823000'::timestamp AND timestamp <= '2025-05-26T13:27:23.823000'::timestamp;
2025-05-26 13:27:23,828 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 13:27:23,865 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 13:27:23,866 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 13:27:23,944 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 13:27:23,945 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 13:27:23,945 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 13:27:26,933 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3015906085600 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:27:26,934 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 2: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 2 ORDER BY tipo, nome, civico;
2025-05-26 13:27:26,942 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 2 (filtro: 'None').
2025-05-26 13:27:26,943 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3015906085600 rilasciata al pool.
2025-05-26 13:29:31,841 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 13:29:31,911 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 13:29:31,911 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 13:29:31,972 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 13:29:31,974 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1929385494176 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:29:31,974 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1929385494176 rilasciata al pool.
2025-05-26 13:29:31,975 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 13:29:37,798 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1929385494176 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:29:37,799 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 13:29:37,811 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 13:29:37,812 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1929385494176 rilasciata al pool.
2025-05-26 13:29:38,103 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 13:29:38,103 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1929385494176 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:29:38,116 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 0fff18d6...
2025-05-26 13:29:38,116 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1929385494176 rilasciata al pool.
2025-05-26 13:29:38,117 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1929385494176 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:29:38,120 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=0fff18d6...
2025-05-26 13:29:38,121 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1929385494176 rilasciata al pool.
2025-05-26 13:29:40,841 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 13:29:40,842 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-26 13:29:40,842 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-26 13:29:40,843 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-26 13:29:40,843 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 13:29:40,872 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1929385494176 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:29:40,873 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-26 13:29:40,875 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-26 13:29:40,876 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1929385494176 rilasciata al pool.
2025-05-26 13:29:40,949 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1929385494176 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:29:40,950 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 13:29:40,951 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-26 13:29:40,952 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1929385494176 rilasciata al pool.
2025-05-26 13:29:41,090 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1929385494176 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:29:41,090 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-26 13:29:41,093 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-26 13:29:41,094 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1929385494176 rilasciata al pool.
2025-05-26 13:29:41,097 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1929385494176 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:29:41,098 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-26 13:29:41,100 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-26 13:29:41,101 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1929385494176 rilasciata al pool.
2025-05-26 13:29:41,132 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1929385494176 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:29:41,132 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-26 13:29:41,133 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-26 13:29:41,134 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1929385494176 rilasciata al pool.
2025-05-26 13:29:41,173 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1929385494176 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:29:41,174 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T13:29:41.171000'::timestamp AND timestamp <= '2025-05-26T13:29:41.171000'::timestamp;
2025-05-26 13:29:41,178 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 13:29:41,219 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 13:29:41,220 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 13:29:41,304 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 13:29:41,304 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 13:29:41,304 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 13:29:44,434 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1929383526128 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:29:44,434 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 2: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 2 ORDER BY tipo, nome, civico;
2025-05-26 13:29:44,443 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 2 (filtro: 'None').
2025-05-26 13:29:44,444 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1929383526128 rilasciata al pool.
2025-05-26 13:29:47,602 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1929383526128 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:29:47,603 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_localita_details per localita_id 21: 
            SELECT
                loc.id,
                loc.nome,
                loc.tipo,
                loc.civico,
                loc.comune_id,
                com.nome AS comune_nome
            FROM
                catasto.localita loc
            JOIN
                catasto.comune com ON loc.comune_id = com.id
            WHERE
                loc.id = 21;
        
2025-05-26 13:29:47,615 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli recuperati per la localit‡ ID 21: Via Stress 2-1
2025-05-26 13:29:47,616 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1929383526128 rilasciata al pool.
2025-05-26 13:29:52,362 - CatastoGUI - INFO - Tentativo di aggiornare localit‡ ID 21 con: {'nome': 'Via Stress 2-1', 'tipo': 'via', 'civico': 53}
2025-05-26 13:29:52,363 - CatastoGUI - CRITICAL - Metodo 'update_localita' o 'get_localita_details' non trovato: 'CatastoDBManager' object has no attribute 'update_localita'
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\prova.py", line 4175, in _save_changes
    self.db_manager.update_localita(self.localita_id, dati_modificati)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CatastoDBManager' object has no attribute 'update_localita'. Did you mean: 'update_partita'?
2025-05-26 13:30:05,546 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1929383526128 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:30:05,551 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-26 13:30:05,554 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 0fff18d6...
2025-05-26 13:30:05,554 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1929383526128 rilasciata al pool.
2025-05-26 13:30:06,709 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-26 13:30:06,709 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-26 13:30:06,710 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1929383526128 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:30:06,712 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-26 13:30:06,712 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1929383526128 rilasciata al pool.
2025-05-26 13:30:06,739 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-26 13:30:06,740 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-26 13:30:06,741 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-26 13:30:06,741 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-26 13:30:06,777 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-26 13:33:49,757 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 13:33:49,829 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 13:33:49,830 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 13:33:49,892 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 13:33:49,893 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753172932256 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:33:49,894 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753172932256 rilasciata al pool.
2025-05-26 13:33:49,894 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 13:33:55,494 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753172932256 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:33:55,495 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 13:33:55,510 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 13:33:55,512 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753172932256 rilasciata al pool.
2025-05-26 13:33:55,816 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 13:33:55,816 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753172932256 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:33:55,830 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione ea7aa7ec...
2025-05-26 13:33:55,831 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753172932256 rilasciata al pool.
2025-05-26 13:33:55,832 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753172932256 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:33:55,834 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=ea7aa7ec...
2025-05-26 13:33:55,835 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753172932256 rilasciata al pool.
2025-05-26 13:33:57,819 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 13:33:57,820 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-26 13:33:57,821 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-26 13:33:57,821 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-26 13:33:57,822 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 13:33:57,849 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753172932256 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:33:57,850 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-26 13:33:57,853 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-26 13:33:57,854 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753172932256 rilasciata al pool.
2025-05-26 13:33:57,982 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753172932256 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:33:57,983 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 13:33:57,985 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-26 13:33:57,986 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753172932256 rilasciata al pool.
2025-05-26 13:33:58,120 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753172932256 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:33:58,121 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-26 13:33:58,123 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-26 13:33:58,124 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753172932256 rilasciata al pool.
2025-05-26 13:33:58,127 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753172932256 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:33:58,127 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-26 13:33:58,129 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-26 13:33:58,130 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753172932256 rilasciata al pool.
2025-05-26 13:33:58,149 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753172932256 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:33:58,150 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-26 13:33:58,151 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-26 13:33:58,152 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753172932256 rilasciata al pool.
2025-05-26 13:33:58,185 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753172932256 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:33:58,186 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T13:33:58.184000'::timestamp AND timestamp <= '2025-05-26T13:33:58.184000'::timestamp;
2025-05-26 13:33:58,189 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 13:33:58,230 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 13:33:58,231 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 13:33:58,309 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 13:33:58,310 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 13:33:58,310 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 13:34:01,317 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753171177200 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:34:01,318 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 3: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 3 ORDER BY tipo, nome, civico;
2025-05-26 13:34:01,325 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 3 (filtro: 'None').
2025-05-26 13:34:01,326 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753171177200 rilasciata al pool.
2025-05-26 13:34:06,937 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753171177200 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:34:06,938 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_localita_details per localita_id 51: 
            SELECT
                loc.id,
                loc.nome,
                loc.tipo,
                loc.civico,
                loc.comune_id,
                com.nome AS comune_nome
            FROM
                catasto.localita loc
            JOIN
                catasto.comune com ON loc.comune_id = com.id
            WHERE
                loc.id = 51;
        
2025-05-26 13:34:06,944 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli recuperati per la localit‡ ID 51: Via Stress 3-11
2025-05-26 13:34:06,946 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753171177200 rilasciata al pool.
2025-05-26 13:34:13,854 - CatastoGUI - INFO - Tentativo di aggiornare localit‡ ID 51 con: {'nome': 'Via Stress 3-11', 'tipo': 'via', 'civico': 82}
2025-05-26 13:34:13,854 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753171177200 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:34:13,855 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query UPDATE localit‡ ID 51: 
            UPDATE catasto.localita
            SET nome = 'Via Stress 3-11', tipo = 'via', civico = 82, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 51;
        
2025-05-26 13:34:13,882 - CatastoDB_catasto_storico_localhost_5432 - INFO - Localit‡ ID 51 aggiornata con successo.
2025-05-26 13:34:13,883 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753171177200 rilasciata al pool.
2025-05-26 13:34:13,884 - CatastoGUI - INFO - Localit‡ ID 51 aggiornata con successo.
2025-05-26 13:34:15,579 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753171177200 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:34:15,580 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 3: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 3 ORDER BY tipo, nome, civico;
2025-05-26 13:34:15,582 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 3 (filtro: 'None').
2025-05-26 13:34:15,582 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753171177200 rilasciata al pool.
2025-05-26 13:34:22,953 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753171177200 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:34:22,953 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_localita_details per localita_id 102: 
            SELECT
                loc.id,
                loc.nome,
                loc.tipo,
                loc.civico,
                loc.comune_id,
                com.nome AS comune_nome
            FROM
                catasto.localita loc
            JOIN
                catasto.comune com ON loc.comune_id = com.id
            WHERE
                loc.id = 102;
        
2025-05-26 13:34:22,954 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli recuperati per la localit‡ ID 102: Borgata CiccioCicci
2025-05-26 13:34:22,955 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753171177200 rilasciata al pool.
2025-05-26 13:34:29,868 - CatastoGUI - INFO - Tentativo di aggiornare localit‡ ID 102 con: {'nome': 'Borgata CiccioCicci', 'tipo': 'borgata', 'civico': 5}
2025-05-26 13:34:29,869 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753171177200 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:34:29,870 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query UPDATE localit‡ ID 102: 
            UPDATE catasto.localita
            SET nome = 'Borgata CiccioCicci', tipo = 'borgata', civico = 5, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 102;
        
2025-05-26 13:34:29,873 - CatastoDB_catasto_storico_localhost_5432 - INFO - Localit‡ ID 102 aggiornata con successo.
2025-05-26 13:34:29,873 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753171177200 rilasciata al pool.
2025-05-26 13:34:29,874 - CatastoGUI - INFO - Localit‡ ID 102 aggiornata con successo.
2025-05-26 13:34:31,189 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753171177200 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:34:31,189 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 3: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 3 ORDER BY tipo, nome, civico;
2025-05-26 13:34:31,191 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 3 (filtro: 'None').
2025-05-26 13:34:31,192 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753171177200 rilasciata al pool.
2025-05-26 13:34:43,633 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753171177200 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:34:43,633 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_possessori_by_comune per comune_id 3
2025-05-26 13:34:43,638 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 99 possessori per comune ID 3.
2025-05-26 13:34:43,640 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753171177200 rilasciata al pool.
2025-05-26 13:34:49,122 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753171177200 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:34:49,123 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_partite_by_comune per comune_id 3
2025-05-26 13:34:49,164 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 548 partite per comune ID 3.
2025-05-26 13:34:49,165 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753171177200 rilasciata al pool.
2025-05-26 13:34:53,018 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753171177200 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:34:53,019 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_possessori_by_comune per comune_id 3
2025-05-26 13:34:53,022 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 99 possessori per comune ID 3.
2025-05-26 13:34:53,023 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753171177200 rilasciata al pool.
2025-05-26 13:34:55,320 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753171177200 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:34:55,321 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 3: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 3 ORDER BY tipo, nome, civico;
2025-05-26 13:34:55,323 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 3 (filtro: 'None').
2025-05-26 13:34:55,324 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753171177200 rilasciata al pool.
2025-05-26 13:34:59,092 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753171177200 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:34:59,093 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_possessori_by_comune per comune_id 3
2025-05-26 13:34:59,096 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 99 possessori per comune ID 3.
2025-05-26 13:34:59,097 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753171177200 rilasciata al pool.
2025-05-26 13:35:02,750 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753171177200 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:35:02,751 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 3: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 3 ORDER BY tipo, nome, civico;
2025-05-26 13:35:02,752 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 3 (filtro: 'None').
2025-05-26 13:35:02,753 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753171177200 rilasciata al pool.
2025-05-26 13:37:33,568 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753171177200 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:37:33,572 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-26 13:37:33,573 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione ea7aa7ec...
2025-05-26 13:37:33,573 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753171177200 rilasciata al pool.
2025-05-26 13:37:34,898 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-26 13:37:34,898 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-26 13:37:34,899 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753171177200 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:37:34,900 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-26 13:37:34,900 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2753171177200 rilasciata al pool.
2025-05-26 13:37:34,929 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-26 13:37:34,929 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-26 13:37:34,930 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-26 13:37:34,930 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-26 13:37:34,965 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-26 13:44:02,229 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 13:44:02,299 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 13:44:02,300 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 13:44:02,360 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 13:44:02,361 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1920130205072 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:44:02,361 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1920130205072 rilasciata al pool.
2025-05-26 13:44:02,362 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 13:44:08,538 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1920130205072 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:44:08,539 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 13:44:08,552 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 13:44:08,553 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1920130205072 rilasciata al pool.
2025-05-26 13:44:08,846 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 13:44:08,846 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1920130205072 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:44:08,858 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 373d4d16...
2025-05-26 13:44:08,859 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1920130205072 rilasciata al pool.
2025-05-26 13:44:08,860 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1920130205072 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:44:08,861 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=373d4d16...
2025-05-26 13:44:08,861 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1920130205072 rilasciata al pool.
2025-05-26 13:44:10,198 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 13:44:10,198 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-26 13:44:10,198 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-26 13:44:10,198 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-26 13:44:10,199 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 13:44:10,224 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1920130205072 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:44:10,225 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-26 13:44:10,226 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-26 13:44:10,227 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1920130205072 rilasciata al pool.
2025-05-26 13:44:10,311 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1920130205072 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:44:10,312 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 13:44:10,313 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-26 13:44:10,314 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1920130205072 rilasciata al pool.
2025-05-26 13:44:10,484 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1920130205072 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:44:10,485 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-26 13:44:10,487 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-26 13:44:10,488 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1920130205072 rilasciata al pool.
2025-05-26 13:44:10,491 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1920130205072 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:44:10,492 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-26 13:44:10,494 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-26 13:44:10,495 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1920130205072 rilasciata al pool.
2025-05-26 13:44:10,518 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1920130205072 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:44:10,519 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-26 13:44:10,521 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-26 13:44:10,522 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1920130205072 rilasciata al pool.
2025-05-26 13:44:10,556 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1920130205072 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:44:10,557 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T13:44:10.555000'::timestamp AND timestamp <= '2025-05-26T13:44:10.555000'::timestamp;
2025-05-26 13:44:10,560 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 13:44:10,602 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 13:44:10,603 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 13:44:10,678 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 13:44:10,678 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 13:44:10,678 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 13:48:01,494 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 13:48:01,564 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 13:48:01,564 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 13:48:01,632 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 13:48:01,632 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2030214956432 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:48:01,633 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2030214956432 rilasciata al pool.
2025-05-26 13:48:01,633 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 13:48:08,185 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2030214956432 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:48:08,187 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 13:48:08,268 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 13:48:08,270 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2030214956432 rilasciata al pool.
2025-05-26 13:48:08,573 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 13:48:08,573 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2030214956432 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:48:08,606 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 93e6551d...
2025-05-26 13:48:08,607 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2030214956432 rilasciata al pool.
2025-05-26 13:48:08,607 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2030214956432 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:48:08,611 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=93e6551d...
2025-05-26 13:48:08,612 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2030214956432 rilasciata al pool.
2025-05-26 13:48:10,106 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 13:48:10,106 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-26 13:48:10,107 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-26 13:48:10,107 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-26 13:48:10,107 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 13:48:10,129 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2030214956432 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:48:10,130 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-26 13:48:10,134 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-26 13:48:10,135 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2030214956432 rilasciata al pool.
2025-05-26 13:48:10,247 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2030214956432 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:48:10,248 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 13:48:10,250 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-26 13:48:10,250 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2030214956432 rilasciata al pool.
2025-05-26 13:48:10,432 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2030214956432 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:48:10,433 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-26 13:48:10,450 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-26 13:48:10,450 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2030214956432 rilasciata al pool.
2025-05-26 13:48:10,454 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2030214956432 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:48:10,455 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-26 13:48:10,457 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-26 13:48:10,457 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2030214956432 rilasciata al pool.
2025-05-26 13:48:10,489 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2030214956432 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:48:10,489 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-26 13:48:10,490 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-26 13:48:10,491 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2030214956432 rilasciata al pool.
2025-05-26 13:48:10,520 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2030214956432 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:48:10,521 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T13:48:10.520000'::timestamp AND timestamp <= '2025-05-26T13:48:10.520000'::timestamp;
2025-05-26 13:48:10,526 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 13:48:10,557 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 13:48:10,558 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 13:48:10,614 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 13:48:10,614 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 13:48:10,615 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 13:49:57,483 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 13:49:57,557 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 13:49:57,557 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 13:49:57,629 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 13:49:57,630 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897383824 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:49:57,630 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897383824 rilasciata al pool.
2025-05-26 13:49:57,630 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 13:50:04,568 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897383824 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:50:04,570 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 13:50:04,579 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 13:50:04,580 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897383824 rilasciata al pool.
2025-05-26 13:50:04,872 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 13:50:04,872 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897383824 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:50:04,886 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 7e8b8b47...
2025-05-26 13:50:04,886 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897383824 rilasciata al pool.
2025-05-26 13:50:04,887 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897383824 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:50:04,890 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=7e8b8b47...
2025-05-26 13:50:04,891 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897383824 rilasciata al pool.
2025-05-26 13:50:07,059 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 13:50:07,060 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-26 13:50:07,060 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-26 13:50:07,060 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-26 13:50:07,062 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 13:50:07,089 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897383824 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:50:07,090 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-26 13:50:07,092 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-26 13:50:07,093 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897383824 rilasciata al pool.
2025-05-26 13:50:07,189 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897383824 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:50:07,190 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 13:50:07,192 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-26 13:50:07,192 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897383824 rilasciata al pool.
2025-05-26 13:50:07,355 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897383824 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:50:07,356 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-26 13:50:07,358 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-26 13:50:07,358 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897383824 rilasciata al pool.
2025-05-26 13:50:07,361 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897383824 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:50:07,361 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-26 13:50:07,363 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-26 13:50:07,363 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897383824 rilasciata al pool.
2025-05-26 13:50:07,394 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897383824 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:50:07,395 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-26 13:50:07,396 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-26 13:50:07,397 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897383824 rilasciata al pool.
2025-05-26 13:50:07,427 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897383824 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:50:07,427 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T13:50:07.426000'::timestamp AND timestamp <= '2025-05-26T13:50:07.426000'::timestamp;
2025-05-26 13:50:07,430 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 13:50:07,460 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 13:50:07,461 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 13:50:07,542 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 13:50:07,542 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 13:50:07,542 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 13:50:10,783 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897385456 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:50:10,784 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 2: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 2 ORDER BY tipo, nome, civico;
2025-05-26 13:50:10,796 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 2 (filtro: 'None').
2025-05-26 13:50:10,797 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897385456 rilasciata al pool.
2025-05-26 13:50:14,167 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897385456 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:50:14,168 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_localita_details per localita_id 30: 
            SELECT
                loc.id,
                loc.nome,
                loc.tipo,
                loc.civico,
                loc.comune_id,
                com.nome AS comune_nome
            FROM
                catasto.localita loc
            JOIN
                catasto.comune com ON loc.comune_id = com.id
            WHERE
                loc.id = 30;
        
2025-05-26 13:50:14,191 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli recuperati per la localit‡ ID 30: Via Stress 2-10
2025-05-26 13:50:14,192 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897385456 rilasciata al pool.
2025-05-26 13:50:27,825 - CatastoGUI - INFO - Tentativo di aggiornare localit‡ ID 30 con: {'nome': 'Via Stress 2-10', 'tipo': 'via', 'civico': 34}
2025-05-26 13:50:27,826 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897385456 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:50:27,827 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query UPDATE localit‡ ID 30: 
            UPDATE catasto.localita
            SET nome = 'Via Stress 2-10', tipo = 'via', civico = 34, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 30;
        
2025-05-26 13:50:27,852 - CatastoDB_catasto_storico_localhost_5432 - INFO - Localit‡ ID 30 aggiornata con successo.
2025-05-26 13:50:27,853 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897385456 rilasciata al pool.
2025-05-26 13:50:27,854 - CatastoGUI - INFO - Localit‡ ID 30 aggiornata con successo.
2025-05-26 13:50:29,511 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897385456 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:50:29,512 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 2: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 2 ORDER BY tipo, nome, civico;
2025-05-26 13:50:29,512 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 2 (filtro: 'None').
2025-05-26 13:50:29,513 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897385456 rilasciata al pool.
2025-05-26 13:50:34,020 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897385456 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:50:34,021 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 2: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 2 ORDER BY tipo, nome, civico;
2025-05-26 13:50:34,023 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 2 (filtro: 'None').
2025-05-26 13:50:34,024 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897385456 rilasciata al pool.
2025-05-26 13:50:38,921 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897385456 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:50:38,922 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_localita_details per localita_id 101: 
            SELECT
                loc.id,
                loc.nome,
                loc.tipo,
                loc.civico,
                loc.comune_id,
                com.nome AS comune_nome
            FROM
                catasto.localita loc
            JOIN
                catasto.comune com ON loc.comune_id = com.id
            WHERE
                loc.id = 101;
        
2025-05-26 13:50:38,924 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli recuperati per la localit‡ ID 101: Via dei Fatti Miei
2025-05-26 13:50:38,926 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897385456 rilasciata al pool.
2025-05-26 13:50:45,470 - CatastoGUI - INFO - Tentativo di aggiornare localit‡ ID 101 con: {'nome': 'Via dei Fatti Miei', 'tipo': 'via', 'civico': 999}
2025-05-26 13:50:45,470 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897385456 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:50:45,471 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query UPDATE localit‡ ID 101: 
            UPDATE catasto.localita
            SET nome = 'Via dei Fatti Miei', tipo = 'via', civico = 999, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 101;
        
2025-05-26 13:50:45,485 - CatastoDB_catasto_storico_localhost_5432 - INFO - Localit‡ ID 101 aggiornata con successo.
2025-05-26 13:50:45,486 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897385456 rilasciata al pool.
2025-05-26 13:50:45,486 - CatastoGUI - INFO - Localit‡ ID 101 aggiornata con successo.
2025-05-26 13:50:47,095 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897385456 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:50:47,096 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 2: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 2 ORDER BY tipo, nome, civico;
2025-05-26 13:50:47,097 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 2 (filtro: 'None').
2025-05-26 13:50:47,098 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897385456 rilasciata al pool.
2025-05-26 13:50:59,486 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897385456 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:50:59,487 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 2: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 2 ORDER BY tipo, nome, civico;
2025-05-26 13:50:59,489 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 2 (filtro: 'None').
2025-05-26 13:50:59,490 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897385456 rilasciata al pool.
2025-05-26 13:51:07,471 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897385456 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:51:07,487 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-26 13:51:07,489 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 7e8b8b47...
2025-05-26 13:51:07,490 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897385456 rilasciata al pool.
2025-05-26 13:51:08,980 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-26 13:51:08,981 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-26 13:51:08,981 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897385456 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 13:51:08,982 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-26 13:51:08,983 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2068897385456 rilasciata al pool.
2025-05-26 13:51:09,025 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-26 13:51:09,026 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-26 13:51:09,027 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-26 13:51:09,027 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-26 13:51:09,049 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-26 16:49:19,227 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 16:49:19,479 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 16:49:19,492 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 16:49:19,604 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 16:49:19,615 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2439619708032 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:49:19,644 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2439619708032 rilasciata al pool.
2025-05-26 16:49:19,656 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 16:49:28,604 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2439619708032 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:49:28,616 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 16:49:28,651 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 16:49:28,662 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2439619708032 rilasciata al pool.
2025-05-26 16:49:28,924 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 16:49:28,931 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2439619708032 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:49:28,964 - CatastoDB_catasto_storico_localhost_5432 - ERROR - Errore DB in register_access per utente 1, azione login: ERRORE:  la relazione "catasto.sessioni_accesso" non esiste
LINE 2:                     INSERT INTO catasto.sessioni_accesso 
                                        ^
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 2320, in register_access
    cur.execute(query, (user_id, session_id_to_return, indirizzo_ip, app_name_to_log, action, esito, dettagli))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: ERRORE:  la relazione "catasto.sessioni_accesso" non esiste
LINE 2:                     INSERT INTO catasto.sessioni_accesso 
                                        ^

2025-05-26 16:49:29,023 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2439619708032 rilasciata al pool.
2025-05-26 16:49:30,433 - CatastoGUI - ERROR - Login GUI OK per ID 1 ma fallita reg. accesso.
2025-05-26 16:49:32,995 - CatastoGUI - INFO - Login annullato o fallito. Uscita dall'applicazione GUI.
2025-05-26 16:49:33,002 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-26 16:50:31,813 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 16:50:31,926 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 16:50:31,938 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 16:50:32,058 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 16:50:32,073 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1990204656352 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:50:32,086 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1990204656352 rilasciata al pool.
2025-05-26 16:50:32,100 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 16:50:37,084 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1990204656352 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:50:37,101 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 16:50:37,115 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 16:50:37,127 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1990204656352 rilasciata al pool.
2025-05-26 16:50:37,404 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 16:50:37,410 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1990204656352 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:50:37,429 - CatastoDB_catasto_storico_localhost_5432 - ERROR - Errore DB in register_access per utente 1, azione login: ERRORE:  la relazione "catasto.sessioni_accesso" non esiste
LINE 2:                     INSERT INTO catasto.sessioni_accesso 
                                        ^
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 2320, in register_access
    cur.execute(query, (user_id, session_id_to_return, indirizzo_ip, app_name_to_log, action, esito, dettagli))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: ERRORE:  la relazione "catasto.sessioni_accesso" non esiste
LINE 2:                     INSERT INTO catasto.sessioni_accesso 
                                        ^

2025-05-26 16:50:37,530 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1990204656352 rilasciata al pool.
2025-05-26 16:50:38,705 - CatastoGUI - ERROR - Login GUI OK per ID 1 ma fallita reg. accesso.
2025-05-26 16:50:41,290 - CatastoGUI - INFO - Login annullato o fallito. Uscita dall'applicazione GUI.
2025-05-26 16:50:41,298 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-26 16:51:08,619 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 16:51:08,730 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 16:51:08,742 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 16:51:08,848 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 16:51:08,859 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488493792 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:51:08,871 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488493792 rilasciata al pool.
2025-05-26 16:51:08,883 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 16:51:15,260 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488493792 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:51:15,273 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 16:51:15,286 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 16:51:15,298 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488493792 rilasciata al pool.
2025-05-26 16:51:15,559 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 16:51:15,565 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488493792 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:51:15,585 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 8a1a0ece...
2025-05-26 16:51:15,600 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488493792 rilasciata al pool.
2025-05-26 16:51:15,613 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488493792 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:51:15,626 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=8a1a0ece...
2025-05-26 16:51:15,642 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488493792 rilasciata al pool.
2025-05-26 16:51:16,873 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 16:51:16,879 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-26 16:51:16,885 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-26 16:51:16,891 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-26 16:51:16,897 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 16:51:16,935 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488493792 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:51:16,947 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-26 16:51:16,962 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni per get_all_comuni_details.
2025-05-26 16:51:16,974 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488493792 rilasciata al pool.
2025-05-26 16:51:17,053 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488493792 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:51:17,065 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 16:51:17,077 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-26 16:51:17,088 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488493792 rilasciata al pool.
2025-05-26 16:51:17,379 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488493792 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:51:17,390 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-26 16:51:17,404 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 5 righe da mv_statistiche_comune.
2025-05-26 16:51:17,416 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488493792 rilasciata al pool.
2025-05-26 16:51:17,429 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488493792 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:51:17,441 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-26 16:51:17,455 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 27 righe da mv_immobili_per_tipologia.
2025-05-26 16:51:17,467 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488493792 rilasciata al pool.
2025-05-26 16:51:17,498 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488493792 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:51:17,510 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-26 16:51:17,522 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-26 16:51:17,534 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488493792 rilasciata al pool.
2025-05-26 16:51:17,566 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488493792 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:51:17,578 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T16:51:17.559000'::timestamp AND timestamp <= '2025-05-26T16:51:17.559000'::timestamp;
2025-05-26 16:51:17,591 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-25T16:51:17.559000'::timestamp AND timestamp <= '2025-05-26T16:51:17.559000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-26 16:51:17,606 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 record di audit log (pagina 1 di 1). Totale filtrati: 1
2025-05-26 16:51:17,645 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 16:51:17,651 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 16:51:17,848 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 16:51:17,854 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 16:51:17,860 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 16:51:22,341 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488495424 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:51:22,354 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 3: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 3 ORDER BY tipo, nome, civico;
2025-05-26 16:51:22,368 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 3 (filtro: 'None').
2025-05-26 16:51:22,380 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488495424 rilasciata al pool.
2025-05-26 16:51:25,104 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488495424 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:51:25,125 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_localita_details per localita_id 51: 
            SELECT
                loc.id,
                loc.nome,
                loc.tipo,
                loc.civico,
                loc.comune_id,
                com.nome AS comune_nome
            FROM
                catasto.localita loc
            JOIN
                catasto.comune com ON loc.comune_id = com.id
            WHERE
                loc.id = 51;
        
2025-05-26 16:51:25,147 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli recuperati per la localit‡ ID 51: Via Stress 3-11
2025-05-26 16:51:25,162 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488495424 rilasciata al pool.
2025-05-26 16:51:35,168 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488495424 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:51:35,180 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_localita_details per localita_id 51: 
            SELECT
                loc.id,
                loc.nome,
                loc.tipo,
                loc.civico,
                loc.comune_id,
                com.nome AS comune_nome
            FROM
                catasto.localita loc
            JOIN
                catasto.comune com ON loc.comune_id = com.id
            WHERE
                loc.id = 51;
        
2025-05-26 16:51:35,193 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli recuperati per la localit‡ ID 51: Via Stress 3-11
2025-05-26 16:51:35,204 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488495424 rilasciata al pool.
2025-05-26 16:51:40,013 - CatastoGUI - INFO - Tentativo di aggiornare localit‡ ID 51 con: {'nome': 'Via Stress 3-11', 'tipo': 'via', 'civico': 40}
2025-05-26 16:51:40,019 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488495424 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:51:40,031 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query UPDATE localit‡ ID 51: 
            UPDATE catasto.localita
            SET nome = 'Via Stress 3-11', tipo = 'via', civico = 40, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 51;
        
2025-05-26 16:51:40,057 - CatastoDB_catasto_storico_localhost_5432 - INFO - Localit‡ ID 51 aggiornata con successo.
2025-05-26 16:51:40,069 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488495424 rilasciata al pool.
2025-05-26 16:51:40,081 - CatastoGUI - INFO - Localit‡ ID 51 aggiornata con successo.
2025-05-26 16:51:41,442 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488495424 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:51:41,454 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 3: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 3 ORDER BY tipo, nome, civico;
2025-05-26 16:51:41,468 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 3 (filtro: 'None').
2025-05-26 16:51:41,480 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488495424 rilasciata al pool.
2025-05-26 16:51:46,330 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488495424 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:51:46,342 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_possessori_by_comune per comune_id 3
2025-05-26 16:51:46,356 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 100 possessori per comune ID 3.
2025-05-26 16:51:46,369 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488495424 rilasciata al pool.
2025-05-26 16:51:49,791 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488495424 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:51:49,804 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_possessore_full_details per possessore_id 214: 
            SELECT
                p.id,
                p.cognome_nome,
                p.paternita,
                p.nome_completo,
                p.attivo,
                p.comune_id AS comune_riferimento_id, 
                c.nome AS comune_riferimento_nome, -- Nome del comune dalla tabella comune
                p.data_creazione,
                p.data_modifica
            FROM
                catasto.possessore p
            LEFT JOIN 
                catasto.comune c ON p.comune_id = c.id -- LEFT JOIN per gestire possessori senza comune (anche se comune_id Ë NOT NULL nel tuo schema)
            WHERE
                p.id = 214;
        
2025-05-26 16:51:49,820 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli recuperati per il possessore ID 214.
2025-05-26 16:51:49,832 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488495424 rilasciata al pool.
2025-05-26 16:51:52,345 - CatastoGUI - INFO - DEBUG: ModificaPossessoreDialog non accettato (probabilmente Annulla o errore nel salvataggio).
2025-05-26 16:51:54,979 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488495424 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:51:54,991 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_partite_by_comune per comune_id 3
2025-05-26 16:51:55,015 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 561 partite per comune ID 3.
2025-05-26 16:51:55,028 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488495424 rilasciata al pool.
2025-05-26 16:51:59,989 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488495424 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:52:00,004 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-26 16:52:00,016 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 8a1a0ece...
2025-05-26 16:52:00,027 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488495424 rilasciata al pool.
2025-05-26 16:52:01,579 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-26 16:52:01,590 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-26 16:52:01,602 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488495424 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:52:01,615 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-26 16:52:01,627 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2508488495424 rilasciata al pool.
2025-05-26 16:52:01,657 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-26 16:52:01,664 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-26 16:52:01,677 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-26 16:52:01,683 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-26 16:52:01,709 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-26 16:55:21,732 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 16:55:21,846 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 16:55:21,858 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 16:55:21,967 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 16:55:21,979 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1970763451104 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:55:21,990 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1970763451104 rilasciata al pool.
2025-05-26 16:55:22,002 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 16:55:26,957 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1970763451104 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:55:26,969 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 16:55:26,985 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 16:55:26,997 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1970763451104 rilasciata al pool.
2025-05-26 16:55:27,253 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 16:55:27,260 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1970763451104 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:55:27,285 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 98823281...
2025-05-26 16:55:27,298 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1970763451104 rilasciata al pool.
2025-05-26 16:55:27,310 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1970763451104 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:55:27,323 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=98823281...
2025-05-26 16:55:27,335 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1970763451104 rilasciata al pool.
2025-05-26 16:55:28,094 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 16:55:28,100 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-26 16:55:28,105 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-26 16:55:28,111 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-26 16:55:28,118 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 16:55:28,145 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1970763451104 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:55:28,157 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-26 16:55:28,171 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni per get_all_comuni_details.
2025-05-26 16:55:28,187 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1970763451104 rilasciata al pool.
2025-05-26 16:55:28,287 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1970763451104 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:55:28,300 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 16:55:28,313 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-26 16:55:28,325 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1970763451104 rilasciata al pool.
2025-05-26 16:55:28,588 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1970763451104 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:55:28,599 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-26 16:55:28,613 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 5 righe da mv_statistiche_comune.
2025-05-26 16:55:28,625 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1970763451104 rilasciata al pool.
2025-05-26 16:55:28,639 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1970763451104 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:55:28,651 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-26 16:55:28,663 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 27 righe da mv_immobili_per_tipologia.
2025-05-26 16:55:28,674 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1970763451104 rilasciata al pool.
2025-05-26 16:55:28,707 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1970763451104 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:55:28,719 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-26 16:55:28,740 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-26 16:55:28,753 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1970763451104 rilasciata al pool.
2025-05-26 16:55:28,784 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1970763451104 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:55:28,796 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T16:55:28.780000'::timestamp AND timestamp <= '2025-05-26T16:55:28.780000'::timestamp;
2025-05-26 16:55:28,810 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-25T16:55:28.780000'::timestamp AND timestamp <= '2025-05-26T16:55:28.780000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-26 16:55:28,824 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 2 record di audit log (pagina 1 di 1). Totale filtrati: 2
2025-05-26 16:55:28,864 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 16:55:28,871 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 16:55:29,072 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 16:55:29,078 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 16:55:29,083 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 16:55:52,022 - CatastoDB - ERROR - Errore Py gen cert prop (ID: 2001): 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-26 16:56:11,582 - CatastoDB - ERROR - Errore Py gen cert prop (ID: 1998): 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-26 16:56:51,134 - CatastoDB - INFO - Avvio aggiornamento viste materializzate...
2025-05-26 16:56:51,142 - CatastoDB - ERROR - Errore Python aggiornamento viste: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-26 16:57:07,717 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 16:57:07,851 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 16:57:07,863 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 16:57:07,986 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 16:57:07,998 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2474953591520 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:57:08,010 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2474953591520 rilasciata al pool.
2025-05-26 16:57:08,021 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 16:57:15,910 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2474953591520 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:57:15,922 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 16:57:15,937 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 16:57:15,949 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2474953591520 rilasciata al pool.
2025-05-26 16:57:16,204 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 16:57:16,210 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2474953591520 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:57:16,228 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 7bdbea6c...
2025-05-26 16:57:16,240 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2474953591520 rilasciata al pool.
2025-05-26 16:57:16,252 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2474953591520 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:57:16,265 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=7bdbea6c...
2025-05-26 16:57:16,277 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2474953591520 rilasciata al pool.
2025-05-26 16:57:18,249 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 16:57:18,255 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-26 16:57:18,261 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-26 16:57:18,267 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-26 16:57:18,274 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 16:57:18,305 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2474953591520 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:57:18,317 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-26 16:57:18,338 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni per get_all_comuni_details.
2025-05-26 16:57:18,356 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2474953591520 rilasciata al pool.
2025-05-26 16:57:18,453 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2474953591520 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:57:18,464 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 16:57:18,477 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-26 16:57:18,492 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2474953591520 rilasciata al pool.
2025-05-26 16:57:18,744 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2474953591520 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:57:18,756 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-26 16:57:18,769 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 5 righe da mv_statistiche_comune.
2025-05-26 16:57:18,781 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2474953591520 rilasciata al pool.
2025-05-26 16:57:18,794 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2474953591520 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:57:18,807 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-26 16:57:18,821 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 27 righe da mv_immobili_per_tipologia.
2025-05-26 16:57:18,833 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2474953591520 rilasciata al pool.
2025-05-26 16:57:18,865 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2474953591520 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:57:18,877 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-26 16:57:18,890 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-26 16:57:18,902 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2474953591520 rilasciata al pool.
2025-05-26 16:57:18,933 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2474953591520 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 16:57:18,946 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T16:57:18.933000'::timestamp AND timestamp <= '2025-05-26T16:57:18.933000'::timestamp;
2025-05-26 16:57:18,960 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-25T16:57:18.933000'::timestamp AND timestamp <= '2025-05-26T16:57:18.933000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-26 16:57:18,974 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 2 record di audit log (pagina 1 di 1). Totale filtrati: 2
2025-05-26 16:57:19,016 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 16:57:19,022 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 16:57:19,345 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 16:57:19,351 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 16:57:19,356 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 17:08:21,468 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 17:08:21,806 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 17:08:21,823 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 17:08:22,157 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 17:08:22,174 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357847680 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:08:22,190 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357847680 rilasciata al pool.
2025-05-26 17:08:22,220 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 17:08:29,869 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357847680 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:08:29,883 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 17:08:29,908 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 17:08:29,919 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357847680 rilasciata al pool.
2025-05-26 17:08:30,185 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 17:08:30,534 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357847680 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:08:30,558 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 6ae08e1c...
2025-05-26 17:08:30,577 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357847680 rilasciata al pool.
2025-05-26 17:08:30,589 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357847680 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:08:30,603 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=6ae08e1c...
2025-05-26 17:08:30,616 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357847680 rilasciata al pool.
2025-05-26 17:08:31,973 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 17:08:31,985 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-26 17:08:31,998 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-26 17:08:32,022 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-26 17:08:32,047 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 17:08:32,118 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357847680 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:08:32,209 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-26 17:08:32,252 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni per get_all_comuni_details.
2025-05-26 17:08:32,293 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357847680 rilasciata al pool.
2025-05-26 17:08:32,393 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357847680 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:08:32,448 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 17:08:32,566 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-26 17:08:32,615 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357847680 rilasciata al pool.
2025-05-26 17:08:33,110 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357847680 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:08:33,187 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-26 17:08:33,227 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 5 righe da mv_statistiche_comune.
2025-05-26 17:08:33,251 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357847680 rilasciata al pool.
2025-05-26 17:08:33,312 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357847680 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:08:33,372 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-26 17:08:33,518 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 27 righe da mv_immobili_per_tipologia.
2025-05-26 17:08:33,696 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357847680 rilasciata al pool.
2025-05-26 17:08:33,820 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357847680 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:08:33,836 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-26 17:08:33,851 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-26 17:08:33,863 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357847680 rilasciata al pool.
2025-05-26 17:08:33,893 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357847680 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:08:33,905 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T17:08:33.893000'::timestamp AND timestamp <= '2025-05-26T17:08:33.893000'::timestamp;
2025-05-26 17:08:33,918 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-25T17:08:33.893000'::timestamp AND timestamp <= '2025-05-26T17:08:33.893000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-26 17:08:33,933 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 2 record di audit log (pagina 1 di 1). Totale filtrati: 2
2025-05-26 17:08:33,985 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 17:08:33,991 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 17:08:34,814 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 17:08:34,838 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 17:08:34,864 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 17:08:38,461 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357849312 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:08:38,789 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 4: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 4 ORDER BY tipo, nome, civico;
2025-05-26 17:08:38,847 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 20 localit‡ per comune ID 4 (filtro: 'None').
2025-05-26 17:08:38,860 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357849312 rilasciata al pool.
2025-05-26 17:08:42,922 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357849312 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:08:42,936 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_localita_details per localita_id 72: 
            SELECT
                loc.id,
                loc.nome,
                loc.tipo,
                loc.civico,
                loc.comune_id,
                com.nome AS comune_nome
            FROM
                catasto.localita loc
            JOIN
                catasto.comune com ON loc.comune_id = com.id
            WHERE
                loc.id = 72;
        
2025-05-26 17:08:42,950 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli recuperati per la localit‡ ID 72: Via Stress 4-12
2025-05-26 17:08:42,963 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357849312 rilasciata al pool.
2025-05-26 17:09:15,376 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357849312 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:09:15,388 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 4: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 4 ORDER BY tipo, nome, civico;
2025-05-26 17:09:15,401 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 20 localit‡ per comune ID 4 (filtro: 'None').
2025-05-26 17:09:15,413 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357849312 rilasciata al pool.
2025-05-26 17:09:19,641 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357849312 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:09:19,653 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_localita_details per localita_id 61: 
            SELECT
                loc.id,
                loc.nome,
                loc.tipo,
                loc.civico,
                loc.comune_id,
                com.nome AS comune_nome
            FROM
                catasto.localita loc
            JOIN
                catasto.comune com ON loc.comune_id = com.id
            WHERE
                loc.id = 61;
        
2025-05-26 17:09:19,671 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli recuperati per la localit‡ ID 61: Via Stress 4-1
2025-05-26 17:09:19,683 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357849312 rilasciata al pool.
2025-05-26 17:09:25,519 - CatastoGUI - INFO - Tentativo di aggiornare localit‡ ID 61 con: {'nome': 'Via Stress 4-1', 'tipo': 'via', 'civico': 100}
2025-05-26 17:09:25,550 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357849312 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:09:25,846 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query UPDATE localit‡ ID 61: 
            UPDATE catasto.localita
            SET nome = 'Via Stress 4-1', tipo = 'via', civico = 100, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 61;
        
2025-05-26 17:09:25,920 - CatastoDB_catasto_storico_localhost_5432 - INFO - Localit‡ ID 61 aggiornata con successo.
2025-05-26 17:09:25,932 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357849312 rilasciata al pool.
2025-05-26 17:09:25,945 - CatastoGUI - INFO - Localit‡ ID 61 aggiornata con successo.
2025-05-26 17:09:28,149 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357849312 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:09:28,205 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 4: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 4 ORDER BY tipo, nome, civico;
2025-05-26 17:09:28,264 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 20 localit‡ per comune ID 4 (filtro: 'None').
2025-05-26 17:09:28,323 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357849312 rilasciata al pool.
2025-05-26 17:09:52,727 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357849312 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:09:52,739 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 4: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 4 ORDER BY tipo, nome, civico;
2025-05-26 17:09:52,753 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 20 localit‡ per comune ID 4 (filtro: 'None').
2025-05-26 17:09:52,766 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357849312 rilasciata al pool.
2025-05-26 17:10:36,345 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357849312 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:10:36,405 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 17:10:36,429 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-26 17:10:36,441 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2597357849312 rilasciata al pool.
2025-05-26 17:24:39,156 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 17:24:39,272 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 17:24:39,283 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 17:24:39,392 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 17:24:39,404 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1474786953952 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:24:39,416 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1474786953952 rilasciata al pool.
2025-05-26 17:24:39,428 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 17:24:44,721 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1474786953952 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:24:44,733 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 17:24:44,765 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 17:24:44,788 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1474786953952 rilasciata al pool.
2025-05-26 17:24:45,061 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 17:24:45,066 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1474786953952 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:24:45,085 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 0e1e3b83...
2025-05-26 17:24:45,096 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1474786953952 rilasciata al pool.
2025-05-26 17:24:45,107 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1474786953952 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:24:45,119 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=0e1e3b83...
2025-05-26 17:24:45,130 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1474786953952 rilasciata al pool.
2025-05-26 17:24:45,987 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 17:24:46,018 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-26 17:24:46,046 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-26 17:24:46,163 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-26 17:24:46,252 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 17:24:46,310 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1474786953952 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:24:46,321 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-26 17:24:46,338 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni per get_all_comuni_details.
2025-05-26 17:24:46,349 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1474786953952 rilasciata al pool.
2025-05-26 17:24:46,425 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1474786953952 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:24:46,437 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 17:24:46,454 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-26 17:24:46,468 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1474786953952 rilasciata al pool.
2025-05-26 17:24:46,705 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1474786953952 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:24:46,717 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-26 17:24:46,731 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 5 righe da mv_statistiche_comune.
2025-05-26 17:24:46,744 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1474786953952 rilasciata al pool.
2025-05-26 17:24:46,758 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1474786953952 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:24:46,770 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-26 17:24:46,785 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 27 righe da mv_immobili_per_tipologia.
2025-05-26 17:24:46,798 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1474786953952 rilasciata al pool.
2025-05-26 17:24:46,829 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1474786953952 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:24:46,841 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-26 17:24:46,855 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-26 17:24:46,868 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1474786953952 rilasciata al pool.
2025-05-26 17:24:46,898 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1474786953952 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:24:46,909 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T17:24:46.897000'::timestamp AND timestamp <= '2025-05-26T17:24:46.897000'::timestamp;
2025-05-26 17:24:46,925 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-25T17:24:46.897000'::timestamp AND timestamp <= '2025-05-26T17:24:46.897000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-26 17:24:46,939 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 3 record di audit log (pagina 1 di 1). Totale filtrati: 3
2025-05-26 17:24:46,980 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 17:24:46,986 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 17:24:47,184 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 17:24:47,194 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 17:24:47,200 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 17:24:56,543 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1474786955584 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:24:56,589 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 17:24:56,625 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-26 17:24:56,672 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1474786955584 rilasciata al pool.
2025-05-26 17:30:03,020 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 17:30:03,139 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 17:30:03,157 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 17:30:03,266 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 17:30:03,278 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220348128 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:30:03,294 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220348128 rilasciata al pool.
2025-05-26 17:30:03,306 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 17:30:07,581 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220348128 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:30:07,593 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 17:30:07,610 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 17:30:07,623 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220348128 rilasciata al pool.
2025-05-26 17:30:07,887 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 17:30:07,892 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220348128 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:30:07,912 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 180596ac...
2025-05-26 17:30:07,933 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220348128 rilasciata al pool.
2025-05-26 17:30:07,947 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220348128 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:30:07,960 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=180596ac...
2025-05-26 17:30:07,977 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220348128 rilasciata al pool.
2025-05-26 17:30:09,311 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 17:30:09,316 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-26 17:30:09,322 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-26 17:30:09,328 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-26 17:30:09,333 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 17:30:09,379 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220348128 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:30:09,397 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-26 17:30:09,410 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni per get_all_comuni_details.
2025-05-26 17:30:09,421 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220348128 rilasciata al pool.
2025-05-26 17:30:09,507 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220348128 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:30:09,519 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 17:30:09,532 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-26 17:30:09,544 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220348128 rilasciata al pool.
2025-05-26 17:30:09,811 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220348128 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:30:09,823 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-26 17:30:09,836 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 5 righe da mv_statistiche_comune.
2025-05-26 17:30:09,849 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220348128 rilasciata al pool.
2025-05-26 17:30:09,862 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220348128 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:30:09,874 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-26 17:30:09,887 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 27 righe da mv_immobili_per_tipologia.
2025-05-26 17:30:09,899 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220348128 rilasciata al pool.
2025-05-26 17:30:09,929 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220348128 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:30:09,941 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-26 17:30:09,953 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-26 17:30:09,964 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220348128 rilasciata al pool.
2025-05-26 17:30:09,996 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220348128 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:30:10,008 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T17:30:09.990000'::timestamp AND timestamp <= '2025-05-26T17:30:09.990000'::timestamp;
2025-05-26 17:30:10,030 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-25T17:30:09.990000'::timestamp AND timestamp <= '2025-05-26T17:30:09.990000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-26 17:30:10,045 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 3 record di audit log (pagina 1 di 1). Totale filtrati: 3
2025-05-26 17:30:10,090 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 17:30:10,096 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 17:30:10,294 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 17:30:10,300 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 17:30:10,305 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 17:30:16,991 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220349760 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:30:17,003 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 17:30:17,016 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-26 17:30:17,028 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220349760 rilasciata al pool.
2025-05-26 17:30:18,177 - CatastoGUI - INFO - DEBUG: InserimentoLocalitaWidget - Chiamata refresh_localita per comune ID: 4
2025-05-26 17:30:18,184 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220349760 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:30:18,196 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 4: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 4 ORDER BY tipo, nome, civico;
2025-05-26 17:30:18,209 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 20 localit‡ per comune ID 4 (filtro: 'None').
2025-05-26 17:30:18,221 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220349760 rilasciata al pool.
2025-05-26 17:30:39,973 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220349760 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:30:39,985 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo INSERT ON CONFLICT per localit‡: C_ID=4, Nome='Via Stress 4-1', Civico=100
2025-05-26 17:30:40,000 - CatastoDB_catasto_storico_localhost_5432 - INFO - Localit‡ 'Via Stress 4-1' (Comune ID: 4) non inserita (probabile conflitto o nessun ID restituito). Tento SELECT.
2025-05-26 17:30:40,013 - CatastoDB_catasto_storico_localhost_5432 - INFO - Localit‡ 'Via Stress 4-1' (Comune ID: 4) gi‡ esistente trovata. ID: 61.
2025-05-26 17:30:40,026 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220349760 rilasciata al pool.
2025-05-26 17:30:46,618 - CatastoGUI - INFO - DEBUG: InserimentoLocalitaWidget - Chiamata refresh_localita per comune ID: 4
2025-05-26 17:30:46,623 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220349760 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:30:46,634 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 4: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 4 ORDER BY tipo, nome, civico;
2025-05-26 17:30:46,646 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 20 localit‡ per comune ID 4 (filtro: 'None').
2025-05-26 17:30:46,658 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220349760 rilasciata al pool.
2025-05-26 17:30:51,975 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220349760 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:30:51,986 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 17:30:51,999 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-26 17:30:52,012 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220349760 rilasciata al pool.
2025-05-26 17:30:56,646 - CatastoGUI - INFO - DEBUG: InserimentoLocalitaWidget - Chiamata refresh_localita per comune ID: 4
2025-05-26 17:30:56,652 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220349760 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:30:56,664 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 4: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 4 ORDER BY tipo, nome, civico;
2025-05-26 17:30:56,677 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 20 localit‡ per comune ID 4 (filtro: 'None').
2025-05-26 17:30:56,689 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220349760 rilasciata al pool.
2025-05-26 17:31:04,039 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220349760 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:31:04,052 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 17:31:04,064 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-26 17:31:04,076 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220349760 rilasciata al pool.
2025-05-26 17:31:08,086 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220349760 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:31:08,097 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_possessori_by_comune per comune_id 4
2025-05-26 17:31:08,114 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 100 possessori per comune ID 4.
2025-05-26 17:31:08,127 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220349760 rilasciata al pool.
2025-05-26 17:31:29,022 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2254220349760 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:31:29,035 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-19T17:30:09.983000'::timestamp AND timestamp <= '2025-05-26T17:30:09.984000'::timestamp;
2025-05-26 17:31:29,055 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-19T17:30:09.983000'::timestamp AND timestamp <= '2025-05-26T17:30:09.984000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-26 17:31:29,153 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 100 record di audit log (pagina 1 di 152). Totale filtrati: 15197
2025-05-26 17:44:31,478 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 17:44:31,633 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 17:44:31,648 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 17:44:31,767 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 17:44:31,779 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2336453330048 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:44:31,791 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2336453330048 rilasciata al pool.
2025-05-26 17:44:31,803 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 17:44:37,464 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2336453330048 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:44:37,476 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 17:44:37,507 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 17:44:37,519 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2336453330048 rilasciata al pool.
2025-05-26 17:44:37,781 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 17:44:37,787 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2336453330048 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:44:37,811 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 347c414a...
2025-05-26 17:44:37,822 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2336453330048 rilasciata al pool.
2025-05-26 17:44:37,834 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2336453330048 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:44:37,847 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=347c414a...
2025-05-26 17:44:37,859 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2336453330048 rilasciata al pool.
2025-05-26 17:44:38,770 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 17:44:38,776 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-26 17:44:38,782 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-26 17:44:38,788 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-26 17:44:38,794 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 17:44:38,820 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2336453330048 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:44:38,831 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-26 17:44:38,844 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni per get_all_comuni_details.
2025-05-26 17:44:38,856 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2336453330048 rilasciata al pool.
2025-05-26 17:44:38,935 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2336453330048 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:44:38,946 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 17:44:38,960 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-26 17:44:38,971 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2336453330048 rilasciata al pool.
2025-05-26 17:44:39,252 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2336453330048 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:44:39,264 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-26 17:44:39,277 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 5 righe da mv_statistiche_comune.
2025-05-26 17:44:39,289 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2336453330048 rilasciata al pool.
2025-05-26 17:44:39,302 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2336453330048 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:44:39,315 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-26 17:44:39,330 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 27 righe da mv_immobili_per_tipologia.
2025-05-26 17:44:39,341 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2336453330048 rilasciata al pool.
2025-05-26 17:44:39,370 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2336453330048 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:44:39,381 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-26 17:44:39,395 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-26 17:44:39,407 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2336453330048 rilasciata al pool.
2025-05-26 17:44:39,437 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2336453330048 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 17:44:39,448 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T17:44:39.436000'::timestamp AND timestamp <= '2025-05-26T17:44:39.436000'::timestamp;
2025-05-26 17:44:39,462 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-25T17:44:39.436000'::timestamp AND timestamp <= '2025-05-26T17:44:39.436000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-26 17:44:39,476 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 3 record di audit log (pagina 1 di 1). Totale filtrati: 3
2025-05-26 17:44:39,521 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 17:44:39,527 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 17:44:39,720 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 17:44:39,726 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 17:44:39,731 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 19:10:42,948 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 19:10:43,067 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 19:10:43,068 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 19:10:43,135 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 19:10:43,136 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2148562798240 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:10:43,137 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2148562798240 rilasciata al pool.
2025-05-26 19:10:43,137 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 19:10:53,909 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2148562798240 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:10:53,910 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 19:10:53,989 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 19:10:53,992 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2148562798240 rilasciata al pool.
2025-05-26 19:10:54,320 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 19:10:54,321 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2148562798240 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:10:54,381 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 02f3b36c...
2025-05-26 19:10:54,381 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2148562798240 rilasciata al pool.
2025-05-26 19:10:54,382 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2148562798240 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:10:54,386 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=02f3b36c...
2025-05-26 19:10:54,386 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2148562798240 rilasciata al pool.
2025-05-26 19:10:55,530 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 19:10:55,531 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-26 19:10:55,532 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-26 19:10:55,533 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-26 19:10:55,534 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 19:10:55,641 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2148562798240 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:10:55,643 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-26 19:10:55,669 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-26 19:10:55,671 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2148562798240 rilasciata al pool.
2025-05-26 19:10:55,953 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2148562798240 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:10:55,954 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 19:10:55,957 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-26 19:10:55,959 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2148562798240 rilasciata al pool.
2025-05-26 19:10:56,379 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2148562798240 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:10:56,380 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-26 19:10:56,395 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-26 19:10:56,396 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2148562798240 rilasciata al pool.
2025-05-26 19:10:56,400 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2148562798240 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:10:56,401 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-26 19:10:56,410 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-26 19:10:56,411 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2148562798240 rilasciata al pool.
2025-05-26 19:10:56,470 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2148562798240 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:10:56,471 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-26 19:10:56,472 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-26 19:10:56,474 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2148562798240 rilasciata al pool.
2025-05-26 19:10:56,569 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2148562798240 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:10:56,571 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T19:10:56.566000'::timestamp AND timestamp <= '2025-05-26T19:10:56.567000'::timestamp;
2025-05-26 19:10:56,599 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 19:10:56,638 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 19:10:56,640 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 19:10:56,771 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 19:10:56,772 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 19:10:56,773 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 19:15:48,770 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 19:15:48,902 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 19:15:48,903 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 19:15:48,978 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 19:15:48,979 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2131175835296 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:15:48,980 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2131175835296 rilasciata al pool.
2025-05-26 19:15:48,981 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 19:15:58,342 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2131175835296 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:15:58,343 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 19:15:58,412 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 19:15:58,414 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2131175835296 rilasciata al pool.
2025-05-26 19:15:58,747 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 19:15:58,747 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2131175835296 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:15:58,812 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione a8acda2c...
2025-05-26 19:15:58,813 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2131175835296 rilasciata al pool.
2025-05-26 19:15:58,814 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2131175835296 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:15:58,818 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=a8acda2c...
2025-05-26 19:15:58,819 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2131175835296 rilasciata al pool.
2025-05-26 19:16:00,144 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 19:16:00,145 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-26 19:16:00,145 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-26 19:16:00,147 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-26 19:16:00,148 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 19:16:00,247 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2131175835296 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:16:00,248 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-26 19:16:00,256 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-26 19:16:00,257 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2131175835296 rilasciata al pool.
2025-05-26 19:16:00,540 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2131175835296 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:16:00,542 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 19:16:00,544 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-26 19:16:00,545 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2131175835296 rilasciata al pool.
2025-05-26 19:16:00,946 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2131175835296 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:16:00,947 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-26 19:16:00,954 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-26 19:16:00,955 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2131175835296 rilasciata al pool.
2025-05-26 19:16:00,960 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2131175835296 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:16:00,961 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-26 19:16:00,964 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-26 19:16:00,965 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2131175835296 rilasciata al pool.
2025-05-26 19:16:01,016 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2131175835296 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:16:01,017 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-26 19:16:01,020 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-26 19:16:01,021 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2131175835296 rilasciata al pool.
2025-05-26 19:16:01,098 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2131175835296 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:16:01,100 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T19:16:01.095000'::timestamp AND timestamp <= '2025-05-26T19:16:01.096000'::timestamp;
2025-05-26 19:16:01,113 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 19:16:01,199 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 19:16:01,201 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 19:16:01,316 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 19:16:01,321 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 19:16:01,321 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 19:16:18,599 - CatastoDB_catasto_storico_localhost_5432 - INFO - Trovato eseguibile 'pg_dump.exe' nel PATH: .\pg_dump.exe
2025-05-26 19:16:18,601 - CatastoDB_catasto_storico_localhost_5432 - INFO - Comando di backup preparato: .\pg_dump.exe -U postgres -h localhost -p 5432 -Fc --file C:/Users/saint/catasto/gemini/catasto_storico_backup_20250526_191607.dump catasto_storico
2025-05-26 19:19:14,654 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2131173867248 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:19:14,680 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-26 19:19:14,685 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione a8acda2c...
2025-05-26 19:19:14,686 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2131173867248 rilasciata al pool.
2025-05-26 19:19:15,859 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-26 19:19:15,860 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-26 19:19:15,861 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2131173867248 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:19:15,863 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-26 19:19:15,864 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2131173867248 rilasciata al pool.
2025-05-26 19:19:15,878 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-26 19:19:15,879 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-26 19:19:15,880 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-26 19:19:15,880 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-26 19:19:15,896 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-26 19:19:23,873 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 19:19:23,947 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 19:19:23,948 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 19:19:24,024 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 19:19:24,025 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2885762106768 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:19:24,026 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2885762106768 rilasciata al pool.
2025-05-26 19:19:24,026 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 19:19:30,118 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2885762106768 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:19:30,120 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 19:19:30,136 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 19:19:30,138 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2885762106768 rilasciata al pool.
2025-05-26 19:19:30,459 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 19:19:30,459 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2885762106768 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:19:30,517 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 4e60e69e...
2025-05-26 19:19:30,518 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2885762106768 rilasciata al pool.
2025-05-26 19:19:30,518 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2885762106768 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:19:30,519 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=4e60e69e...
2025-05-26 19:19:30,520 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2885762106768 rilasciata al pool.
2025-05-26 19:19:32,518 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 19:19:32,518 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-26 19:19:32,519 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-26 19:19:32,520 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-26 19:19:32,522 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 19:19:32,577 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2885762106768 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:19:32,578 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-26 19:19:32,582 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-26 19:19:32,583 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2885762106768 rilasciata al pool.
2025-05-26 19:19:32,802 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2885762106768 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:19:32,804 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 19:19:32,806 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-26 19:19:32,807 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2885762106768 rilasciata al pool.
2025-05-26 19:19:33,130 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2885762106768 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:19:33,131 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-26 19:19:33,134 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-26 19:19:33,135 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2885762106768 rilasciata al pool.
2025-05-26 19:19:33,140 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2885762106768 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:19:33,141 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-26 19:19:33,144 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-26 19:19:33,145 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2885762106768 rilasciata al pool.
2025-05-26 19:19:33,179 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2885762106768 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:19:33,180 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-26 19:19:33,181 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-26 19:19:33,182 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2885762106768 rilasciata al pool.
2025-05-26 19:19:33,214 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2885762106768 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:19:33,215 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T19:19:33.212000'::timestamp AND timestamp <= '2025-05-26T19:19:33.212000'::timestamp;
2025-05-26 19:19:33,218 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 19:19:33,257 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 19:19:33,258 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 19:19:33,391 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 19:19:33,392 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 19:19:33,393 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 19:19:52,971 - CatastoDB_catasto_storico_localhost_5432 - WARNING - Percorso fornito 'C:\Program Files\PostgreSQL\17\bin' per 'pg_dump.exe' non valido. Tento ricerca nel PATH.
2025-05-26 19:19:52,972 - CatastoDB_catasto_storico_localhost_5432 - INFO - Trovato eseguibile 'pg_dump.exe' nel PATH: .\pg_dump.exe
2025-05-26 19:19:52,972 - CatastoDB_catasto_storico_localhost_5432 - INFO - Comando di backup preparato: .\pg_dump.exe -U postgres -h localhost -p 5432 -Fc --file C:/Users/saint/catasto/gemini/catasto_storico_backup_20250526_191939.dump catasto_storico
2025-05-26 19:20:05,166 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2885762108400 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:20:05,179 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-26 19:20:05,183 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 4e60e69e...
2025-05-26 19:20:05,184 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2885762108400 rilasciata al pool.
2025-05-26 19:20:06,268 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-26 19:20:06,269 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-26 19:20:06,270 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2885762108400 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:20:06,272 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-26 19:20:06,273 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2885762108400 rilasciata al pool.
2025-05-26 19:20:06,285 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-26 19:20:06,286 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-26 19:20:06,287 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-26 19:20:06,287 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-26 19:20:06,304 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-26 19:20:10,984 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 19:20:11,101 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 19:20:11,102 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 19:20:11,173 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 19:20:11,174 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2715212137872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:20:11,175 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2715212137872 rilasciata al pool.
2025-05-26 19:20:11,175 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 19:20:18,277 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2715212137872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:20:18,279 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 19:20:18,294 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 19:20:18,296 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2715212137872 rilasciata al pool.
2025-05-26 19:20:18,632 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 19:20:18,632 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2715212137872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:20:18,655 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione ce1e48ab...
2025-05-26 19:20:18,656 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2715212137872 rilasciata al pool.
2025-05-26 19:20:18,656 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2715212137872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:20:18,658 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=ce1e48ab...
2025-05-26 19:20:18,659 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2715212137872 rilasciata al pool.
2025-05-26 19:20:21,061 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 19:20:21,061 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-26 19:20:21,062 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-26 19:20:21,062 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-26 19:20:21,063 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 19:20:21,122 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2715212137872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:20:21,124 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-26 19:20:21,128 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-26 19:20:21,129 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2715212137872 rilasciata al pool.
2025-05-26 19:20:21,386 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2715212137872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:20:21,387 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 19:20:21,389 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-26 19:20:21,390 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2715212137872 rilasciata al pool.
2025-05-26 19:20:21,724 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2715212137872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:20:21,726 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-26 19:20:21,729 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-26 19:20:21,730 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2715212137872 rilasciata al pool.
2025-05-26 19:20:21,734 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2715212137872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:20:21,734 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-26 19:20:21,736 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-26 19:20:21,737 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2715212137872 rilasciata al pool.
2025-05-26 19:20:21,784 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2715212137872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:20:21,786 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-26 19:20:21,787 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-26 19:20:21,788 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2715212137872 rilasciata al pool.
2025-05-26 19:20:21,844 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2715212137872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:20:21,846 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T19:20:21.843000'::timestamp AND timestamp <= '2025-05-26T19:20:21.843000'::timestamp;
2025-05-26 19:20:21,849 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 19:20:21,927 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 19:20:21,928 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 19:20:22,065 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 19:20:22,068 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 19:20:22,069 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 19:20:47,818 - CatastoDB_catasto_storico_localhost_5432 - INFO - Utilizzo del percorso eseguibile fornito: C:\Program Files\PostgreSQL\17\bin\pg_dump.exe
2025-05-26 19:20:47,819 - CatastoDB_catasto_storico_localhost_5432 - INFO - Comando di backup preparato: C:\Program Files\PostgreSQL\17\bin\pg_dump.exe -U postgres -h localhost -p 5432 -Fc --file C:/Users/saint/catasto/gemini/catasto_storico_backup_20250526_192026.dump catasto_storico
2025-05-26 19:29:11,779 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 19:29:11,975 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 19:29:11,976 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 19:29:12,044 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 19:29:12,046 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2347926193824 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:29:12,046 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2347926193824 rilasciata al pool.
2025-05-26 19:29:12,047 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 19:29:19,828 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2347926193824 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:29:19,830 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 19:29:19,912 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 19:29:19,915 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2347926193824 rilasciata al pool.
2025-05-26 19:29:20,239 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 19:29:20,240 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2347926193824 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:29:20,276 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 066e637e...
2025-05-26 19:29:20,276 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2347926193824 rilasciata al pool.
2025-05-26 19:29:20,277 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2347926193824 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:29:20,280 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=066e637e...
2025-05-26 19:29:20,281 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2347926193824 rilasciata al pool.
2025-05-26 19:29:22,024 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 19:29:22,024 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-26 19:29:22,025 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-26 19:29:22,026 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-26 19:29:22,027 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 19:29:22,122 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2347926193824 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:29:22,123 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-26 19:29:22,133 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-26 19:29:22,135 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2347926193824 rilasciata al pool.
2025-05-26 19:29:22,410 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2347926193824 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:29:22,410 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 19:29:22,412 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-26 19:29:22,413 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2347926193824 rilasciata al pool.
2025-05-26 19:29:22,779 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2347926193824 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:29:22,780 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-26 19:29:22,786 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-26 19:29:22,786 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2347926193824 rilasciata al pool.
2025-05-26 19:29:22,791 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2347926193824 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:29:22,793 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-26 19:29:22,795 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-26 19:29:22,796 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2347926193824 rilasciata al pool.
2025-05-26 19:29:22,840 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2347926193824 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:29:22,841 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-26 19:29:22,842 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-26 19:29:22,843 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2347926193824 rilasciata al pool.
2025-05-26 19:29:22,902 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2347926193824 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:29:22,904 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T19:29:22.900000'::timestamp AND timestamp <= '2025-05-26T19:29:22.900000'::timestamp;
2025-05-26 19:29:22,911 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 19:29:22,984 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 19:29:22,986 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 19:29:24,321 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 19:29:24,328 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 19:29:24,330 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 19:30:44,858 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2347926195456 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:30:44,887 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-26 19:30:44,893 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 066e637e...
2025-05-26 19:30:44,894 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2347926195456 rilasciata al pool.
2025-05-26 19:30:46,202 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-26 19:30:46,203 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-26 19:30:46,204 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2347926195456 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:30:46,207 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-26 19:30:46,208 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2347926195456 rilasciata al pool.
2025-05-26 19:30:46,227 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-26 19:30:46,228 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-26 19:30:46,229 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-26 19:30:46,229 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-26 19:30:46,253 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-26 19:30:55,404 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 19:30:55,501 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-26 19:30:55,501 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-26 19:30:55,565 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-26 19:30:55,566 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3035653097120 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:30:55,567 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3035653097120 rilasciata al pool.
2025-05-26 19:30:55,568 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-26 19:31:02,589 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3035653097120 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:31:02,590 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-26 19:31:02,607 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-26 19:31:02,609 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3035653097120 rilasciata al pool.
2025-05-26 19:31:02,975 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-26 19:31:02,975 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3035653097120 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:31:03,025 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 74337733...
2025-05-26 19:31:03,026 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3035653097120 rilasciata al pool.
2025-05-26 19:31:03,027 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3035653097120 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:31:03,030 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=74337733...
2025-05-26 19:31:03,031 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3035653097120 rilasciata al pool.
2025-05-26 19:31:04,816 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-26 19:31:04,816 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-26 19:31:04,817 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-26 19:31:04,817 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-26 19:31:04,818 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-26 19:31:04,879 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3035653097120 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:31:04,881 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-26 19:31:04,884 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-26 19:31:04,885 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3035653097120 rilasciata al pool.
2025-05-26 19:31:05,071 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3035653097120 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:31:05,073 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-26 19:31:05,074 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-26 19:31:05,075 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3035653097120 rilasciata al pool.
2025-05-26 19:31:05,400 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3035653097120 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:31:05,401 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-26 19:31:05,404 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-26 19:31:05,405 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3035653097120 rilasciata al pool.
2025-05-26 19:31:05,410 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3035653097120 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:31:05,411 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-26 19:31:05,414 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-26 19:31:05,415 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3035653097120 rilasciata al pool.
2025-05-26 19:31:05,473 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3035653097120 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:31:05,475 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-26 19:31:05,477 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-26 19:31:05,478 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3035653097120 rilasciata al pool.
2025-05-26 19:31:05,528 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3035653097120 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-26 19:31:05,529 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-25T19:31:05.526000'::timestamp AND timestamp <= '2025-05-26T19:31:05.526000'::timestamp;
2025-05-26 19:31:05,532 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-26 19:31:05,584 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-26 19:31:05,585 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-26 19:31:05,733 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-26 19:31:05,735 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-26 19:31:05,735 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-26 19:31:40,476 - CatastoDB_catasto_storico_localhost_5432 - INFO - Utilizzo del percorso eseguibile fornito: C:\Program Files\PostgreSQL\17\bin\pg_dump.exe
2025-05-26 19:31:40,478 - CatastoDB_catasto_storico_localhost_5432 - INFO - Comando di backup preparato: C:\Program Files\PostgreSQL\17\bin\pg_dump.exe -U postgres -h localhost -p 5432 -Fc --file C:/Users/saint/catasto/gemini/catasto_storico_backup_20250526_193111.dump catasto_storico
2025-05-27 08:21:19,844 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 08:21:20,006 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 08:21:20,007 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 08:21:20,082 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 08:21:20,083 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1744569927328 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:21:20,084 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1744569927328 rilasciata al pool.
2025-05-27 08:21:20,084 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 08:21:29,177 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1744569927328 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:21:29,179 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 08:21:29,258 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 08:21:29,260 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1744569927328 rilasciata al pool.
2025-05-27 08:21:29,559 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 08:21:29,560 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1744569927328 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:21:29,615 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 15e7a51b...
2025-05-27 08:21:29,615 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1744569927328 rilasciata al pool.
2025-05-27 08:21:29,616 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1744569927328 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:21:29,619 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=15e7a51b...
2025-05-27 08:21:29,620 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1744569927328 rilasciata al pool.
2025-05-27 08:21:30,564 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 08:21:30,564 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 08:21:30,565 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 08:21:30,566 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 08:21:30,568 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 08:21:30,669 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1744569927328 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:21:30,671 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 08:21:30,690 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 08:21:30,692 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1744569927328 rilasciata al pool.
2025-05-27 08:21:30,902 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1744569927328 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:21:30,902 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 08:21:30,904 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 08:21:30,905 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1744569927328 rilasciata al pool.
2025-05-27 08:21:31,332 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1744569927328 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:21:31,334 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 08:21:31,348 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 08:21:31,350 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1744569927328 rilasciata al pool.
2025-05-27 08:21:31,356 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1744569927328 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:21:31,358 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 08:21:31,370 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 08:21:31,372 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1744569927328 rilasciata al pool.
2025-05-27 08:21:31,455 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1744569927328 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:21:31,456 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 08:21:31,459 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 08:21:31,460 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1744569927328 rilasciata al pool.
2025-05-27 08:21:31,521 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1744569927328 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:21:31,523 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T08:21:31.519000'::timestamp AND timestamp <= '2025-05-27T08:21:31.520000'::timestamp;
2025-05-27 08:21:31,545 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 08:21:31,612 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 08:21:31,614 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 08:21:31,756 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 08:21:31,758 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 08:21:31,761 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 08:27:53,660 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 08:27:53,789 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 08:27:53,790 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 08:27:53,866 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 08:27:53,868 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2235290109872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:27:53,868 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2235290109872 rilasciata al pool.
2025-05-27 08:27:53,869 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 08:28:00,703 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2235290109872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:28:00,704 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 08:28:00,775 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 08:28:00,778 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2235290109872 rilasciata al pool.
2025-05-27 08:28:01,167 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 08:28:01,167 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2235290109872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:28:01,214 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 59fdb4ac...
2025-05-27 08:28:01,215 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2235290109872 rilasciata al pool.
2025-05-27 08:28:01,216 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2235290109872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:28:01,220 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=59fdb4ac...
2025-05-27 08:28:01,221 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2235290109872 rilasciata al pool.
2025-05-27 08:28:03,094 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 08:28:03,095 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 08:28:03,095 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 08:28:03,096 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 08:28:03,098 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 08:28:03,200 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2235290109872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:28:03,201 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 08:28:03,218 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 08:28:03,220 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2235290109872 rilasciata al pool.
2025-05-27 08:28:03,481 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2235290109872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:28:03,482 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 08:28:03,484 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 08:28:03,485 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2235290109872 rilasciata al pool.
2025-05-27 08:28:03,831 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2235290109872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:28:03,833 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 08:28:03,843 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 08:28:03,844 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2235290109872 rilasciata al pool.
2025-05-27 08:28:03,848 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2235290109872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:28:03,849 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 08:28:03,853 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 08:28:03,854 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2235290109872 rilasciata al pool.
2025-05-27 08:28:03,916 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2235290109872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:28:03,917 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 08:28:03,918 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 08:28:03,919 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2235290109872 rilasciata al pool.
2025-05-27 08:28:03,992 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2235290109872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:28:03,994 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T08:28:03.988000'::timestamp AND timestamp <= '2025-05-27T08:28:03.990000'::timestamp;
2025-05-27 08:28:04,004 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 08:28:04,099 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 08:28:04,100 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 08:28:04,224 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 08:28:04,226 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 08:28:04,227 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 08:33:02,130 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 08:33:02,215 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 08:33:02,216 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 08:33:02,336 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 08:33:02,337 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355327698592 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:33:02,338 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355327698592 rilasciata al pool.
2025-05-27 08:33:02,338 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 08:33:07,386 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355327698592 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:33:07,387 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 08:33:07,420 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 08:33:07,421 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355327698592 rilasciata al pool.
2025-05-27 08:33:07,785 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 08:33:07,786 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355327698592 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:33:07,845 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 3d6ce223...
2025-05-27 08:33:07,847 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355327698592 rilasciata al pool.
2025-05-27 08:33:07,848 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355327698592 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:33:07,852 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=3d6ce223...
2025-05-27 08:33:07,853 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355327698592 rilasciata al pool.
2025-05-27 08:33:09,474 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 08:33:09,475 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 08:33:09,476 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 08:33:09,477 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 08:33:09,480 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 08:33:09,540 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355327698592 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:33:09,541 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 08:33:09,546 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 08:33:09,548 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355327698592 rilasciata al pool.
2025-05-27 08:33:09,809 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355327698592 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:33:09,811 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 08:33:09,814 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 08:33:09,815 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355327698592 rilasciata al pool.
2025-05-27 08:33:10,142 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355327698592 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:33:10,143 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 08:33:10,148 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 08:33:10,149 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355327698592 rilasciata al pool.
2025-05-27 08:33:10,154 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355327698592 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:33:10,155 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 08:33:10,158 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 08:33:10,160 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355327698592 rilasciata al pool.
2025-05-27 08:33:10,203 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355327698592 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:33:10,204 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 08:33:10,206 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 08:33:10,209 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355327698592 rilasciata al pool.
2025-05-27 08:33:10,292 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355327698592 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:33:10,294 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T08:33:10.290000'::timestamp AND timestamp <= '2025-05-27T08:33:10.290000'::timestamp;
2025-05-27 08:33:10,297 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 08:33:10,371 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 08:33:10,372 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 08:33:10,484 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 08:33:10,487 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 08:33:10,488 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 08:44:19,233 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 08:44:19,421 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 08:44:19,422 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 08:44:19,504 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 08:44:19,505 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2515968394912 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:44:19,506 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2515968394912 rilasciata al pool.
2025-05-27 08:44:19,506 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 08:44:25,959 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2515968394912 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:44:25,961 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 08:44:26,034 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 08:44:26,037 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2515968394912 rilasciata al pool.
2025-05-27 08:44:26,421 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 08:44:26,421 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2515968394912 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:44:26,467 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 6f8bb430...
2025-05-27 08:44:26,467 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2515968394912 rilasciata al pool.
2025-05-27 08:44:26,468 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2515968394912 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:44:26,471 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=6f8bb430...
2025-05-27 08:44:26,471 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2515968394912 rilasciata al pool.
2025-05-27 08:44:27,779 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 08:44:27,779 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 08:44:27,780 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 08:44:27,781 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 08:44:27,783 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 08:44:27,870 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2515968394912 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:44:27,872 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 08:44:27,886 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 08:44:27,887 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2515968394912 rilasciata al pool.
2025-05-27 08:44:28,136 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2515968394912 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:44:28,138 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 08:44:28,139 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 08:44:28,140 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2515968394912 rilasciata al pool.
2025-05-27 08:44:28,532 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2515968394912 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:44:28,533 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 08:44:28,543 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 08:44:28,545 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2515968394912 rilasciata al pool.
2025-05-27 08:44:28,551 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2515968394912 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:44:28,552 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 08:44:28,557 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 08:44:28,559 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2515968394912 rilasciata al pool.
2025-05-27 08:44:28,589 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2515968394912 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:44:28,589 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 08:44:28,592 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 08:44:28,593 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2515968394912 rilasciata al pool.
2025-05-27 08:44:28,646 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2515968394912 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:44:28,648 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T08:44:28.643000'::timestamp AND timestamp <= '2025-05-27T08:44:28.644000'::timestamp;
2025-05-27 08:44:28,661 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 08:44:28,733 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 08:44:28,734 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 08:44:28,869 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 08:44:28,870 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 08:44:28,870 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 08:44:55,458 - CatastoDB_catasto_storico_localhost_5432 - INFO - Chiusura temporanea del pool di connessioni per operazione di ripristino...
2025-05-27 08:44:55,459 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 08:44:55,485 - CatastoDB_catasto_storico_localhost_5432 - INFO - Trovato eseguibile 'pg_restore.exe' nel PATH: C:\Program Files\PostgreSQL\17\bin\pg_restore.exe
2025-05-27 08:44:55,486 - CatastoDB_catasto_storico_localhost_5432 - INFO - Comando di ripristino preparato: C:\Program Files\PostgreSQL\17\bin\pg_restore.exe -U postgres -h localhost -p 5432 -d catasto_storico --clean --if-exists --verbose C:/Users/saint/catasto/gemini/catasto_storico_backup_20250526_193111.dump
2025-05-27 08:44:57,755 - CatastoDB_catasto_storico_localhost_5432 - INFO - Tentativo di ricreare il pool di connessioni dopo operazione di ripristino...
2025-05-27 08:44:57,850 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 08:44:57,851 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2515968396544 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:44:57,852 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2515968396544 rilasciata al pool.
2025-05-27 08:44:57,852 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool ricreato e testato con successo.
2025-05-27 08:48:08,745 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2515968396544 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:48:08,783 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 08:48:08,784 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 6f8bb430...
2025-05-27 08:48:08,785 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2515968396544 rilasciata al pool.
2025-05-27 08:48:10,185 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 08:48:10,186 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 08:48:10,186 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2515968396544 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:48:10,188 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 08:48:10,189 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2515968396544 rilasciata al pool.
2025-05-27 08:48:10,202 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 08:48:10,203 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 08:48:10,204 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 08:48:10,204 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 08:48:10,221 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 08:49:48,871 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 08:49:48,960 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 08:49:48,961 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 08:49:49,028 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 08:49:49,030 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1194537797552 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:49:49,031 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1194537797552 rilasciata al pool.
2025-05-27 08:49:49,032 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 08:49:55,537 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1194537797552 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:49:55,538 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 08:49:55,552 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 08:49:55,553 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1194537797552 rilasciata al pool.
2025-05-27 08:49:55,897 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 08:49:55,897 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1194537797552 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:49:55,957 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione c7857757...
2025-05-27 08:49:55,958 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1194537797552 rilasciata al pool.
2025-05-27 08:49:55,959 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1194537797552 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:49:55,963 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=c7857757...
2025-05-27 08:49:55,964 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1194537797552 rilasciata al pool.
2025-05-27 08:49:57,759 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 08:49:57,760 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 08:49:57,760 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 08:49:57,761 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 08:49:57,762 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 08:49:57,824 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1194537797552 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:49:57,825 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 08:49:57,829 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 08:49:57,831 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1194537797552 rilasciata al pool.
2025-05-27 08:49:58,087 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1194537797552 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:49:58,088 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 08:49:58,090 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 08:49:58,091 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1194537797552 rilasciata al pool.
2025-05-27 08:49:58,448 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1194537797552 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:49:58,450 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 08:49:58,452 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 08:49:58,453 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1194537797552 rilasciata al pool.
2025-05-27 08:49:58,455 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1194537797552 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:49:58,456 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 08:49:58,458 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 08:49:58,459 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1194537797552 rilasciata al pool.
2025-05-27 08:49:58,486 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1194537797552 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:49:58,486 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 08:49:58,488 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 08:49:58,489 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1194537797552 rilasciata al pool.
2025-05-27 08:49:58,515 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1194537797552 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:49:58,516 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T08:49:58.514000'::timestamp AND timestamp <= '2025-05-27T08:49:58.514000'::timestamp;
2025-05-27 08:49:58,519 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 08:49:58,598 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 08:49:58,600 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 08:49:58,729 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 08:49:58,730 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 08:49:58,731 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 08:50:21,350 - CatastoDB_catasto_storico_localhost_5432 - INFO - Chiusura temporanea del pool di connessioni per operazione di ripristino...
2025-05-27 08:50:21,351 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 08:50:21,373 - CatastoDB_catasto_storico_localhost_5432 - INFO - Trovato eseguibile 'pg_restore.exe' nel PATH: C:\Program Files\PostgreSQL\17\bin\pg_restore.exe
2025-05-27 08:50:21,374 - CatastoDB_catasto_storico_localhost_5432 - INFO - Comando di ripristino preparato: C:\Program Files\PostgreSQL\17\bin\pg_restore.exe -U postgres -h localhost -p 5432 -d catasto_storico --clean --if-exists --verbose C:/Users/saint/catasto/gemini/catasto_storico_backup_20250526_193111.dump
2025-05-27 08:50:22,748 - CatastoDB_catasto_storico_localhost_5432 - INFO - Tentativo di ricreare il pool di connessioni dopo operazione di ripristino...
2025-05-27 08:50:22,820 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 08:50:22,821 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1194535222752 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:50:22,822 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1194535222752 rilasciata al pool.
2025-05-27 08:50:22,823 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool ricreato e testato con successo.
2025-05-27 08:51:10,715 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1194535222752 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:51:10,716 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-20T08:49:58.500000'::timestamp AND timestamp <= '2025-05-27T08:49:58.502000'::timestamp;
2025-05-27 08:51:10,739 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 08:52:26,208 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1194537797280 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:52:26,216 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 08:52:26,217 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione c7857757...
2025-05-27 08:52:26,218 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1194537797280 rilasciata al pool.
2025-05-27 08:52:27,266 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 08:52:27,267 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 08:52:27,267 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1194537797280 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:52:27,270 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 08:52:27,271 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1194537797280 rilasciata al pool.
2025-05-27 08:52:27,296 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 08:52:27,296 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 08:52:27,297 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 08:52:27,298 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 08:52:27,315 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 08:54:51,508 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 08:54:51,602 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 08:54:51,603 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 08:54:51,677 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 08:54:51,678 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323123360 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:54:51,679 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323123360 rilasciata al pool.
2025-05-27 08:54:51,680 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 08:57:32,632 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323123360 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:57:32,633 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 08:57:32,646 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 08:57:32,648 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323123360 rilasciata al pool.
2025-05-27 08:57:33,110 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 08:57:33,110 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323123360 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:57:33,220 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 56fc7004...
2025-05-27 08:57:33,242 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323123360 rilasciata al pool.
2025-05-27 08:57:33,270 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323123360 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:57:33,284 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=56fc7004...
2025-05-27 08:57:33,285 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323123360 rilasciata al pool.
2025-05-27 08:57:34,913 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 08:57:34,914 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 08:57:34,915 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 08:57:34,916 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 08:57:34,917 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 08:57:34,986 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323123360 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:57:34,988 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 08:57:34,992 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 08:57:34,994 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323123360 rilasciata al pool.
2025-05-27 08:57:35,282 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323123360 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:57:35,284 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 08:57:35,287 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 08:57:35,289 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323123360 rilasciata al pool.
2025-05-27 08:57:35,813 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323123360 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:57:35,815 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 08:57:35,820 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 08:57:35,822 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323123360 rilasciata al pool.
2025-05-27 08:57:35,829 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323123360 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:57:35,830 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 08:57:35,833 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 08:57:35,834 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323123360 rilasciata al pool.
2025-05-27 08:57:35,907 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323123360 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:57:35,909 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 08:57:35,911 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 08:57:35,912 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323123360 rilasciata al pool.
2025-05-27 08:57:35,986 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323123360 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:57:35,987 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T08:57:35.984000'::timestamp AND timestamp <= '2025-05-27T08:57:35.984000'::timestamp;
2025-05-27 08:57:35,992 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 08:57:36,085 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 08:57:36,086 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 08:57:36,255 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 08:57:36,256 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 08:57:36,258 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 08:57:40,216 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323124992 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:57:40,217 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 08:57:40,224 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 08:57:40,226 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323124992 rilasciata al pool.
2025-05-27 08:57:42,375 - CatastoDB - ERROR - Errore Python in search_partite: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-27 08:57:44,695 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323124992 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:57:44,704 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 08:57:44,706 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 08:57:44,708 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323124992 rilasciata al pool.
2025-05-27 08:57:46,672 - CatastoDB - ERROR - Errore Python in search_partite: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-27 08:58:01,344 - CatastoDB - ERROR - Errore Python imprevisto durante la ricerca avanzata dei possessori: 'CatastoDBManager' object has no attribute 'conn'
2025-05-27 08:58:05,495 - CatastoDB - ERROR - Errore Python get_partita_data_for_export (ID: 1): 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-27 08:58:16,314 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323124992 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:58:16,316 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 08:58:16,318 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 08:58:16,320 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323124992 rilasciata al pool.
2025-05-27 08:58:18,768 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323124992 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:58:18,769 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Chiamata a catasto.ricerca_avanzata_immobili con parametri POSIZIONALI: (2, None, None, None, None, None, None, None, None, None, None, None)
2025-05-27 08:58:18,922 - CatastoDB_catasto_storico_localhost_5432 - INFO - Ricerca avanzata immobili ha restituito 1501 risultati.
2025-05-27 08:58:25,600 - CatastoDB - ERROR - Errore Python imprevisto durante la ricerca avanzata dei possessori: 'CatastoDBManager' object has no attribute 'conn'
2025-05-27 08:58:30,131 - CatastoDB - ERROR - Errore Python imprevisto durante la ricerca avanzata dei possessori: 'CatastoDBManager' object has no attribute 'conn'
2025-05-27 08:58:34,130 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323125264 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:58:34,131 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 08:58:34,143 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 08:58:34,177 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323125264 rilasciata al pool.
2025-05-27 08:58:36,680 - CatastoDB - ERROR - Errore Python in search_partite: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-27 08:59:10,272 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323125264 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:59:10,325 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 08:59:10,329 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 56fc7004...
2025-05-27 08:59:10,329 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323125264 rilasciata al pool.
2025-05-27 08:59:11,409 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 08:59:11,410 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 08:59:11,411 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323125264 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 08:59:11,414 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 08:59:11,414 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2619323125264 rilasciata al pool.
2025-05-27 08:59:11,440 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 08:59:11,441 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 08:59:11,442 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 08:59:11,443 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 08:59:11,463 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 09:01:15,357 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 09:01:15,438 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 09:01:15,439 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 09:01:15,515 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 09:01:15,516 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2329518147232 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:01:15,517 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2329518147232 rilasciata al pool.
2025-05-27 09:01:15,518 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 09:01:26,621 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2329518147232 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:01:26,622 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 09:01:26,635 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 09:01:26,637 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2329518147232 rilasciata al pool.
2025-05-27 09:01:26,991 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 09:01:26,992 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2329518147232 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:01:27,045 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione b9e7188e...
2025-05-27 09:01:27,046 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2329518147232 rilasciata al pool.
2025-05-27 09:01:27,046 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2329518147232 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:01:27,048 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=b9e7188e...
2025-05-27 09:01:27,049 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2329518147232 rilasciata al pool.
2025-05-27 09:01:37,460 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 09:01:37,461 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 09:01:37,462 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 09:01:37,463 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 09:01:37,465 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 09:01:37,496 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2329518147232 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:01:37,497 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 09:01:37,501 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 09:01:37,502 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2329518147232 rilasciata al pool.
2025-05-27 09:01:37,737 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2329518147232 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:01:37,738 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 09:01:37,740 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 09:01:37,742 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2329518147232 rilasciata al pool.
2025-05-27 09:01:38,113 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2329518147232 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:01:38,115 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 09:01:38,118 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 09:01:38,119 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2329518147232 rilasciata al pool.
2025-05-27 09:01:38,122 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2329518147232 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:01:38,123 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 09:01:38,126 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 09:01:38,127 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2329518147232 rilasciata al pool.
2025-05-27 09:01:38,163 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2329518147232 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:01:38,165 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 09:01:38,167 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 09:01:38,169 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2329518147232 rilasciata al pool.
2025-05-27 09:01:38,231 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2329518147232 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:01:38,233 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T09:01:38.229000'::timestamp AND timestamp <= '2025-05-27T09:01:38.229000'::timestamp;
2025-05-27 09:01:38,237 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 09:01:38,303 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 09:01:38,304 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 09:01:38,457 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 09:01:38,458 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 09:01:38,458 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 09:04:36,372 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2329518148864 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:04:36,399 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 09:04:36,404 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione b9e7188e...
2025-05-27 09:04:36,406 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2329518148864 rilasciata al pool.
2025-05-27 09:04:37,478 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 09:04:37,480 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 09:04:37,481 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2329518148864 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:04:37,484 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 09:04:37,485 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2329518148864 rilasciata al pool.
2025-05-27 09:04:37,527 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 09:04:37,528 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 09:04:37,529 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 09:04:37,530 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 09:04:37,552 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 09:04:43,407 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 09:04:43,493 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 09:04:43,493 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 09:04:43,578 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 09:04:43,579 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2395420952224 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:04:43,579 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2395420952224 rilasciata al pool.
2025-05-27 09:04:43,580 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 09:04:48,182 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2395420952224 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:04:48,183 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 09:04:48,200 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 09:04:48,202 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2395420952224 rilasciata al pool.
2025-05-27 09:04:48,578 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 09:04:48,578 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2395420952224 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:04:48,595 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione bb1b7077...
2025-05-27 09:04:48,595 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2395420952224 rilasciata al pool.
2025-05-27 09:04:48,596 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2395420952224 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:04:48,597 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=bb1b7077...
2025-05-27 09:04:48,597 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2395420952224 rilasciata al pool.
2025-05-27 09:04:50,035 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 09:04:50,036 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 09:04:50,036 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 09:04:50,037 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 09:04:50,039 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 09:04:50,097 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2395420952224 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:04:50,098 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 09:04:50,101 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 09:04:50,102 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2395420952224 rilasciata al pool.
2025-05-27 09:04:50,360 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2395420952224 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:04:50,363 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 09:04:50,365 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 09:04:50,366 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2395420952224 rilasciata al pool.
2025-05-27 09:04:50,719 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2395420952224 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:04:50,721 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 09:04:50,725 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 09:04:50,727 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2395420952224 rilasciata al pool.
2025-05-27 09:04:50,734 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2395420952224 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:04:50,735 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 09:04:50,740 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 09:04:50,742 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2395420952224 rilasciata al pool.
2025-05-27 09:04:50,812 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2395420952224 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:04:50,814 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 09:04:50,816 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 09:04:50,817 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2395420952224 rilasciata al pool.
2025-05-27 09:04:50,892 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2395420952224 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:04:50,893 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T09:04:50.890000'::timestamp AND timestamp <= '2025-05-27T09:04:50.890000'::timestamp;
2025-05-27 09:04:50,899 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 09:04:50,975 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 09:04:50,976 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 09:04:51,103 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 09:04:51,103 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 09:04:51,104 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 09:05:00,850 - CatastoDB - ERROR - Errore Python imprevisto durante la ricerca avanzata dei possessori: 'CatastoDBManager' object has no attribute 'conn'
2025-05-27 09:05:04,209 - CatastoDB - ERROR - Errore Python imprevisto durante la ricerca avanzata dei possessori: 'CatastoDBManager' object has no attribute 'conn'
2025-05-27 09:05:28,471 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2395420953856 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:05:28,480 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 09:05:28,484 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione bb1b7077...
2025-05-27 09:05:28,485 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2395420953856 rilasciata al pool.
2025-05-27 09:05:29,479 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 09:05:29,480 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 09:05:29,481 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2395420953856 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:05:29,483 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 09:05:29,484 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2395420953856 rilasciata al pool.
2025-05-27 09:05:29,514 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 09:05:29,514 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 09:05:29,516 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 09:05:29,517 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 09:05:29,541 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 09:05:35,502 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 09:05:35,594 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 09:05:35,595 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 09:05:35,664 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 09:05:35,665 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2602678159008 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:05:35,666 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2602678159008 rilasciata al pool.
2025-05-27 09:05:35,666 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 09:05:40,846 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2602678159008 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:05:40,847 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 09:05:40,863 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 09:05:40,892 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2602678159008 rilasciata al pool.
2025-05-27 09:05:41,208 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 09:05:41,208 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2602678159008 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:05:41,227 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione f5a64fa2...
2025-05-27 09:05:41,228 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2602678159008 rilasciata al pool.
2025-05-27 09:05:41,229 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2602678159008 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:05:41,231 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=f5a64fa2...
2025-05-27 09:05:41,231 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2602678159008 rilasciata al pool.
2025-05-27 09:05:42,311 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 09:05:42,312 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 09:05:42,313 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 09:05:42,314 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 09:05:42,315 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 09:05:42,372 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2602678159008 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:05:42,374 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 09:05:42,378 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 09:05:42,379 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2602678159008 rilasciata al pool.
2025-05-27 09:05:42,666 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2602678159008 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:05:42,667 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 09:05:42,670 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 09:05:42,671 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2602678159008 rilasciata al pool.
2025-05-27 09:05:43,000 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2602678159008 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:05:43,002 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 09:05:43,006 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 09:05:43,007 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2602678159008 rilasciata al pool.
2025-05-27 09:05:43,010 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2602678159008 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:05:43,010 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 09:05:43,012 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 09:05:43,012 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2602678159008 rilasciata al pool.
2025-05-27 09:05:43,070 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2602678159008 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:05:43,071 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 09:05:43,073 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 09:05:43,075 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2602678159008 rilasciata al pool.
2025-05-27 09:05:43,151 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2602678159008 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:05:43,152 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T09:05:43.149000'::timestamp AND timestamp <= '2025-05-27T09:05:43.149000'::timestamp;
2025-05-27 09:05:43,156 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 09:05:43,235 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 09:05:43,237 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 09:05:43,364 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 09:05:43,365 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 09:05:43,365 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 09:06:28,419 - CatastoDB - ERROR - Errore Python get_partita_data_for_export (ID: 1): 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-27 09:06:39,798 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2602678160640 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:06:39,799 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 09:06:39,806 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 09:06:39,807 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2602678160640 rilasciata al pool.
2025-05-27 09:06:42,241 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2602678160640 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:06:42,242 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 09:06:42,245 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 09:06:42,246 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2602678160640 rilasciata al pool.
2025-05-27 09:06:50,066 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2602678160640 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:06:50,068 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Chiamata a catasto.ricerca_avanzata_immobili con parametri POSIZIONALI: (None, None, None, None, None, None, None, None, None, None, None, None)
2025-05-27 09:06:50,475 - CatastoDB_catasto_storico_localhost_5432 - INFO - Ricerca avanzata immobili ha restituito 7501 risultati.
2025-05-27 09:07:01,340 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2602678160912 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:07:01,340 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_partite_by_comune per comune_id 8
2025-05-27 09:07:01,365 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 0 partite per comune ID 8.
2025-05-27 09:07:01,366 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2602678160912 rilasciata al pool.
2025-05-27 09:07:01,367 - CatastoGUI - INFO - Nessuna partita trovata per il comune ID: 8
2025-05-27 09:07:08,438 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2602678160912 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:07:08,445 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 09:07:08,449 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione f5a64fa2...
2025-05-27 09:07:08,451 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2602678160912 rilasciata al pool.
2025-05-27 09:07:09,484 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 09:07:09,485 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 09:07:09,486 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2602678160912 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:07:09,488 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 09:07:09,490 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2602678160912 rilasciata al pool.
2025-05-27 09:07:09,511 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 09:07:09,512 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 09:07:09,512 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 09:07:09,513 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 09:07:09,529 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 09:09:37,923 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 09:09:38,018 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 09:09:38,018 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 09:09:38,109 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 09:09:38,110 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171528864 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:09:38,111 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171528864 rilasciata al pool.
2025-05-27 09:09:38,111 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 09:09:44,836 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171528864 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:09:44,838 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 09:09:44,855 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 09:09:44,857 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171528864 rilasciata al pool.
2025-05-27 09:09:45,173 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 09:09:45,174 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171528864 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:09:45,198 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione b86cc239...
2025-05-27 09:09:45,199 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171528864 rilasciata al pool.
2025-05-27 09:09:45,199 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171528864 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:09:45,201 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=b86cc239...
2025-05-27 09:09:45,202 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171528864 rilasciata al pool.
2025-05-27 09:09:46,682 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 09:09:46,683 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 09:09:46,683 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 09:09:46,684 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 09:09:46,685 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 09:09:46,733 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171528864 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:09:46,734 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 09:09:46,737 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 09:09:46,738 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171528864 rilasciata al pool.
2025-05-27 09:09:46,996 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171528864 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:09:46,997 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 09:09:47,000 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 09:09:47,002 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171528864 rilasciata al pool.
2025-05-27 09:09:47,291 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171528864 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:09:47,293 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 09:09:47,295 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 09:09:47,296 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171528864 rilasciata al pool.
2025-05-27 09:09:47,299 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171528864 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:09:47,299 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 09:09:47,301 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 09:09:47,302 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171528864 rilasciata al pool.
2025-05-27 09:09:47,356 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171528864 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:09:47,358 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 09:09:47,360 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 09:09:47,362 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171528864 rilasciata al pool.
2025-05-27 09:09:47,419 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171528864 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:09:47,420 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T09:09:47.418000'::timestamp AND timestamp <= '2025-05-27T09:09:47.418000'::timestamp;
2025-05-27 09:09:47,423 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 09:09:47,502 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 09:09:47,503 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 09:09:47,637 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 09:09:47,639 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 09:09:47,639 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 09:09:50,444 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171530496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:09:50,445 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_partite_by_comune per comune_id 10
2025-05-27 09:09:50,460 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 0 partite per comune ID 10.
2025-05-27 09:09:50,461 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171530496 rilasciata al pool.
2025-05-27 09:09:50,462 - CatastoGUI - INFO - Nessuna partita trovata per il comune ID: 10
2025-05-27 09:09:55,570 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171530496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:09:55,571 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_possessori_by_comune per comune_id 10
2025-05-27 09:09:55,612 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 0 possessori per comune ID 10.
2025-05-27 09:09:55,614 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171530496 rilasciata al pool.
2025-05-27 09:09:55,616 - CatastoGUI - INFO - Nessun possessore trovato per il comune ID: 10
2025-05-27 09:09:58,782 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171530496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:09:58,783 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_partite_by_comune per comune_id 2
2025-05-27 09:09:58,848 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 557 partite per comune ID 2.
2025-05-27 09:09:58,850 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171530496 rilasciata al pool.
2025-05-27 09:10:01,691 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171530496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:10:01,707 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 565.
2025-05-27 09:10:01,708 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171530496 rilasciata al pool.
2025-05-27 09:10:01,714 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 565
2025-05-27 09:10:01,714 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 565
2025-05-27 09:10:01,715 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171530496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:10:01,716 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 565: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 565
            ORDER BY
                pos.nome_completo;
        
2025-05-27 09:10:01,719 - CatastoDB_catasto_storico_localhost_5432 - INFO - Trovati 1 possessori per la partita ID 565.
2025-05-27 09:10:01,719 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171530496 rilasciata al pool.
2025-05-27 09:10:01,721 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 565, 'possessore_id': 102, 'nome_completo_possessore': 'Possessore 2-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}]
2025-05-27 09:10:01,722 - CatastoGUI - INFO - DEBUG: Tabella impostata a 1 righe.
2025-05-27 09:10:01,722 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 565, 'possessore_id': 102, 'nome_completo_possessore': 'Possessore 2-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-27 09:10:01,724 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-27 09:10:06,558 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171530496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:10:06,560 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_partite_by_comune per comune_id 2
2025-05-27 09:10:06,588 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 557 partite per comune ID 2.
2025-05-27 09:10:06,589 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171530496 rilasciata al pool.
2025-05-27 09:10:14,154 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171530496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:10:14,158 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 561.
2025-05-27 09:10:14,159 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171530496 rilasciata al pool.
2025-05-27 09:10:14,162 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 561
2025-05-27 09:10:14,162 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 561
2025-05-27 09:10:14,163 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171530496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:10:14,163 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 561: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 561
            ORDER BY
                pos.nome_completo;
        
2025-05-27 09:10:14,165 - CatastoDB_catasto_storico_localhost_5432 - INFO - Trovati 1 possessori per la partita ID 561.
2025-05-27 09:10:14,166 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171530496 rilasciata al pool.
2025-05-27 09:10:14,167 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 561, 'possessore_id': 102, 'nome_completo_possessore': 'Possessore 2-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': '1/2', 'tipo_partita_rel': 'principale'}]
2025-05-27 09:10:14,167 - CatastoGUI - INFO - DEBUG: Tabella impostata a 1 righe.
2025-05-27 09:10:14,167 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 561, 'possessore_id': 102, 'nome_completo_possessore': 'Possessore 2-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': '1/2', 'tipo_partita_rel': 'principale'}
2025-05-27 09:10:14,169 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-27 09:10:16,452 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171530496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:10:16,453 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_partite_by_comune per comune_id 2
2025-05-27 09:10:16,466 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 557 partite per comune ID 2.
2025-05-27 09:10:16,468 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171530496 rilasciata al pool.
2025-05-27 09:10:23,620 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171530496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:10:23,625 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 567.
2025-05-27 09:10:23,626 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171530496 rilasciata al pool.
2025-05-27 09:10:23,628 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 567
2025-05-27 09:10:23,629 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 567
2025-05-27 09:10:23,629 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171530496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:10:23,630 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 567: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 567
            ORDER BY
                pos.nome_completo;
        
2025-05-27 09:10:23,631 - CatastoDB_catasto_storico_localhost_5432 - INFO - Trovati 1 possessori per la partita ID 567.
2025-05-27 09:10:23,632 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171530496 rilasciata al pool.
2025-05-27 09:10:23,633 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 567, 'possessore_id': 103, 'nome_completo_possessore': 'Possessore 2-3 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}]
2025-05-27 09:10:23,634 - CatastoGUI - INFO - DEBUG: Tabella impostata a 1 righe.
2025-05-27 09:10:23,634 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 567, 'possessore_id': 103, 'nome_completo_possessore': 'Possessore 2-3 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-27 09:10:23,635 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-27 09:10:29,053 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171530496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:10:29,055 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_partite_by_comune per comune_id 2
2025-05-27 09:10:29,074 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 557 partite per comune ID 2.
2025-05-27 09:10:29,075 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171530496 rilasciata al pool.
2025-05-27 09:28:49,816 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171530496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:28:49,859 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 09:28:49,862 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione b86cc239...
2025-05-27 09:28:49,863 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171530496 rilasciata al pool.
2025-05-27 09:28:51,099 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 09:28:51,102 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 09:28:51,103 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171530496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:28:51,105 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 09:28:51,107 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2386171530496 rilasciata al pool.
2025-05-27 09:28:51,211 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 09:28:51,214 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 09:28:51,215 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 09:28:51,215 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 09:28:51,234 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 09:28:59,925 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 09:29:00,030 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 09:29:00,031 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 09:29:00,104 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 09:29:00,105 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1209636439712 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:29:00,106 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1209636439712 rilasciata al pool.
2025-05-27 09:29:00,106 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 09:29:06,341 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1209636439712 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:29:06,343 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 09:29:06,359 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 09:29:06,361 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1209636439712 rilasciata al pool.
2025-05-27 09:29:06,743 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 09:29:06,744 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1209636439712 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:29:06,806 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione b1b188dd...
2025-05-27 09:29:06,807 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1209636439712 rilasciata al pool.
2025-05-27 09:29:06,808 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1209636439712 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:29:06,810 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=b1b188dd...
2025-05-27 09:29:06,811 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1209636439712 rilasciata al pool.
2025-05-27 09:29:07,617 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 09:29:07,617 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 09:29:07,618 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 09:29:07,619 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 09:29:07,620 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 09:29:07,689 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1209636439712 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:29:07,690 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 09:29:07,695 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 09:29:07,697 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1209636439712 rilasciata al pool.
2025-05-27 09:29:08,033 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1209636439712 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:29:08,034 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 09:29:08,037 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 09:29:08,039 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1209636439712 rilasciata al pool.
2025-05-27 09:29:08,432 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1209636439712 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:29:08,433 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 09:29:08,436 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 09:29:08,437 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1209636439712 rilasciata al pool.
2025-05-27 09:29:08,442 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1209636439712 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:29:08,444 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 09:29:08,446 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 09:29:08,447 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1209636439712 rilasciata al pool.
2025-05-27 09:29:08,499 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1209636439712 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:29:08,501 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 09:29:08,503 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 09:29:08,505 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1209636439712 rilasciata al pool.
2025-05-27 09:29:08,590 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1209636439712 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:29:08,593 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T09:29:08.588000'::timestamp AND timestamp <= '2025-05-27T09:29:08.588000'::timestamp;
2025-05-27 09:29:08,598 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 09:29:08,680 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 09:29:08,681 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 09:29:08,823 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 09:29:08,824 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 09:29:08,824 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 09:29:14,428 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1209636441344 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:29:14,428 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_partite_by_comune per comune_id 3
2025-05-27 09:29:14,456 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 548 partite per comune ID 3.
2025-05-27 09:29:14,458 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1209636441344 rilasciata al pool.
2025-05-27 09:34:40,356 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 09:34:40,449 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 09:34:40,450 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 09:34:40,523 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 09:34:40,524 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090812064 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:34:40,525 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090812064 rilasciata al pool.
2025-05-27 09:34:40,525 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 09:34:46,600 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090812064 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:34:46,602 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 09:34:46,615 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 09:34:46,616 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090812064 rilasciata al pool.
2025-05-27 09:34:46,967 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 09:34:46,967 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090812064 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:34:46,988 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 89e80fd4...
2025-05-27 09:34:46,989 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090812064 rilasciata al pool.
2025-05-27 09:34:46,990 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090812064 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:34:46,992 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=89e80fd4...
2025-05-27 09:34:46,993 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090812064 rilasciata al pool.
2025-05-27 09:34:47,877 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 09:34:47,878 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 09:34:47,879 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 09:34:47,880 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 09:34:47,881 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 09:34:47,983 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090812064 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:34:47,985 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 09:34:47,989 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 09:34:47,992 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090812064 rilasciata al pool.
2025-05-27 09:34:48,262 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090812064 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:34:48,263 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 09:34:48,265 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 09:34:48,266 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090812064 rilasciata al pool.
2025-05-27 09:34:48,663 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090812064 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:34:48,664 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 09:34:48,667 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 09:34:48,667 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090812064 rilasciata al pool.
2025-05-27 09:34:48,672 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090812064 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:34:48,672 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 09:34:48,677 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 09:34:48,678 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090812064 rilasciata al pool.
2025-05-27 09:34:48,718 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090812064 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:34:48,720 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 09:34:48,722 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 09:34:48,725 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090812064 rilasciata al pool.
2025-05-27 09:34:48,810 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090812064 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:34:48,812 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T09:34:48.809000'::timestamp AND timestamp <= '2025-05-27T09:34:48.809000'::timestamp;
2025-05-27 09:34:48,818 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 09:34:48,890 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 09:34:48,892 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 09:34:49,032 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 09:34:49,034 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 09:34:49,035 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 09:34:53,783 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090813696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:34:53,783 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_partite_by_comune per comune_id 3
2025-05-27 09:34:53,824 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 548 partite per comune ID 3.
2025-05-27 09:34:53,826 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090813696 rilasciata al pool.
2025-05-27 09:34:56,297 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090813696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:34:56,306 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 1120.
2025-05-27 09:34:56,308 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090813696 rilasciata al pool.
2025-05-27 09:34:56,312 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 1120
2025-05-27 09:34:56,312 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 1120
2025-05-27 09:34:56,313 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090813696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:34:56,314 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 1120: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 1120
            ORDER BY
                pos.nome_completo;
        
2025-05-27 09:34:56,316 - CatastoDB_catasto_storico_localhost_5432 - INFO - Trovati 3 possessori per la partita ID 1120.
2025-05-27 09:34:56,317 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090813696 rilasciata al pool.
2025-05-27 09:34:56,319 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 2771, 'possessore_id': 501, 'nome_completo_possessore': 'Pippi Pippo fu Pasquale', 'paternita_possessore': 'fu Pasquale', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}, {'id_relazione_partita_possessore': 2772, 'possessore_id': 210, 'nome_completo_possessore': 'Possessore 3-10 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}, {'id_relazione_partita_possessore': 1120, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}]
2025-05-27 09:34:56,321 - CatastoGUI - INFO - DEBUG: Tabella impostata a 3 righe.
2025-05-27 09:34:56,321 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 2771, 'possessore_id': 501, 'nome_completo_possessore': 'Pippi Pippo fu Pasquale', 'paternita_possessore': 'fu Pasquale', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-27 09:34:56,322 - CatastoGUI - INFO - DEBUG: Popolamento riga 1, dati: {'id_relazione_partita_possessore': 2772, 'possessore_id': 210, 'nome_completo_possessore': 'Possessore 3-10 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-27 09:34:56,322 - CatastoGUI - INFO - DEBUG: Popolamento riga 2, dati: {'id_relazione_partita_possessore': 1120, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-27 09:34:56,325 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-27 09:35:09,483 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090813696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:35:09,484 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query aggiorna_legame_partita_possessore ID 2771: 
            UPDATE catasto.partita_possessore
            SET titolo = 'propriet‡ esclusiva', quota = '1/2', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 2771;
        
2025-05-27 09:35:09,509 - CatastoDB_catasto_storico_localhost_5432 - INFO - Legame partita-possessore ID 2771 aggiornato. Righe modificate: 1
2025-05-27 09:35:09,509 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090813696 rilasciata al pool.
2025-05-27 09:35:09,510 - CatastoGUI - INFO - Legame ID 2771 aggiornato con successo.
2025-05-27 09:35:10,614 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 1120
2025-05-27 09:35:10,615 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 1120
2025-05-27 09:35:10,615 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090813696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:35:10,616 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 1120: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 1120
            ORDER BY
                pos.nome_completo;
        
2025-05-27 09:35:10,618 - CatastoDB_catasto_storico_localhost_5432 - INFO - Trovati 3 possessori per la partita ID 1120.
2025-05-27 09:35:10,619 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090813696 rilasciata al pool.
2025-05-27 09:35:10,620 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 2771, 'possessore_id': 501, 'nome_completo_possessore': 'Pippi Pippo fu Pasquale', 'paternita_possessore': 'fu Pasquale', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': '1/2', 'tipo_partita_rel': 'principale'}, {'id_relazione_partita_possessore': 2772, 'possessore_id': 210, 'nome_completo_possessore': 'Possessore 3-10 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}, {'id_relazione_partita_possessore': 1120, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}]
2025-05-27 09:35:10,620 - CatastoGUI - INFO - DEBUG: Tabella impostata a 3 righe.
2025-05-27 09:35:10,620 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 2771, 'possessore_id': 501, 'nome_completo_possessore': 'Pippi Pippo fu Pasquale', 'paternita_possessore': 'fu Pasquale', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': '1/2', 'tipo_partita_rel': 'principale'}
2025-05-27 09:35:10,621 - CatastoGUI - INFO - DEBUG: Popolamento riga 1, dati: {'id_relazione_partita_possessore': 2772, 'possessore_id': 210, 'nome_completo_possessore': 'Possessore 3-10 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-27 09:35:10,621 - CatastoGUI - INFO - DEBUG: Popolamento riga 2, dati: {'id_relazione_partita_possessore': 1120, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-27 09:35:10,622 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-27 09:35:11,959 - CatastoGUI - INFO - Tentativo di aggiornare i dati generali della partita ID 1120 con: {'numero_partita': 1009, 'tipo': 'principale', 'stato': 'attiva', 'data_impianto': datetime.date(1986, 5, 19), 'data_chiusura': datetime.date(2000, 1, 1), 'numero_provenienza': None}
2025-05-27 09:35:11,959 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090813696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:35:11,961 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query UPDATE partita ID 1120: 
            UPDATE catasto.partita
            SET numero_partita = 1009, tipo = 'principale', data_impianto = '1986-05-19'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1120;
        
2025-05-27 09:35:11,990 - CatastoDB_catasto_storico_localhost_5432 - INFO - Partita ID 1120 aggiornata con successo. Righe modificate: 1
2025-05-27 09:35:11,991 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090813696 rilasciata al pool.
2025-05-27 09:35:11,992 - CatastoGUI - INFO - Dati generali della Partita ID 1120 aggiornati con successo.
2025-05-27 09:35:13,507 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090813696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:35:13,511 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 1120.
2025-05-27 09:35:13,512 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090813696 rilasciata al pool.
2025-05-27 09:35:13,513 - CatastoGUI - INFO - Tentativo di aggiornare la partita ID 1120 con i dati: {'numero_partita': 1009, 'tipo': 'principale', 'stato': 'attiva', 'data_impianto': datetime.date(1986, 5, 19), 'data_chiusura': datetime.date(2000, 1, 1), 'numero_provenienza': None}
2025-05-27 09:35:13,514 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090813696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:35:13,514 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query UPDATE partita ID 1120: 
            UPDATE catasto.partita
            SET numero_partita = 1009, tipo = 'principale', data_impianto = '1986-05-19'::date, data_chiusura = '2000-01-01'::date, numero_provenienza = NULL, stato = 'attiva', data_modifica = CURRENT_TIMESTAMP
            WHERE id = 1120;
        
2025-05-27 09:35:13,554 - CatastoDB_catasto_storico_localhost_5432 - INFO - Partita ID 1120 aggiornata con successo. Righe modificate: 1
2025-05-27 09:35:13,554 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090813696 rilasciata al pool.
2025-05-27 09:35:13,555 - CatastoGUI - INFO - Partita ID 1120 aggiornata con successo nel database.
2025-05-27 09:35:13,569 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090813696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:35:13,570 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_partite_by_comune per comune_id 3
2025-05-27 09:35:13,586 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 548 partite per comune ID 3.
2025-05-27 09:35:13,587 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090813696 rilasciata al pool.
2025-05-27 09:35:19,525 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090813696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:35:19,529 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 1119.
2025-05-27 09:35:19,530 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090813696 rilasciata al pool.
2025-05-27 09:35:19,532 - CatastoGUI - INFO - DEBUG: Inizio _load_possessori_associati per partita ID: 1119
2025-05-27 09:35:19,532 - CatastoGUI - INFO - Caricamento possessori associati per partita ID: 1119
2025-05-27 09:35:19,532 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090813696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:35:19,533 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_possessori_per_partita per partita_id 1119: 
            SELECT
                pp.id AS id_relazione_partita_possessore,
                pos.id AS possessore_id,
                pos.nome_completo AS nome_completo_possessore,
                pos.paternita AS paternita_possessore, 
                pp.titolo AS titolo_possesso,
                pp.quota AS quota_possesso,
                pp.tipo_partita AS tipo_partita_rel 
            FROM
                catasto.partita_possessore pp
            JOIN
                catasto.possessore pos ON pp.possessore_id = pos.id
            WHERE
                pp.partita_id = 1119
            ORDER BY
                pos.nome_completo;
        
2025-05-27 09:35:19,535 - CatastoDB_catasto_storico_localhost_5432 - INFO - Trovati 4 possessori per la partita ID 1119.
2025-05-27 09:35:19,536 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090813696 rilasciata al pool.
2025-05-27 09:35:19,537 - CatastoGUI - INFO - DEBUG: Dati possessori ricevuti dal DB: [{'id_relazione_partita_possessore': 2775, 'possessore_id': 501, 'nome_completo_possessore': 'Pippi Pippo fu Pasquale', 'paternita_possessore': 'fu Pasquale', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}, {'id_relazione_partita_possessore': 2776, 'possessore_id': 300, 'nome_completo_possessore': 'Possessore 3-100 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}, {'id_relazione_partita_possessore': 2768, 'possessore_id': 211, 'nome_completo_possessore': 'Possessore 3-11 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}, {'id_relazione_partita_possessore': 1119, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}]
2025-05-27 09:35:19,576 - CatastoGUI - INFO - DEBUG: Tabella impostata a 4 righe.
2025-05-27 09:35:19,577 - CatastoGUI - INFO - DEBUG: Popolamento riga 0, dati: {'id_relazione_partita_possessore': 2775, 'possessore_id': 501, 'nome_completo_possessore': 'Pippi Pippo fu Pasquale', 'paternita_possessore': 'fu Pasquale', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-27 09:35:19,577 - CatastoGUI - INFO - DEBUG: Popolamento riga 1, dati: {'id_relazione_partita_possessore': 2776, 'possessore_id': 300, 'nome_completo_possessore': 'Possessore 3-100 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-27 09:35:19,578 - CatastoGUI - INFO - DEBUG: Popolamento riga 2, dati: {'id_relazione_partita_possessore': 2768, 'possessore_id': 211, 'nome_completo_possessore': 'Possessore 3-11 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet‡ esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-27 09:35:19,579 - CatastoGUI - INFO - DEBUG: Popolamento riga 3, dati: {'id_relazione_partita_possessore': 1119, 'possessore_id': 202, 'nome_completo_possessore': 'Possessore 3-2 Rossi', 'paternita_possessore': 'fu Stress Test', 'titolo_possesso': 'propriet√\xa0 esclusiva', 'quota_possesso': None, 'tipo_partita_rel': 'principale'}
2025-05-27 09:35:19,582 - CatastoGUI - INFO - DEBUG: Popolamento tabella completato.
2025-05-27 09:35:28,891 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090813696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:35:28,893 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_partite_by_comune per comune_id 3
2025-05-27 09:35:28,908 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 548 partite per comune ID 3.
2025-05-27 09:35:28,909 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090813696 rilasciata al pool.
2025-05-27 09:35:37,056 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090813696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:35:37,061 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 09:35:37,063 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 89e80fd4...
2025-05-27 09:35:37,063 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090813696 rilasciata al pool.
2025-05-27 09:35:38,034 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 09:35:38,034 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 09:35:38,035 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090813696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:35:38,036 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 09:35:38,037 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2268090813696 rilasciata al pool.
2025-05-27 09:35:38,071 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 09:35:38,073 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 09:35:38,075 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 09:35:38,075 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 09:35:38,096 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 09:36:28,227 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 09:36:28,373 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 09:36:28,374 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 09:36:28,442 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 09:36:28,443 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252109472 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:36:28,444 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252109472 rilasciata al pool.
2025-05-27 09:36:28,444 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 09:36:34,112 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252109472 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:36:34,113 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 09:36:34,128 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 09:36:34,130 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252109472 rilasciata al pool.
2025-05-27 09:36:34,472 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 09:36:34,473 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252109472 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:36:34,530 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 89f5a46b...
2025-05-27 09:36:34,531 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252109472 rilasciata al pool.
2025-05-27 09:36:34,532 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252109472 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:36:34,535 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=89f5a46b...
2025-05-27 09:36:34,537 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252109472 rilasciata al pool.
2025-05-27 09:36:35,975 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 09:36:35,975 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 09:36:35,975 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 09:36:35,976 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 09:36:35,976 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 09:36:36,037 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252109472 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:36:36,039 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 09:36:36,045 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 09:36:36,046 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252109472 rilasciata al pool.
2025-05-27 09:36:36,350 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252109472 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:36:36,352 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 09:36:36,355 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 09:36:36,357 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252109472 rilasciata al pool.
2025-05-27 09:36:36,708 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252109472 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:36:36,709 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 09:36:36,711 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 09:36:36,712 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252109472 rilasciata al pool.
2025-05-27 09:36:36,718 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252109472 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:36:36,719 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 09:36:36,722 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 09:36:36,723 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252109472 rilasciata al pool.
2025-05-27 09:36:36,773 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252109472 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:36:36,775 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 09:36:36,777 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 09:36:36,778 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252109472 rilasciata al pool.
2025-05-27 09:36:36,865 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252109472 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:36:36,866 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T09:36:36.863000'::timestamp AND timestamp <= '2025-05-27T09:36:36.863000'::timestamp;
2025-05-27 09:36:36,870 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 09:36:36,951 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 09:36:36,952 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 09:36:37,103 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 09:36:37,106 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 09:36:37,107 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 09:36:42,983 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252111104 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:36:42,984 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 09:36:42,990 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 09:36:42,991 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252111104 rilasciata al pool.
2025-05-27 09:36:45,931 - CatastoDB - ERROR - Errore Python in search_partite: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-27 09:37:36,742 - CatastoDB - ERROR - Errore Python imprevisto durante la ricerca avanzata dei possessori: 'CatastoDBManager' object has no attribute 'conn'
2025-05-27 09:37:40,261 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252111104 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:37:40,262 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 09:37:40,264 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 09:37:40,265 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252111104 rilasciata al pool.
2025-05-27 09:37:42,548 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252111104 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:37:42,552 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Chiamata a catasto.ricerca_avanzata_immobili con parametri POSIZIONALI: (2, None, None, None, None, None, None, None, None, None, None, None)
2025-05-27 09:37:42,613 - CatastoDB_catasto_storico_localhost_5432 - INFO - Ricerca avanzata immobili ha restituito 1501 risultati.
2025-05-27 09:37:53,245 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252111376 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:37:53,246 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Chiamata a catasto.ricerca_avanzata_immobili con parametri POSIZIONALI: (2, None, None, None, None, 1, None, None, None, None, None, None)
2025-05-27 09:37:53,264 - CatastoDB_catasto_storico_localhost_5432 - INFO - Ricerca avanzata immobili ha restituito 0 risultati.
2025-05-27 09:37:58,751 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252111648 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:37:58,752 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Chiamata a catasto.ricerca_avanzata_immobili con parametri POSIZIONALI: (2, None, None, None, None, None, None, None, None, None, None, None)
2025-05-27 09:37:58,857 - CatastoDB_catasto_storico_localhost_5432 - INFO - Ricerca avanzata immobili ha restituito 1501 risultati.
2025-05-27 09:38:09,788 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252111920 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:38:09,789 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 2: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 2 ORDER BY tipo, nome, civico;
2025-05-27 09:38:09,800 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 2 (filtro: 'None').
2025-05-27 09:38:09,802 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252111920 rilasciata al pool.
2025-05-27 09:38:12,803 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252111920 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:38:12,805 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_localita_details per localita_id 32: 
            SELECT
                loc.id,
                loc.nome,
                loc.tipo,
                loc.civico,
                loc.comune_id,
                com.nome AS comune_nome
            FROM
                catasto.localita loc
            JOIN
                catasto.comune com ON loc.comune_id = com.id
            WHERE
                loc.id = 32;
        
2025-05-27 09:38:12,812 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli recuperati per la localit‡ ID 32: Via Stress 2-12
2025-05-27 09:38:12,818 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252111920 rilasciata al pool.
2025-05-27 09:38:17,408 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252111920 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:38:17,410 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 2: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 2 ORDER BY tipo, nome, civico;
2025-05-27 09:38:17,412 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 2 (filtro: 'None').
2025-05-27 09:38:17,413 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252111920 rilasciata al pool.
2025-05-27 09:38:24,531 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252111920 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:38:24,531 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 2: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 2 ORDER BY tipo, nome, civico;
2025-05-27 09:38:24,533 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 2 (filtro: 'None').
2025-05-27 09:38:24,535 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252111920 rilasciata al pool.
2025-05-27 09:38:29,380 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252111920 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:38:29,381 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_localita_details per localita_id 32: 
            SELECT
                loc.id,
                loc.nome,
                loc.tipo,
                loc.civico,
                loc.comune_id,
                com.nome AS comune_nome
            FROM
                catasto.localita loc
            JOIN
                catasto.comune com ON loc.comune_id = com.id
            WHERE
                loc.id = 32;
        
2025-05-27 09:38:29,384 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli recuperati per la localit‡ ID 32: Via Stress 2-12
2025-05-27 09:38:29,385 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252111920 rilasciata al pool.
2025-05-27 09:38:30,991 - CatastoGUI - INFO - Tentativo di aggiornare localit‡ ID 32 con: {'nome': 'Via Stress 2-12', 'tipo': 'via', 'civico': 79}
2025-05-27 09:38:30,991 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252111920 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:38:30,992 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query UPDATE localit‡ ID 32: 
            UPDATE catasto.localita
            SET nome = 'Via Stress 2-12', tipo = 'via', civico = 79, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 32;
        
2025-05-27 09:38:31,021 - CatastoDB_catasto_storico_localhost_5432 - INFO - Localit‡ ID 32 aggiornata con successo.
2025-05-27 09:38:31,022 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252111920 rilasciata al pool.
2025-05-27 09:38:31,023 - CatastoGUI - INFO - Localit‡ ID 32 aggiornata con successo.
2025-05-27 09:38:32,659 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252111920 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:38:32,660 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 2: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 2 ORDER BY tipo, nome, civico;
2025-05-27 09:38:32,662 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 2 (filtro: 'None').
2025-05-27 09:38:32,663 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252111920 rilasciata al pool.
2025-05-27 09:38:56,523 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1610252111920 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:38:56,524 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Chiamata a catasto.ricerca_avanzata_immobili con parametri POSIZIONALI: (2, None, 'Edificio Stress 3', None, None, None, None, None, None, None, None, None)
2025-05-27 09:38:56,638 - CatastoDB_catasto_storico_localhost_5432 - INFO - Ricerca avanzata immobili ha restituito 500 risultati.
2025-05-27 09:41:31,426 - CatastoDB_catasto_storico_localhost_5432 - ERROR - Errore critico nell'ottenere una connessione dal pool: connection pool exhausted
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 150, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\saint\AppData\Local\Programs\Python\Python313\Lib\site-packages\psycopg2\pool.py", line 169, in getconn
    return self._getconn(key)
           ~~~~~~~~~~~~~^^^^^
  File "C:\Users\saint\AppData\Local\Programs\Python\Python313\Lib\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-27 09:41:31,499 - CatastoDB_catasto_storico_localhost_5432 - ERROR - Errore DB durante il logout dell'utente 1: Impossibile ottenere una connessione valida dal pool: connection pool exhausted
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 150, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\saint\AppData\Local\Programs\Python\Python313\Lib\site-packages\psycopg2\pool.py", line 169, in getconn
    return self._getconn(key)
           ~~~~~~~~~~~~~^^^^^
  File "C:\Users\saint\AppData\Local\Programs\Python\Python313\Lib\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 2357, in logout_user
    conn = self._get_connection()
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 155, in _get_connection
    raise psycopg2.OperationalError(f"Impossibile ottenere una connessione valida dal pool: {e}")
psycopg2.OperationalError: Impossibile ottenere una connessione valida dal pool: connection pool exhausted
2025-05-27 09:41:32,741 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 09:41:32,743 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 09:41:32,744 - CatastoDB_catasto_storico_localhost_5432 - ERROR - Errore critico nell'ottenere una connessione dal pool: connection pool exhausted
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 150, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\saint\AppData\Local\Programs\Python\Python313\Lib\site-packages\psycopg2\pool.py", line 169, in getconn
    return self._getconn(key)
           ~~~~~~~~~~~~~^^^^^
  File "C:\Users\saint\AppData\Local\Programs\Python\Python313\Lib\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted
2025-05-27 09:41:32,752 - CatastoDB_catasto_storico_localhost_5432 - ERROR - Errore DB impostando var sessione applicative: Impossibile ottenere una connessione valida dal pool: connection pool exhausted
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 150, in _get_connection
    conn = self.pool.getconn()
  File "C:\Users\saint\AppData\Local\Programs\Python\Python313\Lib\site-packages\psycopg2\pool.py", line 169, in getconn
    return self._getconn(key)
           ~~~~~~~~~~~~~^^^^^
  File "C:\Users\saint\AppData\Local\Programs\Python\Python313\Lib\site-packages\psycopg2\pool.py", line 92, in _getconn
    raise PoolError("connection pool exhausted")
psycopg2.pool.PoolError: connection pool exhausted

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 2150, in set_session_app_user
    conn = self._get_connection()
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 155, in _get_connection
    raise psycopg2.OperationalError(f"Impossibile ottenere una connessione valida dal pool: {e}")
psycopg2.OperationalError: Impossibile ottenere una connessione valida dal pool: connection pool exhausted
2025-05-27 09:41:32,788 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 09:41:32,790 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 09:41:32,792 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 09:41:32,793 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 09:41:32,807 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 09:41:47,247 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 09:41:47,338 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 09:41:47,339 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 09:41:47,416 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 09:41:47,417 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2549764753328 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:41:47,418 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2549764753328 rilasciata al pool.
2025-05-27 09:41:47,419 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 09:41:56,077 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2549764753328 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:41:56,078 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 09:41:56,095 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 09:41:56,097 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2549764753328 rilasciata al pool.
2025-05-27 09:41:56,512 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 09:41:56,513 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2549764753328 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:41:56,567 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 5537b0a6...
2025-05-27 09:41:56,567 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2549764753328 rilasciata al pool.
2025-05-27 09:41:56,568 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2549764753328 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:41:56,569 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=5537b0a6...
2025-05-27 09:41:56,569 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2549764753328 rilasciata al pool.
2025-05-27 09:41:58,368 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 09:41:58,368 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 09:41:58,369 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 09:41:58,369 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 09:41:58,370 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 09:41:58,406 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2549764753328 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:41:58,407 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 09:41:58,411 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 09:41:58,412 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2549764753328 rilasciata al pool.
2025-05-27 09:41:58,706 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2549764753328 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:41:58,707 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 09:41:58,709 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 09:41:58,710 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2549764753328 rilasciata al pool.
2025-05-27 09:41:59,034 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2549764753328 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:41:59,036 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 09:41:59,041 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 09:41:59,042 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2549764753328 rilasciata al pool.
2025-05-27 09:41:59,048 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2549764753328 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:41:59,049 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 09:41:59,052 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 09:41:59,053 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2549764753328 rilasciata al pool.
2025-05-27 09:41:59,131 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2549764753328 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:41:59,132 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 09:41:59,134 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 09:41:59,136 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2549764753328 rilasciata al pool.
2025-05-27 09:41:59,210 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2549764753328 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:41:59,212 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T09:41:59.209000'::timestamp AND timestamp <= '2025-05-27T09:41:59.209000'::timestamp;
2025-05-27 09:41:59,215 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 09:41:59,292 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 09:41:59,293 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 09:41:59,429 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 09:41:59,430 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 09:41:59,430 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 09:42:03,591 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2549764754960 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:42:03,591 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 09:42:03,600 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 09:42:03,636 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2549764754960 rilasciata al pool.
2025-05-27 09:42:06,016 - CatastoDB - ERROR - Errore Python in search_partite: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-27 09:42:06,016 - CatastoGUI - INFO - RicercaPartiteWidget.do_search - Nessuna partita trovata o la lista risultati Ë vuota.
2025-05-27 09:42:16,472 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2549764754960 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:42:16,526 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 09:42:16,530 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 5537b0a6...
2025-05-27 09:42:16,531 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2549764754960 rilasciata al pool.
2025-05-27 09:42:17,859 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 09:42:17,860 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 09:42:17,860 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2549764754960 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:42:17,862 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 09:42:17,863 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2549764754960 rilasciata al pool.
2025-05-27 09:42:17,891 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 09:42:17,892 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 09:42:17,892 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 09:42:17,893 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 09:42:17,918 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 09:46:35,636 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 09:46:35,948 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 09:46:35,949 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 09:46:36,044 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 09:46:36,045 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2388561136080 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:46:36,046 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2388561136080 rilasciata al pool.
2025-05-27 09:46:36,047 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 09:47:42,866 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2388561136080 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:47:42,867 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 09:47:42,884 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 09:47:42,886 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2388561136080 rilasciata al pool.
2025-05-27 09:47:43,233 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 09:47:43,233 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2388561136080 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:47:43,253 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 8e65e0cd...
2025-05-27 09:47:43,254 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2388561136080 rilasciata al pool.
2025-05-27 09:47:43,255 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2388561136080 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:47:43,257 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=8e65e0cd...
2025-05-27 09:47:43,257 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2388561136080 rilasciata al pool.
2025-05-27 09:47:44,744 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 09:47:44,745 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 09:47:44,746 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 09:47:44,747 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 09:47:44,749 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 09:47:44,852 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2388561136080 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:47:44,853 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 09:47:44,858 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 09:47:44,860 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2388561136080 rilasciata al pool.
2025-05-27 09:47:45,231 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2388561136080 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:47:45,232 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 09:47:45,234 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 09:47:45,236 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2388561136080 rilasciata al pool.
2025-05-27 09:47:45,651 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2388561136080 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:47:45,652 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 09:47:45,656 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 09:47:45,658 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2388561136080 rilasciata al pool.
2025-05-27 09:47:45,664 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2388561136080 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:47:45,665 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 09:47:45,669 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 09:47:45,671 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2388561136080 rilasciata al pool.
2025-05-27 09:47:45,733 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2388561136080 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:47:45,734 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 09:47:45,737 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 09:47:45,739 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2388561136080 rilasciata al pool.
2025-05-27 09:47:45,830 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2388561136080 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:47:45,832 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T09:47:45.828000'::timestamp AND timestamp <= '2025-05-27T09:47:45.829000'::timestamp;
2025-05-27 09:47:45,838 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 09:47:45,925 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 09:47:45,927 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 09:47:46,066 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 09:47:46,071 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 09:47:46,072 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 09:47:49,024 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2388558806768 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:47:49,024 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 09:47:49,031 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 09:47:49,032 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2388558806768 rilasciata al pool.
2025-05-27 09:47:51,481 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s ORDER BY c.nome, p.numero_partita - Params: (2,)
2025-05-27 09:47:51,482 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2388558806768 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:47:51,495 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 557 partite.
2025-05-27 09:47:51,497 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2388558806768 rilasciata al pool.
2025-05-27 09:47:54,956 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2388558806768 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:47:54,978 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 557.
2025-05-27 09:47:54,980 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2388558806768 rilasciata al pool.
2025-05-27 09:48:05,371 - CatastoDB - ERROR - Errore Python imprevisto durante la ricerca avanzata dei possessori: 'CatastoDBManager' object has no attribute 'conn'
2025-05-27 09:48:10,328 - CatastoDB - ERROR - Errore Python imprevisto durante la ricerca avanzata dei possessori: 'CatastoDBManager' object has no attribute 'conn'
2025-05-27 09:56:56,684 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2388558806768 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:56:56,728 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 09:56:56,743 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 8e65e0cd...
2025-05-27 09:56:56,744 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2388558806768 rilasciata al pool.
2025-05-27 09:56:57,940 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 09:56:57,941 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 09:56:57,942 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2388558806768 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:56:57,945 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 09:56:57,947 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2388558806768 rilasciata al pool.
2025-05-27 09:56:58,031 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 09:56:58,033 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 09:56:58,033 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 09:56:58,034 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 09:56:58,054 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 09:57:04,122 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 09:57:04,223 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 09:57:04,223 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 09:57:04,288 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 09:57:04,289 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151126747328 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:57:04,290 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151126747328 rilasciata al pool.
2025-05-27 09:57:04,290 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 09:57:11,279 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151126747328 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:57:11,280 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 09:57:11,292 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 09:57:11,293 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151126747328 rilasciata al pool.
2025-05-27 09:57:11,600 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 09:57:11,601 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151126747328 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:57:11,622 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 23ca3e1d...
2025-05-27 09:57:11,622 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151126747328 rilasciata al pool.
2025-05-27 09:57:11,623 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151126747328 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:57:11,624 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=23ca3e1d...
2025-05-27 09:57:11,624 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151126747328 rilasciata al pool.
2025-05-27 09:57:12,707 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 09:57:12,707 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 09:57:12,707 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 09:57:12,708 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 09:57:12,708 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 09:57:12,738 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151126747328 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:57:12,739 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 09:57:12,742 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 09:57:12,743 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151126747328 rilasciata al pool.
2025-05-27 09:57:12,866 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151126747328 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:57:12,867 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 09:57:12,868 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 09:57:12,868 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151126747328 rilasciata al pool.
2025-05-27 09:57:13,016 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151126747328 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:57:13,017 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 09:57:13,019 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 09:57:13,020 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151126747328 rilasciata al pool.
2025-05-27 09:57:13,023 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151126747328 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:57:13,023 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 09:57:13,025 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 09:57:13,026 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151126747328 rilasciata al pool.
2025-05-27 09:57:13,045 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151126747328 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:57:13,046 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 09:57:13,047 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 09:57:13,048 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151126747328 rilasciata al pool.
2025-05-27 09:57:13,073 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151126747328 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:57:13,074 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T09:57:13.072000'::timestamp AND timestamp <= '2025-05-27T09:57:13.073000'::timestamp;
2025-05-27 09:57:13,076 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 09:57:13,117 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 09:57:13,117 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 09:57:13,173 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 09:57:13,173 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 09:57:13,174 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 09:57:17,905 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151125024496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:57:17,906 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 09:57:17,912 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 09:57:17,913 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151125024496 rilasciata al pool.
2025-05-27 09:57:22,538 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s ORDER BY c.nome, p.numero_partita - Params: (4,)
2025-05-27 09:57:22,539 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151125024496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:57:22,556 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 556 partite.
2025-05-27 09:57:22,557 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151125024496 rilasciata al pool.
2025-05-27 09:57:57,978 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151125024496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:57:57,979 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query (ricerca avanzata possessori): Query='SELECT * FROM catasto.ricerca_avanzata_possessori(%s::TEXT, %s::REAL);', Params='('p', 0.10000000000000002)'
2025-05-27 09:57:58,031 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun risultato per ricerca avanzata possessori: 'p' (soglia: 0.10000000000000002).
2025-05-27 09:57:58,032 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151125024496 rilasciata al pool.
2025-05-27 09:58:16,097 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151125024496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:58:16,098 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query (ricerca avanzata possessori): Query='SELECT * FROM catasto.ricerca_avanzata_possessori(%s::TEXT, %s::REAL);', Params='('p', 1.3877787807814457e-17)'
2025-05-27 09:58:16,118 - CatastoDB_catasto_storico_localhost_5432 - INFO - Ricerca avanzata possessori per 'p' (soglia: 1.3877787807814457e-17) ha prodotto 100 risultati.
2025-05-27 09:58:16,119 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151125024496 rilasciata al pool.
2025-05-27 09:58:30,166 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151125024496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:58:30,167 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query (ricerca avanzata possessori): Query='SELECT * FROM catasto.ricerca_avanzata_possessori(%s::TEXT, %s::REAL);', Params='('p', 0.2)'
2025-05-27 09:58:30,178 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun risultato per ricerca avanzata possessori: 'p' (soglia: 0.2).
2025-05-27 09:58:30,179 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151125024496 rilasciata al pool.
2025-05-27 09:58:33,849 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151125024496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:58:33,850 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query (ricerca avanzata possessori): Query='SELECT * FROM catasto.ricerca_avanzata_possessori(%s::TEXT, %s::REAL);', Params='('p', 0.05000000000000002)'
2025-05-27 09:58:33,856 - CatastoDB_catasto_storico_localhost_5432 - INFO - Ricerca avanzata possessori per 'p' (soglia: 0.05000000000000002) ha prodotto 6 risultati.
2025-05-27 09:58:33,857 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151125024496 rilasciata al pool.
2025-05-27 09:58:54,070 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151125024496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:58:54,071 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 09:58:54,073 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 09:58:54,075 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151125024496 rilasciata al pool.
2025-05-27 09:58:56,031 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151125024496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:58:56,031 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Chiamata a catasto.ricerca_avanzata_immobili con parametri POSIZIONALI: (3, None, None, None, None, None, None, None, None, None, None, None)
2025-05-27 09:58:56,079 - CatastoDB_catasto_storico_localhost_5432 - INFO - Ricerca avanzata immobili ha restituito 1500 risultati.
2025-05-27 09:59:01,605 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151126747056 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:59:01,605 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 3: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 3 ORDER BY tipo, nome, civico;
2025-05-27 09:59:01,612 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 3 (filtro: 'None').
2025-05-27 09:59:01,614 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151126747056 rilasciata al pool.
2025-05-27 09:59:51,019 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151126747056 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:59:51,020 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query (ricerca avanzata possessori): Query='SELECT * FROM catasto.ricerca_avanzata_possessori(%s::TEXT, %s::REAL);', Params='('comune', 1.3877787807814457e-17)'
2025-05-27 09:59:51,031 - CatastoDB_catasto_storico_localhost_5432 - INFO - Ricerca avanzata possessori per 'comune' (soglia: 1.3877787807814457e-17) ha prodotto 2 risultati.
2025-05-27 09:59:51,033 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151126747056 rilasciata al pool.
2025-05-27 09:59:58,181 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151126747056 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 09:59:58,182 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query (ricerca avanzata possessori): Query='SELECT * FROM catasto.ricerca_avanzata_possessori(%s::TEXT, %s::REAL);', Params='('comune', 0.10000000000000002)'
2025-05-27 09:59:58,190 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun risultato per ricerca avanzata possessori: 'comune' (soglia: 0.10000000000000002).
2025-05-27 09:59:58,191 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151126747056 rilasciata al pool.
2025-05-27 10:00:12,233 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151126747056 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:00:12,234 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 3: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 3 ORDER BY tipo, nome, civico;
2025-05-27 10:00:12,236 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 3 (filtro: 'None').
2025-05-27 10:00:12,238 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151126747056 rilasciata al pool.
2025-05-27 10:07:28,475 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151126747056 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:07:28,482 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 10:07:28,509 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 23ca3e1d...
2025-05-27 10:07:28,510 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151126747056 rilasciata al pool.
2025-05-27 10:07:29,756 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 10:07:29,759 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 10:07:29,759 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151126747056 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:07:29,763 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 10:07:29,763 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2151126747056 rilasciata al pool.
2025-05-27 10:07:29,834 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 10:07:29,837 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 10:07:29,837 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 10:07:29,838 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 10:07:29,858 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 10:07:37,486 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 10:07:37,559 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 10:07:37,560 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 10:07:37,754 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 10:07:37,755 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1493079722448 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:07:37,755 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1493079722448 rilasciata al pool.
2025-05-27 10:07:37,756 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 10:07:43,125 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1493079722448 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:07:43,126 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 10:07:43,139 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 10:07:43,140 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1493079722448 rilasciata al pool.
2025-05-27 10:07:43,430 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 10:07:43,430 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1493079722448 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:07:43,457 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 7ecbd2e4...
2025-05-27 10:07:43,458 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1493079722448 rilasciata al pool.
2025-05-27 10:07:43,459 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1493079722448 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:07:43,461 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=7ecbd2e4...
2025-05-27 10:07:43,462 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1493079722448 rilasciata al pool.
2025-05-27 10:07:44,681 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 10:07:44,681 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 10:07:44,682 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 10:07:44,683 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 10:07:44,684 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 10:07:44,717 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1493079722448 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:07:44,718 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 10:07:44,721 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 10:07:44,721 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1493079722448 rilasciata al pool.
2025-05-27 10:07:44,867 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1493079722448 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:07:44,868 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 10:07:44,869 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 10:07:44,870 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1493079722448 rilasciata al pool.
2025-05-27 10:07:45,003 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1493079722448 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:07:45,004 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 10:07:45,006 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 10:07:45,007 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1493079722448 rilasciata al pool.
2025-05-27 10:07:45,011 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1493079722448 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:07:45,012 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 10:07:45,014 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 10:07:45,014 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1493079722448 rilasciata al pool.
2025-05-27 10:07:45,040 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1493079722448 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:07:45,041 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 10:07:45,042 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 10:07:45,043 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1493079722448 rilasciata al pool.
2025-05-27 10:07:45,075 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1493079722448 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:07:45,076 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T10:07:45.074000'::timestamp AND timestamp <= '2025-05-27T10:07:45.074000'::timestamp;
2025-05-27 10:07:45,079 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 10:07:45,122 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 10:07:45,123 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 10:07:45,197 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 10:07:45,197 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 10:07:45,198 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 10:08:07,384 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1493079724080 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:08:07,385 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 10:08:07,392 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 10:08:07,393 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1493079724080 rilasciata al pool.
2025-05-27 10:08:09,717 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1493079724080 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:08:09,718 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 3: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 3 ORDER BY tipo, nome, civico;
2025-05-27 10:08:09,723 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 3 (filtro: 'None').
2025-05-27 10:08:09,724 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1493079724080 rilasciata al pool.
2025-05-27 10:08:13,695 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1493079724080 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:08:13,699 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 10:08:13,713 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 7ecbd2e4...
2025-05-27 10:08:13,714 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1493079724080 rilasciata al pool.
2025-05-27 10:08:14,942 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 10:08:14,943 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 10:08:14,944 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1493079724080 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:08:14,946 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 10:08:14,946 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1493079724080 rilasciata al pool.
2025-05-27 10:08:14,973 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 10:08:14,974 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 10:08:14,974 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 10:08:14,975 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 10:08:15,001 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 10:08:32,161 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 10:08:32,229 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 10:08:32,230 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 10:08:32,289 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 10:08:32,290 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2481984080336 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:08:32,290 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2481984080336 rilasciata al pool.
2025-05-27 10:08:32,291 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 10:08:35,425 - CatastoGUI - INFO - Login annullato o fallito. Uscita dall'applicazione GUI.
2025-05-27 10:08:35,426 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 10:08:41,166 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 10:08:41,244 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 10:08:41,244 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 10:08:41,304 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 10:08:41,305 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2451486640592 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:08:41,305 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2451486640592 rilasciata al pool.
2025-05-27 10:08:41,306 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 10:08:46,003 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2451486640592 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:08:46,004 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 10:08:46,015 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 10:08:46,017 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2451486640592 rilasciata al pool.
2025-05-27 10:08:46,307 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 10:08:46,308 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2451486640592 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:08:46,332 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 64fee992...
2025-05-27 10:08:46,333 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2451486640592 rilasciata al pool.
2025-05-27 10:08:46,333 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2451486640592 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:08:46,336 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=64fee992...
2025-05-27 10:08:46,337 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2451486640592 rilasciata al pool.
2025-05-27 10:08:47,319 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 10:08:47,319 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 10:08:47,320 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 10:08:47,320 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 10:08:47,321 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 10:08:47,360 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2451486640592 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:08:47,361 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 10:08:47,363 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 10:08:47,364 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2451486640592 rilasciata al pool.
2025-05-27 10:08:47,481 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2451486640592 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:08:47,482 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 10:08:47,484 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 10:08:47,485 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2451486640592 rilasciata al pool.
2025-05-27 10:08:47,626 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2451486640592 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:08:47,626 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 10:08:47,629 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 10:08:47,630 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2451486640592 rilasciata al pool.
2025-05-27 10:08:47,635 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2451486640592 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:08:47,635 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 10:08:47,637 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 10:08:47,638 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2451486640592 rilasciata al pool.
2025-05-27 10:08:47,671 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2451486640592 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:08:47,671 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 10:08:47,672 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 10:08:47,673 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2451486640592 rilasciata al pool.
2025-05-27 10:08:47,701 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2451486640592 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:08:47,701 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T10:08:47.700000'::timestamp AND timestamp <= '2025-05-27T10:08:47.700000'::timestamp;
2025-05-27 10:08:47,704 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 10:08:47,751 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 10:08:47,751 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 10:08:47,821 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 10:08:47,821 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 10:08:47,822 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 10:08:59,502 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2451486642224 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:08:59,503 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 10:08:59,509 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 10:08:59,510 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2451486642224 rilasciata al pool.
2025-05-27 10:09:01,909 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2451486642224 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:09:01,910 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 2: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 2 ORDER BY tipo, nome, civico;
2025-05-27 10:09:01,916 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 2 (filtro: 'None').
2025-05-27 10:09:01,917 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2451486642224 rilasciata al pool.
2025-05-27 10:09:04,887 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2451486642224 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:09:04,888 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_localita_details per localita_id 32: 
            SELECT
                loc.id,
                loc.nome,
                loc.tipo,
                loc.civico,
                loc.comune_id,
                com.nome AS comune_nome
            FROM
                catasto.localita loc
            JOIN
                catasto.comune com ON loc.comune_id = com.id
            WHERE
                loc.id = 32;
        
2025-05-27 10:09:04,890 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli recuperati per la localit‡ ID 32: Via Stress 2-12
2025-05-27 10:09:04,891 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2451486642224 rilasciata al pool.
2025-05-27 10:09:19,055 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2451486642224 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:09:19,056 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 2: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 2 ORDER BY tipo, nome, civico;
2025-05-27 10:09:19,058 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 2 (filtro: 'None').
2025-05-27 10:09:19,059 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2451486642224 rilasciata al pool.
2025-05-27 10:09:24,116 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2451486642224 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:09:24,119 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 10:09:24,120 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 64fee992...
2025-05-27 10:09:24,121 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2451486642224 rilasciata al pool.
2025-05-27 10:09:25,430 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 10:09:25,430 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 10:09:25,431 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2451486642224 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:09:25,433 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 10:09:25,434 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2451486642224 rilasciata al pool.
2025-05-27 10:09:25,462 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 10:09:25,463 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 10:09:25,463 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 10:09:25,464 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 10:09:25,487 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 10:11:06,169 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 10:11:06,353 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 10:11:06,354 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 10:11:06,421 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 10:11:06,422 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724856784 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:11:06,423 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724856784 rilasciata al pool.
2025-05-27 10:11:06,423 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 10:11:12,271 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724856784 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:11:12,272 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 10:11:12,336 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 10:11:12,339 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724856784 rilasciata al pool.
2025-05-27 10:11:12,627 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 10:11:12,628 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724856784 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:11:12,663 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 451bd2c9...
2025-05-27 10:11:12,664 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724856784 rilasciata al pool.
2025-05-27 10:11:12,664 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724856784 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:11:12,667 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=451bd2c9...
2025-05-27 10:11:12,668 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724856784 rilasciata al pool.
2025-05-27 10:11:14,386 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 10:11:14,386 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 10:11:14,386 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 10:11:14,386 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 10:11:14,387 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 10:11:14,416 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724856784 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:11:14,417 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 10:11:14,423 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 10:11:14,424 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724856784 rilasciata al pool.
2025-05-27 10:11:14,579 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724856784 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:11:14,580 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 10:11:14,581 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 10:11:14,581 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724856784 rilasciata al pool.
2025-05-27 10:11:14,717 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724856784 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:11:14,718 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 10:11:14,723 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 10:11:14,723 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724856784 rilasciata al pool.
2025-05-27 10:11:14,726 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724856784 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:11:14,727 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 10:11:14,729 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 10:11:14,729 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724856784 rilasciata al pool.
2025-05-27 10:11:14,754 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724856784 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:11:14,754 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 10:11:14,756 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 10:11:14,757 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724856784 rilasciata al pool.
2025-05-27 10:11:14,795 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724856784 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:11:14,796 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T10:11:14.794000'::timestamp AND timestamp <= '2025-05-27T10:11:14.794000'::timestamp;
2025-05-27 10:11:14,803 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 10:11:14,831 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 10:11:14,831 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 10:11:14,916 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 10:11:14,917 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 10:11:14,917 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 10:11:20,766 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724858416 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:11:20,767 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 10:11:20,771 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 10:11:20,772 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724858416 rilasciata al pool.
2025-05-27 10:11:22,546 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724858416 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:11:22,547 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 4: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 4 ORDER BY tipo, nome, civico;
2025-05-27 10:11:22,556 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 20 localit‡ per comune ID 4 (filtro: 'None').
2025-05-27 10:11:22,557 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724858416 rilasciata al pool.
2025-05-27 10:11:24,879 - CatastoGUI - INFO - LocalitaSelectionDialog: Localit‡ selezionata ID: 75, Nome: 'Via Stress 4-15, 48 (via)'
2025-05-27 10:11:24,909 - CatastoGUI - INFO - RicercaAvanzataImmobili: Localit‡ selezionata ID: 75, Nome: Via Stress 4-15, 48 (via)
2025-05-27 10:11:24,909 - CatastoGUI - INFO - Selezione localit‡ annullata o dialogo chiuso.
2025-05-27 10:11:26,902 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724858416 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:11:26,903 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Chiamata a catasto.ricerca_avanzata_immobili con parametri POSIZIONALI: (4, 75, None, None, None, None, None, None, None, None, None, None)
2025-05-27 10:11:26,958 - CatastoDB_catasto_storico_localhost_5432 - INFO - Ricerca avanzata immobili ha restituito 73 risultati.
2025-05-27 10:11:34,429 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724858960 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:11:34,430 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 2: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 2 ORDER BY tipo, nome, civico;
2025-05-27 10:11:34,438 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 2 (filtro: 'None').
2025-05-27 10:11:34,439 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724858960 rilasciata al pool.
2025-05-27 10:11:37,273 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724858960 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:11:37,274 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_localita_details per localita_id 31: 
            SELECT
                loc.id,
                loc.nome,
                loc.tipo,
                loc.civico,
                loc.comune_id,
                com.nome AS comune_nome
            FROM
                catasto.localita loc
            JOIN
                catasto.comune com ON loc.comune_id = com.id
            WHERE
                loc.id = 31;
        
2025-05-27 10:11:37,280 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli recuperati per la localit‡ ID 31: Via Stress 2-11
2025-05-27 10:11:37,282 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724858960 rilasciata al pool.
2025-05-27 10:11:58,182 - CatastoDB - ERROR - Errore Python get_partita_data_for_export (ID: 1): 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-27 10:12:01,906 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724858960 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:12:01,907 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 10:12:01,908 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 10:12:01,909 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724858960 rilasciata al pool.
2025-05-27 10:12:24,267 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724858960 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:12:24,268 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query (ricerca avanzata possessori): Query='SELECT * FROM catasto.ricerca_avanzata_possessori(%s::TEXT, %s::REAL);', Params='('stress', 0.2)'
2025-05-27 10:12:24,298 - CatastoDB_catasto_storico_localhost_5432 - INFO - Ricerca avanzata possessori per 'stress' (soglia: 0.2) ha prodotto 100 risultati.
2025-05-27 10:12:24,299 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724858960 rilasciata al pool.
2025-05-27 10:12:44,494 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724858960 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:12:44,500 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 10:12:44,502 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 451bd2c9...
2025-05-27 10:12:44,503 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724858960 rilasciata al pool.
2025-05-27 10:12:45,587 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 10:12:45,588 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 10:12:45,588 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724858960 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:12:45,589 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 10:12:45,590 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2569724858960 rilasciata al pool.
2025-05-27 10:12:45,611 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 10:12:45,612 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 10:12:45,612 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 10:12:45,612 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 10:12:45,628 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 10:16:52,181 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 10:16:52,269 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 10:16:52,270 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 10:16:52,331 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 10:16:52,332 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2203521026512 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:16:52,332 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2203521026512 rilasciata al pool.
2025-05-27 10:16:52,333 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 10:16:57,958 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2203521026512 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:16:57,959 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 10:16:58,012 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 10:16:58,014 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2203521026512 rilasciata al pool.
2025-05-27 10:16:58,319 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 10:16:58,319 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2203521026512 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:16:58,357 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione fc9545cc...
2025-05-27 10:16:58,358 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2203521026512 rilasciata al pool.
2025-05-27 10:16:58,359 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2203521026512 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:16:58,362 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=fc9545cc...
2025-05-27 10:16:58,363 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2203521026512 rilasciata al pool.
2025-05-27 10:16:59,621 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 10:16:59,621 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 10:16:59,621 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 10:16:59,622 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 10:16:59,623 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 10:16:59,678 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2203521026512 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:16:59,679 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 10:16:59,684 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 10:16:59,685 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2203521026512 rilasciata al pool.
2025-05-27 10:16:59,881 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2203521026512 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:16:59,881 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 10:16:59,883 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 10:16:59,884 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2203521026512 rilasciata al pool.
2025-05-27 10:17:00,101 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2203521026512 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:17:00,101 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 10:17:00,106 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 10:17:00,107 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2203521026512 rilasciata al pool.
2025-05-27 10:17:00,111 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2203521026512 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:17:00,112 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 10:17:00,115 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 10:17:00,115 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2203521026512 rilasciata al pool.
2025-05-27 10:17:00,146 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2203521026512 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:17:00,147 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 10:17:00,148 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 10:17:00,149 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2203521026512 rilasciata al pool.
2025-05-27 10:17:00,185 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2203521026512 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:17:00,187 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T10:17:00.184000'::timestamp AND timestamp <= '2025-05-27T10:17:00.184000'::timestamp;
2025-05-27 10:17:00,194 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 10:17:00,235 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 10:17:00,236 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 10:17:00,317 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 10:17:00,318 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 10:17:00,319 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 10:17:44,870 - CatastoGUI - ERROR - Errore durante il salvataggio del possessore: 'CatastoDBManager' object has no attribute 'create_possessore'
2025-05-27 10:23:28,081 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2203521028144 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:23:28,097 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 10:23:28,107 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione fc9545cc...
2025-05-27 10:23:28,108 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2203521028144 rilasciata al pool.
2025-05-27 10:23:29,209 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 10:23:29,210 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 10:23:29,211 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2203521028144 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:23:29,213 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 10:23:29,214 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2203521028144 rilasciata al pool.
2025-05-27 10:23:29,261 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 10:23:29,262 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 10:23:29,263 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 10:23:29,263 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 10:23:29,281 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 10:30:21,815 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 10:30:21,901 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 10:30:21,902 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 10:30:21,965 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 10:30:21,966 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194480155088 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:30:21,966 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194480155088 rilasciata al pool.
2025-05-27 10:30:21,967 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 10:30:28,186 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194480155088 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:30:28,188 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 10:30:28,249 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 10:30:28,252 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194480155088 rilasciata al pool.
2025-05-27 10:30:28,543 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 10:30:28,543 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194480155088 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:30:28,583 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione f814d737...
2025-05-27 10:30:28,583 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194480155088 rilasciata al pool.
2025-05-27 10:30:28,584 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194480155088 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:30:28,587 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=f814d737...
2025-05-27 10:30:28,588 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194480155088 rilasciata al pool.
2025-05-27 10:30:29,354 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 10:30:29,354 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 10:30:29,355 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 10:30:29,355 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 10:30:29,356 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 10:30:29,403 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194480155088 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:30:29,404 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 10:30:29,414 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 10:30:29,415 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194480155088 rilasciata al pool.
2025-05-27 10:30:29,550 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194480155088 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:30:29,551 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 10:30:29,552 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 10:30:29,554 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194480155088 rilasciata al pool.
2025-05-27 10:30:29,702 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194480155088 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:30:29,703 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 10:30:29,708 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 10:30:29,709 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194480155088 rilasciata al pool.
2025-05-27 10:30:29,715 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194480155088 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:30:29,715 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 10:30:29,718 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 10:30:29,718 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194480155088 rilasciata al pool.
2025-05-27 10:30:29,751 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194480155088 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:30:29,752 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 10:30:29,753 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 10:30:29,754 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194480155088 rilasciata al pool.
2025-05-27 10:30:29,787 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194480155088 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:30:29,788 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T10:30:29.784000'::timestamp AND timestamp <= '2025-05-27T10:30:29.786000'::timestamp;
2025-05-27 10:30:29,796 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 10:30:29,838 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 10:30:29,838 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 10:30:29,902 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 10:30:29,902 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 10:30:29,903 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 10:30:46,654 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:30:46,655 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query create_possessore: 
            INSERT INTO catasto.possessore 
                (nome_completo, paternita, comune_id, attivo, cognome_nome, data_creazione, data_modifica)
            VALUES ('d', 'd', 8, true, 'd', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP)
            RETURNING id;
        
2025-05-27 10:30:46,676 - CatastoDB_catasto_storico_localhost_5432 - INFO - Possessore 'd' (Comune ID: 8) creato con successo. ID: 503.
2025-05-27 10:30:46,676 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 rilasciata al pool.
2025-05-27 10:30:57,294 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:30:57,295 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query (ricerca avanzata possessori): Query='SELECT * FROM catasto.ricerca_avanzata_possessori(%s::TEXT, %s::REAL);', Params='('d', 0.3)'
2025-05-27 10:30:57,337 - CatastoDB_catasto_storico_localhost_5432 - INFO - Ricerca avanzata possessori per 'd' (soglia: 0.3) ha prodotto 1 risultati.
2025-05-27 10:30:57,338 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 rilasciata al pool.
2025-05-27 10:31:00,486 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:31:00,486 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_possessore_full_details per possessore_id 503: 
            SELECT
                p.id,
                p.cognome_nome,
                p.paternita,
                p.nome_completo,
                p.attivo,
                p.comune_id AS comune_riferimento_id, 
                c.nome AS comune_riferimento_nome, -- Nome del comune dalla tabella comune
                p.data_creazione,
                p.data_modifica
            FROM
                catasto.possessore p
            LEFT JOIN 
                catasto.comune c ON p.comune_id = c.id -- LEFT JOIN per gestire possessori senza comune (anche se comune_id Ë NOT NULL nel tuo schema)
            WHERE
                p.id = 503;
        
2025-05-27 10:31:00,489 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli recuperati per il possessore ID 503.
2025-05-27 10:31:00,490 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 rilasciata al pool.
2025-05-27 10:31:09,878 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:31:09,879 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 10:31:09,880 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 10:31:09,881 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 rilasciata al pool.
2025-05-27 10:31:10,908 - CatastoGUI - INFO - DEBUG: InserimentoLocalitaWidget - Chiamata refresh_localita per comune ID: 3
2025-05-27 10:31:10,908 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:31:10,909 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 3: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 3 ORDER BY tipo, nome, civico;
2025-05-27 10:31:10,912 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 3 (filtro: 'None').
2025-05-27 10:31:10,913 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 rilasciata al pool.
2025-05-27 10:31:39,644 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:31:39,645 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo INSERT ON CONFLICT per localit‡: C_ID=3, Nome='Via Le Dita Dal Naso', Civico=999
2025-05-27 10:31:39,654 - CatastoDB_catasto_storico_localhost_5432 - INFO - Localit‡ 'Via Le Dita Dal Naso' (Comune ID: 3) inserita con successo. ID: 104.
2025-05-27 10:31:39,655 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 rilasciata al pool.
2025-05-27 10:31:41,744 - CatastoGUI - INFO - DEBUG: InserimentoLocalitaWidget - Chiamata refresh_localita per comune ID: 3
2025-05-27 10:31:41,745 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:31:41,746 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 3: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 3 ORDER BY tipo, nome, civico;
2025-05-27 10:31:41,748 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 22 localit‡ per comune ID 3 (filtro: 'None').
2025-05-27 10:31:41,749 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 rilasciata al pool.
2025-05-27 10:31:54,092 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:31:54,093 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 10:31:54,095 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 10:31:54,096 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 rilasciata al pool.
2025-05-27 10:32:06,158 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:32:06,159 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_possessori_by_comune per comune_id 3
2025-05-27 10:32:06,162 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 99 possessori per comune ID 3.
2025-05-27 10:32:06,164 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 rilasciata al pool.
2025-05-27 10:32:11,542 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:32:11,543 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_possessori_by_comune per comune_id 3
2025-05-27 10:32:11,547 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 99 possessori per comune ID 3.
2025-05-27 10:32:11,549 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 rilasciata al pool.
2025-05-27 10:32:11,678 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:32:11,679 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_possessori_by_comune per comune_id 3
2025-05-27 10:32:11,683 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 99 possessori per comune ID 3.
2025-05-27 10:32:11,684 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 rilasciata al pool.
2025-05-27 10:32:12,641 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:32:12,641 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_possessori_by_comune per comune_id 3
2025-05-27 10:32:12,644 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 99 possessori per comune ID 3.
2025-05-27 10:32:12,644 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 rilasciata al pool.
2025-05-27 10:32:12,810 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:32:12,811 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_possessori_by_comune per comune_id 3
2025-05-27 10:32:12,815 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 99 possessori per comune ID 3.
2025-05-27 10:32:12,816 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 rilasciata al pool.
2025-05-27 10:32:20,970 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:32:20,971 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_possessori_by_comune per comune_id 3
2025-05-27 10:32:20,974 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 99 possessori per comune ID 3.
2025-05-27 10:32:20,975 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 rilasciata al pool.
2025-05-27 10:32:49,899 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:32:49,900 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 3: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 3 ORDER BY tipo, nome, civico;
2025-05-27 10:32:49,902 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 22 localit‡ per comune ID 3 (filtro: 'None').
2025-05-27 10:32:49,903 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 rilasciata al pool.
2025-05-27 10:32:56,524 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:32:56,525 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 3: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 3 ORDER BY tipo, nome, civico;
2025-05-27 10:32:56,527 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 22 localit‡ per comune ID 3 (filtro: 'None').
2025-05-27 10:32:56,528 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 rilasciata al pool.
2025-05-27 10:33:03,615 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:33:03,616 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 3: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 3 ORDER BY tipo, nome, civico;
2025-05-27 10:33:03,618 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 22 localit‡ per comune ID 3 (filtro: 'None').
2025-05-27 10:33:03,619 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 rilasciata al pool.
2025-05-27 10:33:15,196 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:33:15,196 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 3: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 3 ORDER BY tipo, nome, civico;
2025-05-27 10:33:15,198 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 22 localit‡ per comune ID 3 (filtro: 'None').
2025-05-27 10:33:15,199 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 rilasciata al pool.
2025-05-27 10:33:18,890 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:33:18,890 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_localita_details per localita_id 104: 
            SELECT
                loc.id,
                loc.nome,
                loc.tipo,
                loc.civico,
                loc.comune_id,
                com.nome AS comune_nome
            FROM
                catasto.localita loc
            JOIN
                catasto.comune com ON loc.comune_id = com.id
            WHERE
                loc.id = 104;
        
2025-05-27 10:33:18,892 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli recuperati per la localit‡ ID 104: Via Le Dita Dal Naso
2025-05-27 10:33:18,893 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 rilasciata al pool.
2025-05-27 10:33:20,587 - CatastoGUI - INFO - Tentativo di aggiornare localit‡ ID 104 con: {'nome': 'Via Le Dita Dal Naso', 'tipo': 'via', 'civico': 999}
2025-05-27 10:33:20,587 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:33:20,588 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query UPDATE localit‡ ID 104: 
            UPDATE catasto.localita
            SET nome = 'Via Le Dita Dal Naso', tipo = 'via', civico = 999, data_modifica = CURRENT_TIMESTAMP
            WHERE id = 104;
        
2025-05-27 10:33:20,602 - CatastoDB_catasto_storico_localhost_5432 - INFO - Localit‡ ID 104 aggiornata con successo.
2025-05-27 10:33:20,602 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 rilasciata al pool.
2025-05-27 10:33:20,603 - CatastoGUI - INFO - Localit‡ ID 104 aggiornata con successo.
2025-05-27 10:33:21,644 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:33:21,645 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 3: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 3 ORDER BY tipo, nome, civico;
2025-05-27 10:33:21,647 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 22 localit‡ per comune ID 3 (filtro: 'None').
2025-05-27 10:33:21,648 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 rilasciata al pool.
2025-05-27 10:33:50,243 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:33:50,245 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 10:33:50,246 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 10:33:50,247 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 rilasciata al pool.
2025-05-27 10:33:54,126 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s ORDER BY c.nome, p.numero_partita - Params: (2,)
2025-05-27 10:33:54,127 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:33:54,139 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 557 partite.
2025-05-27 10:33:54,140 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 rilasciata al pool.
2025-05-27 10:33:56,653 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:33:56,674 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 557.
2025-05-27 10:33:56,676 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2194478478688 rilasciata al pool.
2025-05-27 10:33:58,663 - CatastoDB - ERROR - Errore Python get_partita_data_for_export (ID: 557): 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-27 10:34:02,750 - CatastoDB - ERROR - Errore Python get_partita_data_for_export (ID: 557): 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-27 10:37:01,264 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 10:37:01,334 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 10:37:01,335 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 10:37:01,397 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 10:37:01,398 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589548224 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:37:01,399 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589548224 rilasciata al pool.
2025-05-27 10:37:01,399 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 10:37:07,482 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589548224 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:37:07,483 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 10:37:07,496 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 10:37:07,497 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589548224 rilasciata al pool.
2025-05-27 10:37:07,788 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 10:37:07,788 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589548224 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:37:07,804 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione bd8ba476...
2025-05-27 10:37:07,804 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589548224 rilasciata al pool.
2025-05-27 10:37:07,805 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589548224 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:37:07,808 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=bd8ba476...
2025-05-27 10:37:07,808 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589548224 rilasciata al pool.
2025-05-27 10:37:08,640 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 10:37:08,641 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 10:37:08,641 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 10:37:08,641 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 10:37:08,642 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 10:37:08,667 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589548224 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:37:08,667 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 10:37:08,671 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 10:37:08,672 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589548224 rilasciata al pool.
2025-05-27 10:37:08,781 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589548224 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:37:08,781 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 10:37:08,783 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 10:37:08,784 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589548224 rilasciata al pool.
2025-05-27 10:37:08,926 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589548224 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:37:08,926 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 10:37:08,929 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 10:37:08,930 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589548224 rilasciata al pool.
2025-05-27 10:37:08,936 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589548224 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:37:08,936 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 10:37:08,939 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 10:37:08,940 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589548224 rilasciata al pool.
2025-05-27 10:37:08,967 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589548224 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:37:08,967 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 10:37:08,969 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 10:37:08,969 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589548224 rilasciata al pool.
2025-05-27 10:37:08,994 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589548224 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:37:08,995 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T10:37:08.993000'::timestamp AND timestamp <= '2025-05-27T10:37:08.994000'::timestamp;
2025-05-27 10:37:08,998 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 10:37:09,032 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 10:37:09,032 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 10:37:09,103 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 10:37:09,103 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 10:37:09,104 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 10:37:19,037 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589549856 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:37:19,038 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 10:37:19,043 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 10:37:19,044 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589549856 rilasciata al pool.
2025-05-27 10:37:21,524 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589549856 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:37:21,525 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 2: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 2 ORDER BY tipo, nome, civico;
2025-05-27 10:37:21,531 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 2 (filtro: 'None').
2025-05-27 10:37:21,532 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589549856 rilasciata al pool.
2025-05-27 10:37:23,593 - CatastoGUI - INFO - LocalitaSelectionDialog: Localit‡ selezionata ID: 32, Nome: 'Via Stress 2-12, 79 (via)'
2025-05-27 10:37:23,616 - CatastoGUI - INFO - RicercaAvanzataImmobili: Localit‡ selezionata ID: 32, Nome: Via Stress 2-12, 79 (via)
2025-05-27 10:37:23,616 - CatastoGUI - INFO - Selezione localit‡ annullata o dialogo chiuso.
2025-05-27 10:37:25,474 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589549856 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:37:25,474 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Chiamata a catasto.ricerca_avanzata_immobili con parametri POSIZIONALI: (2, 32, None, None, None, None, None, None, None, None, None, None)
2025-05-27 10:37:25,497 - CatastoDB_catasto_storico_localhost_5432 - INFO - Ricerca avanzata immobili ha restituito 75 risultati.
2025-05-27 10:38:16,629 - CatastoGUI - INFO - Dialogo inserimento comune annullato da utente 'admin'.
2025-05-27 10:38:23,153 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589550400 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:38:23,154 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 10:38:23,158 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 10:38:23,159 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589550400 rilasciata al pool.
2025-05-27 10:38:33,347 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589550400 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:38:33,348 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_possessori_by_comune per comune_id 2
2025-05-27 10:38:33,356 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 100 possessori per comune ID 2.
2025-05-27 10:38:33,357 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589550400 rilasciata al pool.
2025-05-27 10:38:40,894 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589550400 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:38:40,895 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_possessori_by_comune per comune_id 2
2025-05-27 10:38:40,898 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 100 possessori per comune ID 2.
2025-05-27 10:38:40,899 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589550400 rilasciata al pool.
2025-05-27 10:38:49,386 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589550400 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:38:49,387 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 2: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 2 ORDER BY tipo, nome, civico;
2025-05-27 10:38:49,390 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 2 (filtro: 'None').
2025-05-27 10:38:49,392 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2355589550400 rilasciata al pool.
2025-05-27 10:38:52,652 - CatastoGUI - INFO - LocalitaSelectionDialog: Localit‡ selezionata ID: 101, Nome: 'Via dei Fatti Miei, 999 (via)'
2025-05-27 10:38:52,662 - CatastoGUI - INFO - ImmobileDialog: Localit‡ selezionata ID: 101, Nome: 'Via dei Fatti Miei, 999 (via)'
2025-05-27 10:39:17,095 - CatastoDB - ERROR - Errore Python registrazione nuova propriet‡ (Partita 666): 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-27 10:44:54,146 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 10:44:54,221 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 10:44:54,222 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 10:44:54,280 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 10:44:54,282 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3060466403792 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:44:54,282 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3060466403792 rilasciata al pool.
2025-05-27 10:44:54,283 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 10:44:59,749 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3060466403792 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:44:59,750 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 10:44:59,761 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 10:44:59,763 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3060466403792 rilasciata al pool.
2025-05-27 10:45:00,053 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 10:45:00,053 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3060466403792 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:45:00,067 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 33a2f7b6...
2025-05-27 10:45:00,068 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3060466403792 rilasciata al pool.
2025-05-27 10:45:00,069 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3060466403792 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:45:00,071 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=33a2f7b6...
2025-05-27 10:45:00,071 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3060466403792 rilasciata al pool.
2025-05-27 10:45:01,324 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 10:45:01,324 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 10:45:01,324 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 10:45:01,325 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 10:45:01,325 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 10:45:01,345 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3060466403792 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:45:01,345 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 10:45:01,355 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 10:45:01,356 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3060466403792 rilasciata al pool.
2025-05-27 10:45:01,476 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3060466403792 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:45:01,477 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 10:45:01,478 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 10:45:01,479 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3060466403792 rilasciata al pool.
2025-05-27 10:45:01,615 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3060466403792 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:45:01,616 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 10:45:01,622 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 10:45:01,623 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3060466403792 rilasciata al pool.
2025-05-27 10:45:01,625 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3060466403792 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:45:01,626 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 10:45:01,629 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 10:45:01,630 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3060466403792 rilasciata al pool.
2025-05-27 10:45:01,651 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3060466403792 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:45:01,652 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 10:45:01,653 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 10:45:01,653 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3060466403792 rilasciata al pool.
2025-05-27 10:45:01,686 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3060466403792 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:45:01,686 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T10:45:01.685000'::timestamp AND timestamp <= '2025-05-27T10:45:01.685000'::timestamp;
2025-05-27 10:45:01,693 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 10:45:01,726 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 10:45:01,727 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 10:45:01,802 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 10:45:01,803 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 10:45:01,804 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 10:45:10,444 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3060464466880 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:45:10,444 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 10:45:10,451 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 10:45:10,452 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3060464466880 rilasciata al pool.
2025-05-27 10:45:16,751 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3060464466880 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:45:16,751 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_possessori_by_comune per comune_id 3
2025-05-27 10:45:16,774 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 99 possessori per comune ID 3.
2025-05-27 10:45:16,775 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3060464466880 rilasciata al pool.
2025-05-27 10:45:29,588 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3060464466880 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:45:29,589 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 3: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 3 ORDER BY tipo, nome, civico;
2025-05-27 10:45:29,604 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 22 localit‡ per comune ID 3 (filtro: 'None').
2025-05-27 10:45:29,604 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3060464466880 rilasciata al pool.
2025-05-27 10:45:31,745 - CatastoGUI - INFO - LocalitaSelectionDialog: Localit‡ selezionata ID: 102, Nome: 'Borgata CiccioCicci, 5 (borgata)'
2025-05-27 10:45:31,765 - CatastoGUI - INFO - ImmobileDialog: Localit‡ selezionata ID: 102, Nome: 'Borgata CiccioCicci, 5 (borgata)'
2025-05-27 10:45:39,193 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3060464466880 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:45:39,194 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione CALL catasto.registra_nuova_proprieta - Params: C_ID=3, Part_N=666, DataImp=2025-05-27, N_Poss=1, N_Imm=1
2025-05-27 10:45:39,276 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrata nuova propriet‡ con successo: Comune ID 3, Partita N.666
2025-05-27 10:45:39,277 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3060464466880 rilasciata al pool.
2025-05-27 10:46:38,117 - CatastoGUI - INFO - Dialogo inserimento comune annullato da utente 'admin'.
2025-05-27 10:46:44,080 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3060464466880 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:46:44,087 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 10:46:44,089 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 33a2f7b6...
2025-05-27 10:46:44,089 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3060464466880 rilasciata al pool.
2025-05-27 10:46:44,973 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 10:46:44,974 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 10:46:44,974 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3060464466880 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:46:44,976 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 10:46:44,977 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 3060464466880 rilasciata al pool.
2025-05-27 10:46:45,011 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 10:46:45,012 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 10:46:45,012 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 10:46:45,013 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 10:46:45,044 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 10:56:30,738 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 10:56:30,857 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 10:56:30,858 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 10:56:30,915 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 10:56:30,916 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2919243073728 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:56:30,917 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2919243073728 rilasciata al pool.
2025-05-27 10:56:30,918 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 10:56:36,324 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2919243073728 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:56:36,325 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 10:56:36,396 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 10:56:36,399 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2919243073728 rilasciata al pool.
2025-05-27 10:56:36,689 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 10:56:36,690 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2919243073728 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:56:36,749 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 7f6e6fef...
2025-05-27 10:56:36,751 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2919243073728 rilasciata al pool.
2025-05-27 10:56:36,751 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2919243073728 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:56:36,755 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=7f6e6fef...
2025-05-27 10:56:36,756 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2919243073728 rilasciata al pool.
2025-05-27 10:56:37,511 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 10:56:37,511 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 10:56:37,512 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 10:56:37,512 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 10:56:37,513 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 10:56:37,561 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2919243073728 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:56:37,562 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 10:56:37,571 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 10:56:37,572 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2919243073728 rilasciata al pool.
2025-05-27 10:56:37,708 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2919243073728 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:56:37,709 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 10:56:37,710 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 10:56:37,711 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2919243073728 rilasciata al pool.
2025-05-27 10:56:37,880 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2919243073728 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:56:37,881 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 10:56:37,886 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 10:56:37,887 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2919243073728 rilasciata al pool.
2025-05-27 10:56:37,890 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2919243073728 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:56:37,891 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 10:56:37,893 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 10:56:37,894 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2919243073728 rilasciata al pool.
2025-05-27 10:56:37,926 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2919243073728 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:56:37,927 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 10:56:37,928 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 10:56:37,929 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2919243073728 rilasciata al pool.
2025-05-27 10:56:37,967 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2919243073728 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:56:37,968 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T10:56:37.965000'::timestamp AND timestamp <= '2025-05-27T10:56:37.966000'::timestamp;
2025-05-27 10:56:37,977 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 10:56:38,016 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 10:56:38,017 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 10:56:38,084 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 10:56:38,084 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 10:56:38,085 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 10:56:47,355 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2919243075360 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:56:47,372 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 10:56:47,375 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 7f6e6fef...
2025-05-27 10:56:47,376 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2919243075360 rilasciata al pool.
2025-05-27 10:56:48,469 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 10:56:48,470 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 10:56:48,471 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2919243075360 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:56:48,473 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 10:56:48,474 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2919243075360 rilasciata al pool.
2025-05-27 10:56:48,497 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 10:56:48,498 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 10:56:48,498 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 10:56:48,499 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 10:56:48,511 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 10:59:52,757 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 10:59:52,829 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 10:59:52,830 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 10:59:52,889 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 10:59:52,890 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1642638378656 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:59:52,890 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1642638378656 rilasciata al pool.
2025-05-27 10:59:52,891 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 10:59:57,802 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1642638378656 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:59:57,802 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 10:59:57,818 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 10:59:57,819 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1642638378656 rilasciata al pool.
2025-05-27 10:59:58,117 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 10:59:58,118 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1642638378656 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:59:58,134 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 70640198...
2025-05-27 10:59:58,134 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1642638378656 rilasciata al pool.
2025-05-27 10:59:58,135 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1642638378656 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:59:58,138 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=70640198...
2025-05-27 10:59:58,138 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1642638378656 rilasciata al pool.
2025-05-27 10:59:59,000 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 10:59:59,001 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 10:59:59,001 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 10:59:59,001 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 10:59:59,002 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 10:59:59,033 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1642638378656 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:59:59,034 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 10:59:59,036 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 10:59:59,037 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1642638378656 rilasciata al pool.
2025-05-27 10:59:59,165 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1642638378656 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:59:59,165 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 10:59:59,167 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 10:59:59,167 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1642638378656 rilasciata al pool.
2025-05-27 10:59:59,300 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1642638378656 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:59:59,300 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 10:59:59,303 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 10:59:59,303 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1642638378656 rilasciata al pool.
2025-05-27 10:59:59,307 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1642638378656 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:59:59,308 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 10:59:59,310 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 10:59:59,311 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1642638378656 rilasciata al pool.
2025-05-27 10:59:59,339 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1642638378656 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:59:59,340 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 10:59:59,341 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 10:59:59,342 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1642638378656 rilasciata al pool.
2025-05-27 10:59:59,380 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1642638378656 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 10:59:59,381 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T10:59:59.379000'::timestamp AND timestamp <= '2025-05-27T10:59:59.379000'::timestamp;
2025-05-27 10:59:59,384 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 10:59:59,419 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 10:59:59,421 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 10:59:59,491 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 10:59:59,492 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 10:59:59,492 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 11:00:14,096 - CatastoGUI - CRITICAL - Errore imprevisto inserendo comune 'a': 'CatastoDBManager' object has no attribute 'aggiungi_comune'
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\prova.py", line 5356, in inserisci_comune
    comune_id = self.db_manager.aggiungi_comune(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CatastoDBManager' object has no attribute 'aggiungi_comune'
2025-05-27 11:00:28,434 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1642638380288 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:00:28,445 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 11:00:28,449 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 70640198...
2025-05-27 11:00:28,450 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1642638380288 rilasciata al pool.
2025-05-27 11:00:29,531 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 11:00:29,532 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 11:00:29,533 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1642638380288 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:00:29,535 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 11:00:29,535 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1642638380288 rilasciata al pool.
2025-05-27 11:00:29,562 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 11:00:29,563 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 11:00:29,564 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 11:00:29,564 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 11:00:29,583 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 11:02:29,922 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 11:02:29,997 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 11:02:29,998 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 11:02:30,063 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 11:02:30,064 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2123837556656 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:02:30,065 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2123837556656 rilasciata al pool.
2025-05-27 11:02:30,066 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 11:02:34,912 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2123837556656 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:02:34,913 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 11:02:34,923 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 11:02:34,925 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2123837556656 rilasciata al pool.
2025-05-27 11:02:35,212 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 11:02:35,213 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2123837556656 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:02:35,240 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione d4022cde...
2025-05-27 11:02:35,241 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2123837556656 rilasciata al pool.
2025-05-27 11:02:35,241 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2123837556656 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:02:35,244 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=d4022cde...
2025-05-27 11:02:35,245 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2123837556656 rilasciata al pool.
2025-05-27 11:02:36,247 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 11:02:36,248 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 11:02:36,249 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 11:02:36,251 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 11:02:36,253 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 11:02:36,276 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2123837556656 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:02:36,277 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 11:02:36,279 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 11:02:36,280 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2123837556656 rilasciata al pool.
2025-05-27 11:02:36,392 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2123837556656 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:02:36,392 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 11:02:36,394 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 11:02:36,395 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2123837556656 rilasciata al pool.
2025-05-27 11:02:36,517 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2123837556656 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:02:36,518 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 11:02:36,520 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 11:02:36,521 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2123837556656 rilasciata al pool.
2025-05-27 11:02:36,523 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2123837556656 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:02:36,524 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 11:02:36,526 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 11:02:36,526 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2123837556656 rilasciata al pool.
2025-05-27 11:02:36,549 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2123837556656 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:02:36,549 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 11:02:36,551 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 11:02:36,552 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2123837556656 rilasciata al pool.
2025-05-27 11:02:36,574 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2123837556656 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:02:36,575 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T11:02:36.573000'::timestamp AND timestamp <= '2025-05-27T11:02:36.573000'::timestamp;
2025-05-27 11:02:36,578 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 11:02:36,603 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 11:02:36,603 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 11:02:36,676 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 11:02:36,676 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 11:02:36,677 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 11:02:47,680 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2123835947968 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:02:47,681 - CatastoDB_catasto_storico_localhost_5432 - INFO - Tentativo di aggiungere comune: Nome='s', CodCat='S111', Prov='SV', Utente (info): 'admin'
2025-05-27 11:02:47,681 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query aggiungi_comune: 
            INSERT INTO catasto.comune 
                (nome, codice_catastale, provincia, data_istituzione, data_soppressione, note, data_creazione, data_modifica)
            VALUES ('s', 'S111', 'SV', '2000-01-01'::date, '2000-01-01'::date, NULL, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP)
            RETURNING id;
        
2025-05-27 11:02:47,699 - CatastoDB_catasto_storico_localhost_5432 - ERROR - Errore DB generico aggiungendo comune 's': ERRORE:  la colonna "codice_catastale" della relazione "comune" non esiste
LINE 3:                 (nome, codice_catastale, provincia, data_ist...
                               ^
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 306, in aggiungi_comune
    cur.execute(query, params)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: ERRORE:  la colonna "codice_catastale" della relazione "comune" non esiste
LINE 3:                 (nome, codice_catastale, provincia, data_ist...
                               ^

2025-05-27 11:02:47,715 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2123835947968 rilasciata al pool.
2025-05-27 11:18:37,319 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 11:18:37,535 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 11:18:37,536 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 11:18:37,599 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 11:18:37,600 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1176174511776 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:18:37,600 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1176174511776 rilasciata al pool.
2025-05-27 11:18:37,601 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 11:18:43,588 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1176174511776 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:18:43,589 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 11:18:43,605 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 11:18:43,608 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1176174511776 rilasciata al pool.
2025-05-27 11:18:43,895 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 11:18:43,896 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1176174511776 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:18:43,937 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 6687323d...
2025-05-27 11:18:43,938 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1176174511776 rilasciata al pool.
2025-05-27 11:18:43,939 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1176174511776 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:18:43,943 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=6687323d...
2025-05-27 11:18:43,944 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1176174511776 rilasciata al pool.
2025-05-27 11:18:44,816 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 11:18:44,817 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 11:18:44,817 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 11:18:44,818 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 11:18:44,819 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 11:18:44,866 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1176174511776 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:18:44,867 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 11:18:44,871 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 11:18:44,872 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1176174511776 rilasciata al pool.
2025-05-27 11:18:45,050 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1176174511776 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:18:45,050 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 11:18:45,052 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 11:18:45,053 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1176174511776 rilasciata al pool.
2025-05-27 11:18:45,215 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1176174511776 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:18:45,216 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 11:18:45,221 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 11:18:45,221 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1176174511776 rilasciata al pool.
2025-05-27 11:18:45,224 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1176174511776 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:18:45,225 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 11:18:45,227 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 11:18:45,228 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1176174511776 rilasciata al pool.
2025-05-27 11:18:45,255 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1176174511776 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:18:45,256 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 11:18:45,257 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 11:18:45,258 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1176174511776 rilasciata al pool.
2025-05-27 11:18:45,300 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1176174511776 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:18:45,301 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T11:18:45.298000'::timestamp AND timestamp <= '2025-05-27T11:18:45.298000'::timestamp;
2025-05-27 11:18:45,306 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 11:18:45,346 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 11:18:45,347 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 11:18:45,432 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 11:18:45,433 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 11:18:45,433 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 11:19:11,478 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1176174513408 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:19:11,492 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 11:19:11,494 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 6687323d...
2025-05-27 11:19:11,495 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1176174513408 rilasciata al pool.
2025-05-27 11:19:12,433 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 11:19:12,433 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 11:19:12,434 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1176174513408 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:19:12,436 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 11:19:12,437 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1176174513408 rilasciata al pool.
2025-05-27 11:19:12,464 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 11:19:12,465 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 11:19:12,466 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 11:19:12,466 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 11:19:12,501 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 11:21:56,636 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 11:21:56,710 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 11:21:56,710 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 11:21:56,768 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 11:21:56,769 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1684901284032 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:21:56,770 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1684901284032 rilasciata al pool.
2025-05-27 11:21:56,771 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 11:22:01,292 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1684901284032 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:22:01,293 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 11:22:01,305 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 11:22:01,306 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1684901284032 rilasciata al pool.
2025-05-27 11:22:01,602 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 11:22:01,603 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1684901284032 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:22:01,616 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 71bc4210...
2025-05-27 11:22:01,617 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1684901284032 rilasciata al pool.
2025-05-27 11:22:01,618 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1684901284032 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:22:01,620 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=71bc4210...
2025-05-27 11:22:01,621 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1684901284032 rilasciata al pool.
2025-05-27 11:22:02,950 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 11:22:02,950 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 11:22:02,951 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 11:22:02,952 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 11:22:02,953 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 11:22:02,986 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1684901284032 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:22:02,987 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 11:22:02,989 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 11:22:02,990 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1684901284032 rilasciata al pool.
2025-05-27 11:22:03,105 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1684901284032 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:22:03,106 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 11:22:03,107 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 11:22:03,109 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1684901284032 rilasciata al pool.
2025-05-27 11:22:03,251 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1684901284032 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:22:03,252 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 11:22:03,254 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 11:22:03,255 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1684901284032 rilasciata al pool.
2025-05-27 11:22:03,257 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1684901284032 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:22:03,258 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 11:22:03,259 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 11:22:03,260 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1684901284032 rilasciata al pool.
2025-05-27 11:22:03,289 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1684901284032 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:22:03,290 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 11:22:03,291 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 11:22:03,292 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1684901284032 rilasciata al pool.
2025-05-27 11:22:03,322 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1684901284032 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:22:03,322 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T11:22:03.321000'::timestamp AND timestamp <= '2025-05-27T11:22:03.321000'::timestamp;
2025-05-27 11:22:03,326 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 11:22:03,351 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 11:22:03,351 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 11:22:03,421 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 11:22:03,421 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 11:22:03,422 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 11:22:33,753 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1684899347664 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:22:33,766 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 11:22:33,770 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 71bc4210...
2025-05-27 11:22:33,771 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1684899347664 rilasciata al pool.
2025-05-27 11:22:34,684 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 11:22:34,684 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 11:22:34,685 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1684899347664 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:22:34,686 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 11:22:34,686 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1684899347664 rilasciata al pool.
2025-05-27 11:22:34,705 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 11:22:34,706 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 11:22:34,706 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 11:22:34,707 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 11:22:34,722 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 11:24:57,755 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 11:24:57,829 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 11:24:57,830 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 11:24:57,890 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 11:24:57,891 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2195745163456 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:24:57,892 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2195745163456 rilasciata al pool.
2025-05-27 11:24:57,892 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 11:25:02,478 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2195745163456 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:25:02,479 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 11:25:02,489 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 11:25:02,491 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2195745163456 rilasciata al pool.
2025-05-27 11:25:02,779 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 11:25:02,779 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2195745163456 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:25:02,807 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 5bb25e10...
2025-05-27 11:25:02,807 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2195745163456 rilasciata al pool.
2025-05-27 11:25:02,808 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2195745163456 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:25:02,810 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=5bb25e10...
2025-05-27 11:25:02,811 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2195745163456 rilasciata al pool.
2025-05-27 11:25:03,592 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 11:25:03,593 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 11:25:03,593 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 11:25:03,593 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 11:25:03,594 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 11:25:03,621 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2195745163456 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:25:03,622 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 11:25:03,624 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 11:25:03,625 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2195745163456 rilasciata al pool.
2025-05-27 11:25:03,741 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2195745163456 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:25:03,742 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 11:25:03,742 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 11:25:03,743 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2195745163456 rilasciata al pool.
2025-05-27 11:25:03,866 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2195745163456 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:25:03,866 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 11:25:03,868 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 11:25:03,869 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2195745163456 rilasciata al pool.
2025-05-27 11:25:03,870 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2195745163456 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:25:03,871 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 11:25:03,873 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 11:25:03,873 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2195745163456 rilasciata al pool.
2025-05-27 11:25:03,899 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2195745163456 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:25:03,900 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 11:25:03,902 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 11:25:03,903 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2195745163456 rilasciata al pool.
2025-05-27 11:25:03,932 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2195745163456 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:25:03,932 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T11:25:03.931000'::timestamp AND timestamp <= '2025-05-27T11:25:03.931000'::timestamp;
2025-05-27 11:25:03,935 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 11:25:03,964 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 11:25:03,965 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 11:25:04,041 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 11:25:04,041 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 11:25:04,042 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 11:25:33,093 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2195743292352 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:25:33,101 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 11:25:33,105 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 5bb25e10...
2025-05-27 11:25:33,106 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2195743292352 rilasciata al pool.
2025-05-27 11:25:34,277 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 11:25:34,278 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 11:25:34,279 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2195743292352 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:25:34,280 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 11:25:34,281 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2195743292352 rilasciata al pool.
2025-05-27 11:25:34,308 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 11:25:34,309 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 11:25:34,309 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 11:25:34,309 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 11:25:34,345 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 11:26:08,690 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 11:26:08,759 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 11:26:08,760 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 11:26:08,819 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 11:26:08,820 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2129279272880 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:26:08,820 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2129279272880 rilasciata al pool.
2025-05-27 11:26:08,821 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 11:26:16,866 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2129279272880 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:26:16,867 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 11:26:16,878 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 11:26:16,879 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2129279272880 rilasciata al pool.
2025-05-27 11:26:17,169 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 11:26:17,170 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2129279272880 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:26:17,182 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 551a5e15...
2025-05-27 11:26:17,183 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2129279272880 rilasciata al pool.
2025-05-27 11:26:17,184 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2129279272880 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:26:17,186 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=551a5e15...
2025-05-27 11:26:17,187 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2129279272880 rilasciata al pool.
2025-05-27 11:26:18,216 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 11:26:18,216 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 11:26:18,217 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 11:26:18,217 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 11:26:18,218 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 11:26:18,251 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2129279272880 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:26:18,252 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 11:26:18,254 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 11:26:18,254 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2129279272880 rilasciata al pool.
2025-05-27 11:26:18,390 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2129279272880 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:26:18,390 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 11:26:18,392 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 11:26:18,392 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2129279272880 rilasciata al pool.
2025-05-27 11:26:18,532 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2129279272880 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:26:18,533 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 11:26:18,536 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 11:26:18,537 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2129279272880 rilasciata al pool.
2025-05-27 11:26:18,540 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2129279272880 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:26:18,541 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 11:26:18,542 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 11:26:18,543 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2129279272880 rilasciata al pool.
2025-05-27 11:26:18,566 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2129279272880 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:26:18,567 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 11:26:18,568 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 11:26:18,569 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2129279272880 rilasciata al pool.
2025-05-27 11:26:18,604 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2129279272880 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:26:18,606 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T11:26:18.603000'::timestamp AND timestamp <= '2025-05-27T11:26:18.603000'::timestamp;
2025-05-27 11:26:18,608 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 11:26:18,632 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 11:26:18,633 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 11:26:18,713 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 11:26:18,713 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 11:26:18,713 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 11:26:30,003 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2129279274512 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:26:30,004 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 11:26:30,009 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 11:26:30,011 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2129279274512 rilasciata al pool.
2025-05-27 11:26:33,670 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s ORDER BY c.nome, p.numero_partita - Params: (2,)
2025-05-27 11:26:33,671 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2129279274512 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:26:33,689 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 557 partite.
2025-05-27 11:26:33,691 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2129279274512 rilasciata al pool.
2025-05-27 11:26:39,301 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2129279274512 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:26:39,325 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 557.
2025-05-27 11:26:39,327 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2129279274512 rilasciata al pool.
2025-05-27 11:30:43,839 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2129279274512 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:30:43,851 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 11:30:43,854 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 551a5e15...
2025-05-27 11:30:43,854 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2129279274512 rilasciata al pool.
2025-05-27 11:30:44,940 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 11:30:44,941 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 11:30:44,942 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2129279274512 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:30:44,943 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 11:30:44,944 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2129279274512 rilasciata al pool.
2025-05-27 11:30:44,971 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 11:30:44,971 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 11:30:44,973 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 11:30:44,973 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 11:30:44,994 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 11:32:08,410 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 11:32:08,602 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 11:32:08,603 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 11:32:08,774 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 11:32:08,775 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2905890506944 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:32:08,776 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2905890506944 rilasciata al pool.
2025-05-27 11:32:08,777 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 11:32:15,654 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2905890506944 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:32:15,655 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 11:32:15,665 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 11:32:15,667 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2905890506944 rilasciata al pool.
2025-05-27 11:32:15,959 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 11:32:15,960 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2905890506944 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:32:15,978 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 539a608f...
2025-05-27 11:32:15,978 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2905890506944 rilasciata al pool.
2025-05-27 11:32:15,979 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2905890506944 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:32:15,982 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=539a608f...
2025-05-27 11:32:15,983 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2905890506944 rilasciata al pool.
2025-05-27 11:32:18,797 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 11:32:18,798 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 11:32:18,798 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 11:32:18,798 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 11:32:18,799 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 11:32:18,819 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2905890506944 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:32:18,819 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 11:32:18,821 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 11:32:18,822 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2905890506944 rilasciata al pool.
2025-05-27 11:32:18,931 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2905890506944 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:32:18,932 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 11:32:18,933 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 11:32:18,934 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2905890506944 rilasciata al pool.
2025-05-27 11:32:19,050 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2905890506944 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:32:19,051 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 11:32:19,054 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 11:32:19,054 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2905890506944 rilasciata al pool.
2025-05-27 11:32:19,057 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2905890506944 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:32:19,058 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 11:32:19,059 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 11:32:19,060 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2905890506944 rilasciata al pool.
2025-05-27 11:32:19,080 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2905890506944 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:32:19,080 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 11:32:19,081 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 11:32:19,081 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2905890506944 rilasciata al pool.
2025-05-27 11:32:19,117 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2905890506944 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:32:19,118 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T11:32:19.116000'::timestamp AND timestamp <= '2025-05-27T11:32:19.116000'::timestamp;
2025-05-27 11:32:19,121 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 11:32:19,145 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 11:32:19,145 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 11:32:19,219 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 11:32:19,219 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 11:32:19,220 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 11:32:35,021 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2905890508576 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:32:35,022 - CatastoDB_catasto_storico_localhost_5432 - INFO - Tentativo di aggiungere comune: Nome='Albisola', Prov='SV', DataIst='2000-01-01', DataSopp='2000-01-01', Utente (info): 'admin'
2025-05-27 11:32:35,038 - CatastoDB_catasto_storico_localhost_5432 - ERROR - Errore DB generico aggiungendo comune 'Albisola': ERRORE:  la colonna "data_istituzione" della relazione "comune" non esiste
LINE 3:                 (nome, provincia, data_istituzione, data_sop...
                                          ^
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 334, in aggiungi_comune
    cur.execute(query, params)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: ERRORE:  la colonna "data_istituzione" della relazione "comune" non esiste
LINE 3:                 (nome, provincia, data_istituzione, data_sop...
                                          ^

2025-05-27 11:32:35,055 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2905890508576 rilasciata al pool.
2025-05-27 11:32:35,055 - CatastoGUI - ERROR - Errore database inserendo comune 'Albisola': Errore database durante l'aggiunta del comune: ERRORE:  la colonna "data_istituzione" della relazione "comune" non esiste
LINE 3:                 (nome, provincia, data_istituzione, data_sop...
                                          ^
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 334, in aggiungi_comune
    cur.execute(query, params)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: ERRORE:  la colonna "data_istituzione" della relazione "comune" non esiste
LINE 3:                 (nome, provincia, data_istituzione, data_sop...
                                          ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\prova.py", line 5376, in inserisci_comune
    comune_id = self.db_manager.aggiungi_comune(
        nome_comune=nome_comune,
    ...<4 lines>...
        utente=username_per_log
    )
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 376, in aggiungi_comune
    raise DBMError(f"Errore database durante l'aggiunta del comune: {error_detail}") from db_err
catasto_db_manager.DBMError: Errore database durante l'aggiunta del comune: ERRORE:  la colonna "data_istituzione" della relazione "comune" non esiste
LINE 3:                 (nome, provincia, data_istituzione, data_sop...
                                          ^

2025-05-27 11:32:43,456 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2905890508576 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:32:43,467 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 11:32:43,474 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 539a608f...
2025-05-27 11:32:43,475 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2905890508576 rilasciata al pool.
2025-05-27 11:32:44,698 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 11:32:44,699 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 11:32:44,700 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2905890508576 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:32:44,702 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 11:32:44,702 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2905890508576 rilasciata al pool.
2025-05-27 11:32:44,721 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 11:32:44,722 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 11:32:44,723 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 11:32:44,723 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 11:32:44,750 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 11:41:48,372 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 11:41:48,452 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 11:41:48,453 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 11:41:48,514 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 11:41:48,515 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2929269016496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:41:48,515 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2929269016496 rilasciata al pool.
2025-05-27 11:41:48,516 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 11:41:54,409 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2929269016496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:41:54,412 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 11:41:54,430 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 11:41:54,433 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2929269016496 rilasciata al pool.
2025-05-27 11:41:54,725 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 11:41:54,726 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2929269016496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:41:54,766 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione d4f1d302...
2025-05-27 11:41:54,767 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2929269016496 rilasciata al pool.
2025-05-27 11:41:54,768 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2929269016496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:41:54,771 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=d4f1d302...
2025-05-27 11:41:54,772 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2929269016496 rilasciata al pool.
2025-05-27 11:41:55,492 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 11:41:55,492 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 11:41:55,493 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 11:41:55,493 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 11:41:55,494 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 11:41:55,540 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2929269016496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:41:55,540 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 11:41:55,545 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 11:41:55,546 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2929269016496 rilasciata al pool.
2025-05-27 11:41:55,699 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2929269016496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:41:55,699 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 11:41:55,700 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 11:41:55,701 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2929269016496 rilasciata al pool.
2025-05-27 11:41:55,873 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2929269016496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:41:55,874 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 11:41:55,879 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 11:41:55,880 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2929269016496 rilasciata al pool.
2025-05-27 11:41:55,884 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2929269016496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:41:55,884 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 11:41:55,886 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 11:41:55,887 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2929269016496 rilasciata al pool.
2025-05-27 11:41:55,924 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2929269016496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:41:55,925 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 11:41:55,927 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 11:41:55,928 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2929269016496 rilasciata al pool.
2025-05-27 11:41:55,973 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2929269016496 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:41:55,974 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T11:41:55.972000'::timestamp AND timestamp <= '2025-05-27T11:41:55.972000'::timestamp;
2025-05-27 11:41:55,983 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 11:41:56,024 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 11:41:56,026 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 11:41:56,085 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 11:41:56,085 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 11:41:56,086 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 11:42:02,150 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2929269018128 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:42:02,151 - CatastoDB_catasto_storico_localhost_5432 - INFO - Tentativo di aggiungere comune: Nome='a', Prov='SV', DataIst='None', DataSopp='None', Utente (info): 'admin'
2025-05-27 11:42:02,161 - CatastoDB_catasto_storico_localhost_5432 - ERROR - Errore DB generico aggiungendo comune 'a': ERRORE:  la colonna "data_istituzione" della relazione "comune" non esiste
LINE 3:                 (nome, provincia, data_istituzione, data_sop...
                                          ^
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 334, in aggiungi_comune
    cur.execute(query, params)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: ERRORE:  la colonna "data_istituzione" della relazione "comune" non esiste
LINE 3:                 (nome, provincia, data_istituzione, data_sop...
                                          ^

2025-05-27 11:42:02,178 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2929269018128 rilasciata al pool.
2025-05-27 11:42:02,178 - CatastoGUI - ERROR - Errore DB inserendo comune 'a': Errore database durante l'aggiunta del comune: ERRORE:  la colonna "data_istituzione" della relazione "comune" non esiste
LINE 3:                 (nome, provincia, data_istituzione, data_sop...
                                          ^
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 334, in aggiungi_comune
    cur.execute(query, params)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: ERRORE:  la colonna "data_istituzione" della relazione "comune" non esiste
LINE 3:                 (nome, provincia, data_istituzione, data_sop...
                                          ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\prova.py", line 5345, in inserisci_comune
    comune_id = self.db_manager.aggiungi_comune(
        nome_comune=nome_comune,
    ...<4 lines>...
        utente=username_per_log
    )
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 376, in aggiungi_comune
    raise DBMError(f"Errore database durante l'aggiunta del comune: {error_detail}") from db_err
catasto_db_manager.DBMError: Errore database durante l'aggiunta del comune: ERRORE:  la colonna "data_istituzione" della relazione "comune" non esiste
LINE 3:                 (nome, provincia, data_istituzione, data_sop...
                                          ^

2025-05-27 11:42:20,685 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2929269018128 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:42:20,699 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 11:42:20,703 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione d4f1d302...
2025-05-27 11:42:20,704 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2929269018128 rilasciata al pool.
2025-05-27 11:42:21,700 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 11:42:21,700 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 11:42:21,701 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2929269018128 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:42:21,702 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 11:42:21,703 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2929269018128 rilasciata al pool.
2025-05-27 11:42:21,739 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 11:42:21,740 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 11:42:21,741 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 11:42:21,741 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 11:42:21,776 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 11:42:25,982 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 11:42:26,051 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 11:42:26,052 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 11:42:26,112 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 11:42:26,112 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1277030910416 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:42:26,113 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1277030910416 rilasciata al pool.
2025-05-27 11:42:26,113 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 11:42:32,143 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1277030910416 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:42:32,144 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 11:42:32,156 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 11:42:32,158 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1277030910416 rilasciata al pool.
2025-05-27 11:42:32,446 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 11:42:32,446 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1277030910416 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:42:32,471 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 8ea7d583...
2025-05-27 11:42:32,472 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1277030910416 rilasciata al pool.
2025-05-27 11:42:32,472 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1277030910416 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:42:32,474 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=8ea7d583...
2025-05-27 11:42:32,475 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1277030910416 rilasciata al pool.
2025-05-27 11:42:33,917 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 11:42:33,918 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 11:42:33,918 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 11:42:33,919 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 11:42:33,919 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 11:42:33,955 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1277030910416 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:42:33,956 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 11:42:33,958 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 11:42:33,959 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1277030910416 rilasciata al pool.
2025-05-27 11:42:34,052 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1277030910416 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:42:34,052 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 11:42:34,053 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 11:42:34,055 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1277030910416 rilasciata al pool.
2025-05-27 11:42:34,159 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1277030910416 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:42:34,160 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 11:42:34,162 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 11:42:34,163 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1277030910416 rilasciata al pool.
2025-05-27 11:42:34,167 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1277030910416 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:42:34,167 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 11:42:34,169 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 11:42:34,170 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1277030910416 rilasciata al pool.
2025-05-27 11:42:34,198 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1277030910416 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:42:34,199 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 11:42:34,200 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 11:42:34,201 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1277030910416 rilasciata al pool.
2025-05-27 11:42:34,231 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1277030910416 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:42:34,231 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T11:42:34.230000'::timestamp AND timestamp <= '2025-05-27T11:42:34.230000'::timestamp;
2025-05-27 11:42:34,233 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 11:42:34,272 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 11:42:34,272 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 11:42:34,339 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 11:42:34,340 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 11:42:34,341 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 11:42:39,487 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1277029039312 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:42:39,488 - CatastoDB_catasto_storico_localhost_5432 - INFO - DBManager: Tentativo di aggiungere comune: Nome='sa', Prov='SV', Note='None', Regione='None', PeriodoID='None', Utente (info): 'admin'
2025-05-27 11:42:39,493 - CatastoDB_catasto_storico_localhost_5432 - ERROR - Errore DB generico aggiungendo comune 'sa': ERRORE:  la colonna "note" della relazione "comune" non esiste
LINE 3:                 (nome, provincia, note, regione, periodo_id,...
                                          ^
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 305, in aggiungi_comune
    cur.execute(query, params)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: ERRORE:  la colonna "note" della relazione "comune" non esiste
LINE 3:                 (nome, provincia, note, regione, periodo_id,...
                                          ^

2025-05-27 11:42:39,506 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1277029039312 rilasciata al pool.
2025-05-27 11:42:39,507 - CatastoGUI - ERROR - Errore DB inserendo comune 'sa': Errore database durante l'aggiunta del comune: ERRORE:  la colonna "note" della relazione "comune" non esiste
LINE 3:                 (nome, provincia, note, regione, periodo_id,...
                                          ^
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 305, in aggiungi_comune
    cur.execute(query, params)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: ERRORE:  la colonna "note" della relazione "comune" non esiste
LINE 3:                 (nome, provincia, note, regione, periodo_id,...
                                          ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\prova.py", line 5345, in inserisci_comune
    comune_id = self.db_manager.aggiungi_comune(
        nome_comune=nome_comune,
    ...<4 lines>...
        utente=username_per_log
    )
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 331, in aggiungi_comune
    raise DBMError(f"Errore database durante l'aggiunta del comune: {error_detail}") from db_err
catasto_db_manager.DBMError: Errore database durante l'aggiunta del comune: ERRORE:  la colonna "note" della relazione "comune" non esiste
LINE 3:                 (nome, provincia, note, regione, periodo_id,...
                                          ^

2025-05-27 11:45:40,951 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1277029039312 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:45:40,966 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 11:45:40,971 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 8ea7d583...
2025-05-27 11:45:40,972 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1277029039312 rilasciata al pool.
2025-05-27 11:45:41,825 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 11:45:41,826 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 11:45:41,827 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1277029039312 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:45:41,829 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 11:45:41,830 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1277029039312 rilasciata al pool.
2025-05-27 11:45:41,862 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 11:45:41,863 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 11:45:41,863 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 11:45:41,863 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 11:45:41,890 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 11:45:51,831 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 11:45:51,917 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 11:45:51,917 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 11:45:52,083 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 11:45:52,084 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1682153490896 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:45:52,085 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1682153490896 rilasciata al pool.
2025-05-27 11:45:52,085 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 11:45:57,523 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1682153490896 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:45:57,524 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 11:45:57,534 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 11:45:57,535 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1682153490896 rilasciata al pool.
2025-05-27 11:45:57,838 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 11:45:57,839 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1682153490896 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:45:57,851 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 937c162a...
2025-05-27 11:45:57,853 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1682153490896 rilasciata al pool.
2025-05-27 11:45:57,853 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1682153490896 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:45:57,855 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=937c162a...
2025-05-27 11:45:57,856 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1682153490896 rilasciata al pool.
2025-05-27 11:45:59,012 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 11:45:59,012 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 11:45:59,012 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 11:45:59,013 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 11:45:59,014 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 11:45:59,042 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1682153490896 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:45:59,042 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 11:45:59,044 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 11:45:59,044 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1682153490896 rilasciata al pool.
2025-05-27 11:45:59,150 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1682153490896 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:45:59,150 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 11:45:59,151 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 11:45:59,152 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1682153490896 rilasciata al pool.
2025-05-27 11:45:59,291 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1682153490896 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:45:59,292 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 11:45:59,294 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 11:45:59,295 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1682153490896 rilasciata al pool.
2025-05-27 11:45:59,299 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1682153490896 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:45:59,299 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 11:45:59,302 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 11:45:59,303 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1682153490896 rilasciata al pool.
2025-05-27 11:45:59,321 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1682153490896 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:45:59,322 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 11:45:59,323 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 11:45:59,324 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1682153490896 rilasciata al pool.
2025-05-27 11:45:59,352 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1682153490896 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:45:59,352 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T11:45:59.351000'::timestamp AND timestamp <= '2025-05-27T11:45:59.351000'::timestamp;
2025-05-27 11:45:59,354 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 11:45:59,379 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 11:45:59,380 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 11:45:59,448 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 11:45:59,448 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 11:45:59,449 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 11:46:05,398 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1682151538144 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:46:05,399 - CatastoDB_catasto_storico_localhost_5432 - INFO - DBManager: Tentativo di aggiungere comune: Nome='sa', Prov='SV', Regione='None', PeriodoID='None', Utente (info): 'admin'
2025-05-27 11:46:05,409 - CatastoDB_catasto_storico_localhost_5432 - ERROR - Errore DB generico aggiungendo comune 'sa': ERRORE:  il valore nullo nella colonna "regione" della relazione "comune" viola il vincolo non nullo
DETAIL:  La riga in errore contiene (11, sa, SV, null, 2025-05-27 11:46:05.40006, 2025-05-27 11:46:05.40006, null).
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 300, in aggiungi_comune
    cur.execute(query, params)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: ERRORE:  il valore nullo nella colonna "regione" della relazione "comune" viola il vincolo non nullo
DETAIL:  La riga in errore contiene (11, sa, SV, null, 2025-05-27 11:46:05.40006, 2025-05-27 11:46:05.40006, null).

2025-05-27 11:46:05,424 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1682151538144 rilasciata al pool.
2025-05-27 11:46:05,425 - CatastoGUI - ERROR - Errore DB inserendo comune 'sa': Errore database durante l'aggiunta del comune: ERRORE:  il valore nullo nella colonna "regione" della relazione "comune" viola il vincolo non nullo
DETAIL:  La riga in errore contiene (11, sa, SV, null, 2025-05-27 11:46:05.40006, 2025-05-27 11:46:05.40006, null).
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 300, in aggiungi_comune
    cur.execute(query, params)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: ERRORE:  il valore nullo nella colonna "regione" della relazione "comune" viola il vincolo non nullo
DETAIL:  La riga in errore contiene (11, sa, SV, null, 2025-05-27 11:46:05.40006, 2025-05-27 11:46:05.40006, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\prova.py", line 5353, in inserisci_comune
    comune_id = self.db_manager.aggiungi_comune(
        nome_comune=nome_comune,
    ...<5 lines>...
        utente=username_per_log
    )
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 334, in aggiungi_comune
    raise DBMError(f"Errore database durante l'aggiunta del comune: {error_detail}") from db_err
catasto_db_manager.DBMError: Errore database durante l'aggiunta del comune: ERRORE:  il valore nullo nella colonna "regione" della relazione "comune" viola il vincolo non nullo
DETAIL:  La riga in errore contiene (11, sa, SV, null, 2025-05-27 11:46:05.40006, 2025-05-27 11:46:05.40006, null).

2025-05-27 11:46:23,430 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1682151538144 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:46:23,430 - CatastoDB_catasto_storico_localhost_5432 - INFO - DBManager: Tentativo di aggiungere comune: Nome='Savona', Prov='GE', Regione='None', PeriodoID='None', Utente (info): 'admin'
2025-05-27 11:46:23,432 - CatastoDB_catasto_storico_localhost_5432 - ERROR - Errore DB generico aggiungendo comune 'Savona': ERRORE:  il valore nullo nella colonna "regione" della relazione "comune" viola il vincolo non nullo
DETAIL:  La riga in errore contiene (12, Savona, GE, null, 2025-05-27 11:46:23.431232, 2025-05-27 11:46:23.431232, null).
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 300, in aggiungi_comune
    cur.execute(query, params)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: ERRORE:  il valore nullo nella colonna "regione" della relazione "comune" viola il vincolo non nullo
DETAIL:  La riga in errore contiene (12, Savona, GE, null, 2025-05-27 11:46:23.431232, 2025-05-27 11:46:23.431232, null).

2025-05-27 11:46:23,434 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1682151538144 rilasciata al pool.
2025-05-27 11:46:23,434 - CatastoGUI - ERROR - Errore DB inserendo comune 'Savona': Errore database durante l'aggiunta del comune: ERRORE:  il valore nullo nella colonna "regione" della relazione "comune" viola il vincolo non nullo
DETAIL:  La riga in errore contiene (12, Savona, GE, null, 2025-05-27 11:46:23.431232, 2025-05-27 11:46:23.431232, null).
Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 300, in aggiungi_comune
    cur.execute(query, params)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: ERRORE:  il valore nullo nella colonna "regione" della relazione "comune" viola il vincolo non nullo
DETAIL:  La riga in errore contiene (12, Savona, GE, null, 2025-05-27 11:46:23.431232, 2025-05-27 11:46:23.431232, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\saint\catasto\gemini\prova.py", line 5353, in inserisci_comune
    comune_id = self.db_manager.aggiungi_comune(
        nome_comune=nome_comune,
    ...<5 lines>...
        utente=username_per_log
    )
  File "C:\Users\saint\catasto\gemini\catasto_db_manager.py", line 334, in aggiungi_comune
    raise DBMError(f"Errore database durante l'aggiunta del comune: {error_detail}") from db_err
catasto_db_manager.DBMError: Errore database durante l'aggiunta del comune: ERRORE:  il valore nullo nella colonna "regione" della relazione "comune" viola il vincolo non nullo
DETAIL:  La riga in errore contiene (12, Savona, GE, null, 2025-05-27 11:46:23.431232, 2025-05-27 11:46:23.431232, null).

2025-05-27 11:46:30,020 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1682151538144 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:46:30,028 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 11:46:30,045 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 937c162a...
2025-05-27 11:46:30,046 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1682151538144 rilasciata al pool.
2025-05-27 11:46:30,965 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 11:46:30,965 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 11:46:30,966 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1682151538144 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:46:30,968 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 11:46:30,969 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1682151538144 rilasciata al pool.
2025-05-27 11:46:30,992 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 11:46:30,992 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 11:46:30,993 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 11:46:30,993 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 11:46:31,013 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 11:52:23,129 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 11:52:23,306 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 11:52:23,307 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 11:52:23,368 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 11:52:23,369 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2153070020800 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:52:23,370 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2153070020800 rilasciata al pool.
2025-05-27 11:52:23,370 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 11:52:28,885 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2153070020800 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:52:28,888 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 11:52:28,903 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 11:52:28,906 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2153070020800 rilasciata al pool.
2025-05-27 11:52:29,198 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 11:52:29,198 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2153070020800 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:52:29,249 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 24ec76a0...
2025-05-27 11:52:29,250 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2153070020800 rilasciata al pool.
2025-05-27 11:52:29,251 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2153070020800 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:52:29,255 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=24ec76a0...
2025-05-27 11:52:29,256 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2153070020800 rilasciata al pool.
2025-05-27 11:52:30,033 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 11:52:30,034 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 11:52:30,034 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 11:52:30,035 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 11:52:30,035 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 11:52:30,077 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2153070020800 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:52:30,077 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 11:52:30,080 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni per get_all_comuni_details.
2025-05-27 11:52:30,081 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2153070020800 rilasciata al pool.
2025-05-27 11:52:30,218 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2153070020800 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:52:30,219 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 11:52:30,220 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 comuni (search_term: 'None').
2025-05-27 11:52:30,221 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2153070020800 rilasciata al pool.
2025-05-27 11:52:30,402 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2153070020800 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:52:30,403 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 11:52:30,407 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 11:52:30,408 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2153070020800 rilasciata al pool.
2025-05-27 11:52:30,410 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2153070020800 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:52:30,410 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 11:52:30,412 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 11:52:30,413 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2153070020800 rilasciata al pool.
2025-05-27 11:52:30,433 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2153070020800 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:52:30,434 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 11:52:30,435 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 11:52:30,436 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2153070020800 rilasciata al pool.
2025-05-27 11:52:30,463 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2153070020800 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:52:30,464 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T11:52:30.462000'::timestamp AND timestamp <= '2025-05-27T11:52:30.462000'::timestamp;
2025-05-27 11:52:30,468 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 11:52:30,514 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 11:52:30,514 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 11:52:30,583 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 11:52:30,583 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 11:52:30,584 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 11:52:43,395 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2153070022432 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:52:43,395 - CatastoDB_catasto_storico_localhost_5432 - INFO - DBManager: Tentativo di aggiungere comune: Nome='sad', Prov='SV', Regione='asd', PeriodoID='1', Utente (info): 'admin'
2025-05-27 11:52:43,411 - CatastoDB_catasto_storico_localhost_5432 - INFO - Comune 'sad' aggiunto con successo. ID: 13.
2025-05-27 11:52:43,412 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2153070022432 rilasciata al pool.
2025-05-27 11:52:45,562 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2153070022432 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 11:52:45,563 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 11:52:45,568 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 9 comuni per get_all_comuni_details.
2025-05-27 11:52:45,569 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2153070022432 rilasciata al pool.
2025-05-27 11:52:45,571 - CatastoGUI - INFO - Elenco comuni nel tab consultazione aggiornato.
2025-05-27 12:01:10,101 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2153070022432 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:01:10,142 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 12:01:10,144 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 24ec76a0...
2025-05-27 12:01:10,145 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2153070022432 rilasciata al pool.
2025-05-27 12:01:11,158 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 12:01:11,160 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 12:01:11,161 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2153070022432 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:01:11,163 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 12:01:11,165 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2153070022432 rilasciata al pool.
2025-05-27 12:01:11,262 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 12:01:11,264 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 12:01:11,265 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 12:01:11,265 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 12:01:11,277 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 12:01:17,093 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 12:01:17,166 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 12:01:17,166 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 12:01:17,226 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 12:01:17,227 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1571803089088 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:01:17,227 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1571803089088 rilasciata al pool.
2025-05-27 12:01:17,228 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 12:01:22,916 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1571803089088 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:01:22,917 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 12:01:22,928 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 12:01:22,930 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1571803089088 rilasciata al pool.
2025-05-27 12:01:23,230 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 12:01:23,231 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1571803089088 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:01:23,253 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 30cf7fcb...
2025-05-27 12:01:23,253 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1571803089088 rilasciata al pool.
2025-05-27 12:01:23,253 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1571803089088 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:01:23,254 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=30cf7fcb...
2025-05-27 12:01:23,254 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1571803089088 rilasciata al pool.
2025-05-27 12:01:23,935 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 12:01:23,935 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 12:01:23,935 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 12:01:23,936 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 12:01:23,937 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 12:01:23,982 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1571803089088 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:01:23,986 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 12:01:23,995 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 9 comuni per get_all_comuni_details.
2025-05-27 12:01:23,997 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1571803089088 rilasciata al pool.
2025-05-27 12:01:24,147 - CatastoDB - ERROR - Errore Python get_historical_periods: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-27 12:01:24,160 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1571803089088 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:01:24,160 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 12:01:24,161 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 9 comuni (search_term: 'None').
2025-05-27 12:01:24,162 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1571803089088 rilasciata al pool.
2025-05-27 12:01:24,356 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1571803089088 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:01:24,357 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 12:01:24,361 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 12:01:24,362 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1571803089088 rilasciata al pool.
2025-05-27 12:01:24,365 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1571803089088 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:01:24,365 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 12:01:24,367 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 12:01:24,368 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1571803089088 rilasciata al pool.
2025-05-27 12:01:24,414 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1571803089088 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:01:24,415 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 12:01:24,416 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 12:01:24,417 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1571803089088 rilasciata al pool.
2025-05-27 12:01:24,470 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1571803089088 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:01:24,471 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T12:01:24.468000'::timestamp AND timestamp <= '2025-05-27T12:01:24.469000'::timestamp;
2025-05-27 12:01:24,476 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 12:01:24,535 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 12:01:24,536 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 12:01:24,609 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 12:01:24,610 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 12:01:24,611 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 12:01:32,875 - CatastoDB - ERROR - Errore Python get_historical_periods: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-27 12:01:46,708 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1571803090720 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:01:46,708 - CatastoDB_catasto_storico_localhost_5432 - INFO - DBManager: Tentativo di aggiungere comune: Nome='sa', Prov='SV', Regione='sa', PeriodoID='1', Utente (info): 'admin'
2025-05-27 12:01:46,720 - CatastoDB_catasto_storico_localhost_5432 - INFO - Comune 'sa' aggiunto con successo. ID: 14.
2025-05-27 12:01:46,720 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1571803090720 rilasciata al pool.
2025-05-27 12:01:47,939 - CatastoDB - ERROR - Errore Python get_historical_periods: 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-27 12:01:47,948 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1571803090720 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:01:47,948 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 12:01:47,955 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 10 comuni per get_all_comuni_details.
2025-05-27 12:01:47,956 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1571803090720 rilasciata al pool.
2025-05-27 12:01:47,958 - CatastoGUI - INFO - Elenco comuni nel tab consultazione aggiornato.
2025-05-27 12:12:12,097 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1571803090720 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:12:12,122 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 12:12:12,124 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 30cf7fcb...
2025-05-27 12:12:12,124 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1571803090720 rilasciata al pool.
2025-05-27 12:12:13,339 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 12:12:13,342 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 12:12:13,342 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1571803090720 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:12:13,346 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 12:12:13,346 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1571803090720 rilasciata al pool.
2025-05-27 12:12:13,455 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 12:12:13,460 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 12:12:13,462 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 12:12:13,462 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 12:12:13,483 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 12:12:26,749 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 12:12:26,820 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 12:12:26,821 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 12:12:26,882 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 12:12:26,883 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1912833051088 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:12:26,884 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1912833051088 rilasciata al pool.
2025-05-27 12:12:26,885 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 12:12:32,375 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1912833051088 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:12:32,377 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 12:12:32,398 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 12:12:32,400 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1912833051088 rilasciata al pool.
2025-05-27 12:12:32,687 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 12:12:32,688 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1912833051088 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:12:32,715 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 3db1e2fa...
2025-05-27 12:12:32,715 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1912833051088 rilasciata al pool.
2025-05-27 12:12:32,716 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1912833051088 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:12:32,718 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=3db1e2fa...
2025-05-27 12:12:32,719 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1912833051088 rilasciata al pool.
2025-05-27 12:12:33,618 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 12:12:33,619 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 12:12:33,619 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 12:12:33,619 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 12:12:33,620 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 12:12:33,649 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1912833051088 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:12:33,649 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 12:12:33,651 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 10 comuni per get_all_comuni_details.
2025-05-27 12:12:33,652 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1912833051088 rilasciata al pool.
2025-05-27 12:12:33,744 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1912833051088 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:12:33,745 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_historical_periods: SELECT id, nome, anno_inizio, anno_fine, descrizione FROM catasto.periodo_storico ORDER BY anno_inizio;
2025-05-27 12:12:33,747 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 9 periodi storici.
2025-05-27 12:12:33,748 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1912833051088 rilasciata al pool.
2025-05-27 12:12:33,756 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1912833051088 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:12:33,756 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 12:12:33,757 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 10 comuni (search_term: 'None').
2025-05-27 12:12:33,758 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1912833051088 rilasciata al pool.
2025-05-27 12:12:33,888 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1912833051088 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:12:33,889 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 12:12:33,892 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 12:12:33,892 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1912833051088 rilasciata al pool.
2025-05-27 12:12:33,895 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1912833051088 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:12:33,896 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 12:12:33,898 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 12:12:33,898 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1912833051088 rilasciata al pool.
2025-05-27 12:12:33,919 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1912833051088 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:12:33,920 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 12:12:33,921 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 12:12:33,922 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1912833051088 rilasciata al pool.
2025-05-27 12:12:33,945 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1912833051088 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:12:33,946 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T12:12:33.945000'::timestamp AND timestamp <= '2025-05-27T12:12:33.945000'::timestamp;
2025-05-27 12:12:33,950 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 12:12:33,988 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 12:12:33,988 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 12:12:34,066 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 12:12:34,068 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 12:12:34,069 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 12:12:39,820 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1912831196640 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:12:39,821 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_historical_periods: SELECT id, nome, anno_inizio, anno_fine, descrizione FROM catasto.periodo_storico ORDER BY anno_inizio;
2025-05-27 12:12:39,826 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 9 periodi storici.
2025-05-27 12:12:39,827 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1912831196640 rilasciata al pool.
2025-05-27 12:18:44,225 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1912831196640 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:18:44,250 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 12:18:44,268 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 3db1e2fa...
2025-05-27 12:18:44,269 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1912831196640 rilasciata al pool.
2025-05-27 12:18:45,339 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 12:18:45,342 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 12:18:45,342 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1912831196640 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:18:45,344 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 12:18:45,345 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1912831196640 rilasciata al pool.
2025-05-27 12:18:45,426 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 12:18:45,429 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 12:18:45,430 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 12:18:45,430 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 12:18:45,456 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 12:18:51,399 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 12:18:51,500 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 12:18:51,501 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 12:18:51,564 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 12:18:51,565 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2939265386960 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:18:51,566 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2939265386960 rilasciata al pool.
2025-05-27 12:18:51,566 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 12:18:57,304 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2939265386960 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:18:57,305 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 12:18:57,315 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 12:18:57,316 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2939265386960 rilasciata al pool.
2025-05-27 12:18:57,605 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 12:18:57,605 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2939265386960 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:18:57,619 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 0c17a5f5...
2025-05-27 12:18:57,620 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2939265386960 rilasciata al pool.
2025-05-27 12:18:57,621 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2939265386960 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:18:57,623 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=0c17a5f5...
2025-05-27 12:18:57,624 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2939265386960 rilasciata al pool.
2025-05-27 12:18:58,782 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 12:18:58,782 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 12:18:58,782 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 12:18:58,783 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 12:18:58,783 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 12:18:58,817 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2939265386960 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:18:58,818 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 12:18:58,820 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 10 comuni per get_all_comuni_details.
2025-05-27 12:18:58,820 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2939265386960 rilasciata al pool.
2025-05-27 12:26:57,727 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 12:26:57,798 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 12:26:57,798 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 12:26:57,862 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 12:26:57,862 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2377794193600 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:26:57,863 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2377794193600 rilasciata al pool.
2025-05-27 12:26:57,864 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 12:27:04,142 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2377794193600 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:27:04,144 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 12:27:04,165 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 12:27:04,167 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2377794193600 rilasciata al pool.
2025-05-27 12:27:04,458 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 12:27:04,458 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2377794193600 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:27:04,494 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 77f543b0...
2025-05-27 12:27:04,495 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2377794193600 rilasciata al pool.
2025-05-27 12:27:04,496 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2377794193600 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:27:04,498 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=77f543b0...
2025-05-27 12:27:04,498 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2377794193600 rilasciata al pool.
2025-05-27 12:27:05,879 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 12:27:05,880 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 12:27:05,880 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 12:27:05,880 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 12:27:05,881 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 12:27:05,935 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2377794193600 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:27:05,935 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 12:27:05,940 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 10 comuni per get_all_comuni_details.
2025-05-27 12:27:05,941 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2377794193600 rilasciata al pool.
2025-05-27 12:27:06,093 - CatastoGUI - INFO - Chiamata a db_manager.get_historical_periods()...
2025-05-27 12:27:06,094 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2377794193600 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:27:06,095 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_historical_periods: SELECT id, nome, anno_inizio, anno_fine, descrizione FROM catasto.periodo_storico ORDER BY anno_inizio;
2025-05-27 12:27:06,098 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 9 periodi storici.
2025-05-27 12:27:06,099 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2377794193600 rilasciata al pool.
2025-05-27 12:27:06,100 - CatastoGUI - INFO - Elenco periodi ricevuto da DBManager (tipo: <class 'list'>): [{'id': 4, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 1, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 7, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 5, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 2, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 8, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 3, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 9, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 6, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}]
2025-05-27 12:27:06,101 - CatastoGUI - INFO - Numero di periodi ricevuti: 9
2025-05-27 12:27:06,120 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2377794193600 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:27:06,121 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 12:27:06,123 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 10 comuni (search_term: 'None').
2025-05-27 12:27:06,124 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2377794193600 rilasciata al pool.
2025-05-27 12:27:06,333 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2377794193600 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:27:06,334 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 12:27:06,338 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 12:27:06,338 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2377794193600 rilasciata al pool.
2025-05-27 12:27:06,341 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2377794193600 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:27:06,341 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 12:27:06,344 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 12:27:06,344 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2377794193600 rilasciata al pool.
2025-05-27 12:27:06,369 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2377794193600 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:27:06,369 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 12:27:06,371 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 12:27:06,371 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2377794193600 rilasciata al pool.
2025-05-27 12:27:06,417 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2377794193600 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:27:06,418 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T12:27:06.415000'::timestamp AND timestamp <= '2025-05-27T12:27:06.416000'::timestamp;
2025-05-27 12:27:06,424 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 12:27:06,477 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 12:27:06,478 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 12:27:06,564 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 12:27:06,565 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 12:27:06,565 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 12:27:44,964 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 12:27:45,032 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 12:27:45,032 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 12:27:45,094 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 12:27:45,095 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584387455168 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:27:45,095 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584387455168 rilasciata al pool.
2025-05-27 12:27:45,096 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 12:27:49,172 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584387455168 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:27:49,172 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 12:27:49,182 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 12:27:49,183 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584387455168 rilasciata al pool.
2025-05-27 12:27:49,472 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 12:27:49,472 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584387455168 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:27:49,484 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 8477f54d...
2025-05-27 12:27:49,485 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584387455168 rilasciata al pool.
2025-05-27 12:27:49,486 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584387455168 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:27:49,488 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=8477f54d...
2025-05-27 12:27:49,489 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584387455168 rilasciata al pool.
2025-05-27 12:27:50,799 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 12:27:50,800 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 12:27:50,801 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 12:27:50,802 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 12:27:50,803 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 12:27:50,842 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584387455168 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:27:50,842 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 12:27:50,844 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 10 comuni per get_all_comuni_details.
2025-05-27 12:27:50,845 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584387455168 rilasciata al pool.
2025-05-27 12:27:50,979 - CatastoGUI - INFO - Chiamata a db_manager.get_historical_periods()...
2025-05-27 12:27:50,979 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584387455168 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:27:50,980 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_historical_periods: SELECT id, nome, anno_inizio, anno_fine, descrizione FROM catasto.periodo_storico ORDER BY anno_inizio;
2025-05-27 12:27:50,982 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 9 periodi storici.
2025-05-27 12:27:50,982 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584387455168 rilasciata al pool.
2025-05-27 12:27:50,983 - CatastoGUI - INFO - Elenco periodi ricevuto da DBManager (tipo: <class 'list'>): [{'id': 4, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 1, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 7, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 5, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 2, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 8, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 3, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 9, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 6, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}]
2025-05-27 12:27:50,983 - CatastoGUI - INFO - Numero di periodi ricevuti: 9
2025-05-27 12:27:51,002 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584387455168 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:27:51,003 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 12:27:51,004 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 10 comuni (search_term: 'None').
2025-05-27 12:27:51,005 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584387455168 rilasciata al pool.
2025-05-27 12:27:51,156 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584387455168 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:27:51,157 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 12:27:51,159 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 12:27:51,160 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584387455168 rilasciata al pool.
2025-05-27 12:27:51,162 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584387455168 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:27:51,162 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 12:27:51,164 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 12:27:51,165 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584387455168 rilasciata al pool.
2025-05-27 12:27:51,187 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584387455168 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:27:51,187 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 12:27:51,188 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 12:27:51,189 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584387455168 rilasciata al pool.
2025-05-27 12:27:51,226 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584387455168 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:27:51,226 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T12:27:51.225000'::timestamp AND timestamp <= '2025-05-27T12:27:51.225000'::timestamp;
2025-05-27 12:27:51,228 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 12:27:51,270 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 12:27:51,271 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 12:27:51,359 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 12:27:51,360 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 12:27:51,360 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 12:27:55,434 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584387456800 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:27:55,435 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_periodo_storico_details per ID: 1
2025-05-27 12:27:55,440 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli recuperati per periodo storico ID 1.
2025-05-27 12:27:55,441 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584387456800 rilasciata al pool.
2025-05-27 12:27:57,822 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584387456800 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:27:57,823 - CatastoDB_catasto_storico_localhost_5432 - INFO - Tentativo di aggiornare periodo storico ID 1 con dati: {'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√  d'Italia", 'anno_fine': 1861}
2025-05-27 12:27:57,836 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584387456800 rilasciata al pool.
2025-05-27 12:27:57,837 - CatastoGUI - ERROR - Errore salvataggio periodo storico ID 1: Errore database aggiornando periodo storico ID 1: ERRORE:  la colonna "data_modifica" della relazione "periodo_storico" non esiste
LINE 1: ... Regno di Sardegna prima dell''unit√  d''Italia', data_modif...
                                                             ^

2025-05-27 12:28:00,194 - CatastoGUI - INFO - Dialogo dettagli/modifica periodo ID 1 annullato o chiuso.
2025-05-27 12:28:01,795 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584387456800 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:28:01,807 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 12:28:01,809 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 8477f54d...
2025-05-27 12:28:01,810 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584387456800 rilasciata al pool.
2025-05-27 12:28:02,818 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 12:28:02,819 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 12:28:02,819 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584387456800 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:28:02,820 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 12:28:02,821 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2584387456800 rilasciata al pool.
2025-05-27 12:28:02,840 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 12:28:02,841 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 12:28:02,841 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 12:28:02,842 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 12:28:02,858 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 12:56:15,501 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 12:56:15,638 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 12:56:15,639 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 12:56:15,714 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 12:56:15,715 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126195904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:56:15,716 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126195904 rilasciata al pool.
2025-05-27 12:56:15,717 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 12:56:29,909 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126195904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:56:29,910 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 12:56:29,985 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 12:56:29,989 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126195904 rilasciata al pool.
2025-05-27 12:56:30,313 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 12:56:30,314 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126195904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:56:30,374 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione c27423c7...
2025-05-27 12:56:30,374 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126195904 rilasciata al pool.
2025-05-27 12:56:30,375 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126195904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:56:30,379 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=c27423c7...
2025-05-27 12:56:30,380 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126195904 rilasciata al pool.
2025-05-27 12:56:32,848 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 12:56:32,849 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 12:56:32,849 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 12:56:32,851 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 12:56:32,852 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 12:56:32,951 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126195904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:56:32,952 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 12:56:32,975 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 10 comuni per get_all_comuni_details.
2025-05-27 12:56:32,976 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126195904 rilasciata al pool.
2025-05-27 12:56:33,277 - CatastoGUI - INFO - Chiamata a db_manager.get_historical_periods()...
2025-05-27 12:56:33,277 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126195904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:56:33,278 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_historical_periods: SELECT id, nome, anno_inizio, anno_fine, descrizione FROM catasto.periodo_storico ORDER BY anno_inizio;
2025-05-27 12:56:33,285 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 9 periodi storici.
2025-05-27 12:56:33,286 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126195904 rilasciata al pool.
2025-05-27 12:56:33,287 - CatastoGUI - INFO - Elenco periodi ricevuto da DBManager (tipo: <class 'list'>): [{'id': 4, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 1, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 7, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 5, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 2, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 8, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 3, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 9, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 6, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}]
2025-05-27 12:56:33,289 - CatastoGUI - INFO - Numero di periodi ricevuti: 9
2025-05-27 12:56:33,315 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126195904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:56:33,316 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 12:56:33,318 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 10 comuni (search_term: 'None').
2025-05-27 12:56:33,320 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126195904 rilasciata al pool.
2025-05-27 12:56:33,648 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126195904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:56:33,651 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 12:56:33,664 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 12:56:33,664 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126195904 rilasciata al pool.
2025-05-27 12:56:33,667 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126195904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:56:33,668 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 12:56:33,680 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 12:56:33,681 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126195904 rilasciata al pool.
2025-05-27 12:56:33,725 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126195904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:56:33,727 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 12:56:33,730 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 12:56:33,732 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126195904 rilasciata al pool.
2025-05-27 12:56:33,817 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126195904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:56:33,818 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T12:56:33.815000'::timestamp AND timestamp <= '2025-05-27T12:56:33.815000'::timestamp;
2025-05-27 12:56:33,839 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 12:56:33,923 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 12:56:33,928 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 12:56:34,042 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 12:56:34,046 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 12:56:34,048 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 12:56:39,866 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126197536 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:56:39,867 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_periodo_storico_details per ID: 7
2025-05-27 12:56:39,873 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli recuperati per periodo storico ID 7.
2025-05-27 12:56:39,874 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126197536 rilasciata al pool.
2025-05-27 12:56:43,252 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126197536 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:56:43,253 - CatastoDB_catasto_storico_localhost_5432 - INFO - Tentativo di aggiornare periodo storico ID 7 con dati: {'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√  d'Italia", 'anno_fine': 1861}
2025-05-27 12:56:43,276 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126197536 rilasciata al pool.
2025-05-27 12:56:43,277 - CatastoGUI - ERROR - Errore salvataggio periodo storico ID 7: Errore database aggiornando periodo storico ID 7: ERRORE:  la colonna "data_modifica" della relazione "periodo_storico" non esiste
LINE 1: ... Regno di Sardegna prima dell''unit√  d''Italia', data_modif...
                                                             ^

2025-05-27 12:56:52,949 - CatastoGUI - INFO - Dialogo dettagli/modifica periodo ID 7 annullato o chiuso.
2025-05-27 12:56:57,106 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126197536 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:56:57,107 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_periodo_storico_details per ID: 7
2025-05-27 12:56:57,109 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli recuperati per periodo storico ID 7.
2025-05-27 12:56:57,111 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126197536 rilasciata al pool.
2025-05-27 12:57:03,728 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126197536 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:57:03,729 - CatastoDB_catasto_storico_localhost_5432 - INFO - Tentativo di aggiornare periodo storico ID 7 con dati: {'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√  d'Italia", 'anno_fine': 1860}
2025-05-27 12:57:03,731 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126197536 rilasciata al pool.
2025-05-27 12:57:03,732 - CatastoGUI - ERROR - Errore salvataggio periodo storico ID 7: Errore database aggiornando periodo storico ID 7: ERRORE:  la colonna "data_modifica" della relazione "periodo_storico" non esiste
LINE 1: ... Regno di Sardegna prima dell''unit√  d''Italia', data_modif...
                                                             ^

2025-05-27 12:57:09,451 - CatastoGUI - INFO - Dialogo dettagli/modifica periodo ID 7 annullato o chiuso.
2025-05-27 12:57:11,685 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126197536 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:57:11,742 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 12:57:11,748 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione c27423c7...
2025-05-27 12:57:11,749 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126197536 rilasciata al pool.
2025-05-27 12:57:12,923 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 12:57:12,924 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 12:57:12,925 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126197536 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 12:57:12,927 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 12:57:12,928 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1656126197536 rilasciata al pool.
2025-05-27 12:57:12,961 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 12:57:12,962 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 12:57:12,962 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 12:57:12,962 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 12:57:12,982 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 13:03:04,611 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 13:03:04,717 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 13:03:04,717 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 13:03:04,794 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 13:03:04,795 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685411695056 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:03:04,796 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685411695056 rilasciata al pool.
2025-05-27 13:03:04,796 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 13:03:14,663 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685411695056 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:03:14,665 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 13:03:14,735 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 13:03:14,738 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685411695056 rilasciata al pool.
2025-05-27 13:03:15,135 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 13:03:15,137 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685411695056 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:03:15,174 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione cc0149ad...
2025-05-27 13:03:15,175 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685411695056 rilasciata al pool.
2025-05-27 13:03:15,176 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685411695056 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:03:15,179 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=cc0149ad...
2025-05-27 13:03:15,180 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685411695056 rilasciata al pool.
2025-05-27 13:03:17,088 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 13:03:17,089 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 13:03:17,089 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 13:03:17,090 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 13:03:17,092 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 13:03:17,179 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685411695056 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:03:17,181 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 13:03:17,195 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 10 comuni per get_all_comuni_details.
2025-05-27 13:03:17,196 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685411695056 rilasciata al pool.
2025-05-27 13:03:17,503 - CatastoGUI - INFO - Chiamata a db_manager.get_historical_periods()...
2025-05-27 13:03:17,504 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685411695056 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:03:17,505 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_historical_periods: SELECT id, nome, anno_inizio, anno_fine, descrizione FROM catasto.periodo_storico ORDER BY anno_inizio;
2025-05-27 13:03:17,507 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 9 periodi storici.
2025-05-27 13:03:17,507 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685411695056 rilasciata al pool.
2025-05-27 13:03:17,510 - CatastoGUI - INFO - Elenco periodi ricevuto da DBManager (tipo: <class 'list'>): [{'id': 4, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 1, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 7, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 5, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 2, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 8, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 3, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 9, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 6, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}]
2025-05-27 13:03:17,511 - CatastoGUI - INFO - Numero di periodi ricevuti: 9
2025-05-27 13:03:17,540 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685411695056 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:03:17,543 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 13:03:17,545 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 10 comuni (search_term: 'None').
2025-05-27 13:03:17,548 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685411695056 rilasciata al pool.
2025-05-27 13:03:17,950 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685411695056 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:03:17,951 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 13:03:17,957 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 13:03:17,959 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685411695056 rilasciata al pool.
2025-05-27 13:03:17,962 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685411695056 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:03:17,962 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 13:03:17,965 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 13:03:17,966 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685411695056 rilasciata al pool.
2025-05-27 13:03:17,989 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685411695056 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:03:17,990 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 13:03:17,992 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 13:03:17,993 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685411695056 rilasciata al pool.
2025-05-27 13:03:18,016 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685411695056 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:03:18,017 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T13:03:18.015000'::timestamp AND timestamp <= '2025-05-27T13:03:18.016000'::timestamp;
2025-05-27 13:03:18,025 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 13:03:18,112 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 13:03:18,115 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 13:03:18,253 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 13:03:18,255 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 13:03:18,256 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 13:03:23,638 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685409791456 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:03:23,639 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_periodo_storico_details per ID: 1
2025-05-27 13:03:23,644 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli recuperati per periodo storico ID 1.
2025-05-27 13:03:23,646 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685409791456 rilasciata al pool.
2025-05-27 13:03:25,801 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685409791456 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:03:25,802 - CatastoDB_catasto_storico_localhost_5432 - INFO - Tentativo di aggiornare periodo storico ID 1 con dati: {'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√  d'Italia", 'anno_fine': 1861}
2025-05-27 13:03:25,803 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query update_periodo_storico: UPDATE catasto.periodo_storico SET nome = 'Regno di Sardegna', anno_inizio = 1720, anno_fine = 1861, descrizione = 'Periodo del Regno di Sardegna prima dell''unit√  d''Italia' WHERE id = 1;
2025-05-27 13:03:25,853 - CatastoDB_catasto_storico_localhost_5432 - INFO - Periodo storico ID 1 aggiornato con successo (o i valori erano identici).
2025-05-27 13:03:25,854 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685409791456 rilasciata al pool.
2025-05-27 13:03:28,529 - CatastoGUI - INFO - Dialogo dettagli/modifica periodo ID 1 chiuso con successo. Aggiorno elenco periodi.
2025-05-27 13:03:28,531 - CatastoGUI - INFO - Chiamata a db_manager.get_historical_periods()...
2025-05-27 13:03:28,532 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685409791456 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:03:28,533 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_historical_periods: SELECT id, nome, anno_inizio, anno_fine, descrizione FROM catasto.periodo_storico ORDER BY anno_inizio;
2025-05-27 13:03:28,536 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 9 periodi storici.
2025-05-27 13:03:28,537 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685409791456 rilasciata al pool.
2025-05-27 13:03:28,538 - CatastoGUI - INFO - Elenco periodi ricevuto da DBManager (tipo: <class 'list'>): [{'id': 1, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√  d'Italia"}, {'id': 7, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 4, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 2, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 5, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 8, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 3, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 9, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 6, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}]
2025-05-27 13:03:28,538 - CatastoGUI - INFO - Numero di periodi ricevuti: 9
2025-05-27 13:03:37,547 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685409791456 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:03:37,548 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_periodo_storico_details per ID: 1
2025-05-27 13:03:37,549 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli recuperati per periodo storico ID 1.
2025-05-27 13:03:37,550 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685409791456 rilasciata al pool.
2025-05-27 13:03:41,259 - CatastoGUI - INFO - Dialogo dettagli/modifica periodo ID 1 annullato o chiuso.
2025-05-27 13:04:06,967 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685409791456 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:04:06,979 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 13:04:06,986 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione cc0149ad...
2025-05-27 13:04:06,986 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685409791456 rilasciata al pool.
2025-05-27 13:04:08,157 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 13:04:08,158 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 13:04:08,159 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685409791456 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:04:08,162 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 13:04:08,163 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1685409791456 rilasciata al pool.
2025-05-27 13:04:08,210 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 13:04:08,211 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 13:04:08,212 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 13:04:08,213 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 13:04:08,240 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 13:04:22,257 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 13:04:22,359 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 13:08:15,997 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 13:08:16,164 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 13:08:16,164 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 13:08:16,263 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 13:08:16,264 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643955904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:08:16,265 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643955904 rilasciata al pool.
2025-05-27 13:08:16,266 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 13:08:28,932 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643955904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:08:28,934 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 13:08:28,989 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 13:08:28,992 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643955904 rilasciata al pool.
2025-05-27 13:08:29,387 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 13:08:29,387 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643955904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:08:29,447 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 80d68210...
2025-05-27 13:08:29,448 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643955904 rilasciata al pool.
2025-05-27 13:08:29,448 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643955904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:08:29,452 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=80d68210...
2025-05-27 13:08:29,452 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643955904 rilasciata al pool.
2025-05-27 13:08:31,014 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 13:08:31,015 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 13:08:31,016 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 13:08:31,017 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 13:08:31,018 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 13:08:31,121 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643955904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:08:31,124 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 13:08:31,138 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 10 comuni per get_all_comuni_details.
2025-05-27 13:08:31,142 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643955904 rilasciata al pool.
2025-05-27 13:08:31,471 - CatastoGUI - INFO - Chiamata a db_manager.get_historical_periods()...
2025-05-27 13:08:31,472 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643955904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:08:31,473 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_historical_periods: SELECT id, nome, anno_inizio, anno_fine, descrizione FROM catasto.periodo_storico ORDER BY anno_inizio;
2025-05-27 13:08:31,477 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 9 periodi storici.
2025-05-27 13:08:31,480 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643955904 rilasciata al pool.
2025-05-27 13:08:31,482 - CatastoGUI - INFO - Elenco periodi ricevuto da DBManager (tipo: <class 'list'>): [{'id': 1, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√  d'Italia"}, {'id': 7, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 4, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 2, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 5, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 8, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 3, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 9, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 6, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}]
2025-05-27 13:08:31,483 - CatastoGUI - INFO - Numero di periodi ricevuti: 9
2025-05-27 13:08:31,526 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643955904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:08:31,527 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 13:08:31,530 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 10 comuni (search_term: 'None').
2025-05-27 13:08:31,532 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643955904 rilasciata al pool.
2025-05-27 13:08:31,896 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643955904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:08:31,899 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 13:08:31,908 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 13:08:31,909 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643955904 rilasciata al pool.
2025-05-27 13:08:31,915 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643955904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:08:31,916 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 13:08:31,920 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 13:08:31,921 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643955904 rilasciata al pool.
2025-05-27 13:08:31,985 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643955904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:08:31,986 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 13:08:31,989 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 13:08:31,991 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643955904 rilasciata al pool.
2025-05-27 13:08:32,072 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643955904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:08:32,074 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T13:08:32.070000'::timestamp AND timestamp <= '2025-05-27T13:08:32.070000'::timestamp;
2025-05-27 13:08:32,084 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 13:08:32,164 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 13:08:32,165 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 13:08:32,288 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 13:08:32,296 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 13:08:32,297 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 13:09:10,200 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:09:10,201 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_periodo_storico_details per ID: 4
2025-05-27 13:09:10,208 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli recuperati per periodo storico ID 4.
2025-05-27 13:09:10,210 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 rilasciata al pool.
2025-05-27 13:09:24,885 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:09:24,887 - CatastoDB_catasto_storico_localhost_5432 - INFO - Tentativo di aggiornare periodo storico ID 4 con dati: {'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√  d'Italia", 'anno_fine': 1861}
2025-05-27 13:09:24,887 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query update_periodo_storico: UPDATE catasto.periodo_storico SET nome = 'Regno di Sardegna', anno_inizio = 1720, anno_fine = 1861, descrizione = 'Periodo del Regno di Sardegna prima dell''unit√  d''Italia' WHERE id = 4;
2025-05-27 13:09:24,898 - CatastoDB_catasto_storico_localhost_5432 - INFO - Periodo storico ID 4 aggiornato con successo (o i valori erano identici).
2025-05-27 13:09:24,899 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 rilasciata al pool.
2025-05-27 13:09:26,671 - CatastoGUI - INFO - Dialogo dettagli/modifica periodo ID 4 chiuso con successo. Aggiorno elenco periodi.
2025-05-27 13:09:26,673 - CatastoGUI - INFO - Chiamata a db_manager.get_historical_periods()...
2025-05-27 13:09:26,675 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:09:26,675 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_historical_periods: SELECT id, nome, anno_inizio, anno_fine, descrizione FROM catasto.periodo_storico ORDER BY anno_inizio;
2025-05-27 13:09:26,678 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 9 periodi storici.
2025-05-27 13:09:26,679 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 rilasciata al pool.
2025-05-27 13:09:26,680 - CatastoGUI - INFO - Elenco periodi ricevuto da DBManager (tipo: <class 'list'>): [{'id': 4, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√  d'Italia"}, {'id': 7, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 1, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√  d'Italia"}, {'id': 2, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 8, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 5, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 6, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 9, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 3, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}]
2025-05-27 13:09:26,681 - CatastoGUI - INFO - Numero di periodi ricevuti: 9
2025-05-27 13:09:30,620 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:09:30,621 - CatastoDB_catasto_storico_localhost_5432 - INFO - DBManager: Tentativo di aggiungere comune: Nome='Albissola Marina', Prov='SV', Regione='Liguria', PeriodoID='5', Utente (info): 'admin'
2025-05-27 13:09:30,665 - CatastoDB_catasto_storico_localhost_5432 - INFO - Comune 'Albissola Marina' aggiunto con successo. ID: 15.
2025-05-27 13:09:30,666 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 rilasciata al pool.
2025-05-27 13:09:32,971 - CatastoGUI - INFO - Chiamata a db_manager.get_historical_periods()...
2025-05-27 13:09:32,972 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:09:32,973 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_historical_periods: SELECT id, nome, anno_inizio, anno_fine, descrizione FROM catasto.periodo_storico ORDER BY anno_inizio;
2025-05-27 13:09:32,975 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 9 periodi storici.
2025-05-27 13:09:32,976 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 rilasciata al pool.
2025-05-27 13:09:32,977 - CatastoGUI - INFO - Elenco periodi ricevuto da DBManager (tipo: <class 'list'>): [{'id': 4, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√  d'Italia"}, {'id': 7, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 1, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√  d'Italia"}, {'id': 2, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 8, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 5, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 6, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 9, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 3, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}]
2025-05-27 13:09:32,977 - CatastoGUI - INFO - Numero di periodi ricevuti: 9
2025-05-27 13:09:32,982 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:09:32,982 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 13:09:32,987 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 11 comuni per get_all_comuni_details.
2025-05-27 13:09:32,988 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 rilasciata al pool.
2025-05-27 13:09:32,990 - CatastoGUI - INFO - Elenco comuni nel tab consultazione aggiornato.
2025-05-27 13:10:06,865 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:10:06,866 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 13:10:06,867 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 11 comuni (search_term: 'None').
2025-05-27 13:10:06,868 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 rilasciata al pool.
2025-05-27 13:10:10,014 - CatastoGUI - INFO - DEBUG: InserimentoLocalitaWidget - Chiamata refresh_localita per comune ID: 1
2025-05-27 13:10:10,014 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:10:10,015 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 1: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 1 ORDER BY tipo, nome, civico;
2025-05-27 13:10:10,033 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 21 localit‡ per comune ID 1 (filtro: 'None').
2025-05-27 13:10:10,034 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 rilasciata al pool.
2025-05-27 13:10:17,658 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:10:17,659 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo INSERT ON CONFLICT per localit‡: C_ID=1, Nome='dsds', Civico=None
2025-05-27 13:10:17,666 - CatastoDB_catasto_storico_localhost_5432 - INFO - Localit‡ 'dsds' (Comune ID: 1) inserita con successo. ID: 105.
2025-05-27 13:10:17,666 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 rilasciata al pool.
2025-05-27 13:10:19,733 - CatastoGUI - INFO - DEBUG: InserimentoLocalitaWidget - Chiamata refresh_localita per comune ID: 1
2025-05-27 13:10:19,733 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:10:19,734 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 1: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 1 ORDER BY tipo, nome, civico;
2025-05-27 13:10:19,735 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 22 localit‡ per comune ID 1 (filtro: 'None').
2025-05-27 13:10:19,736 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 rilasciata al pool.
2025-05-27 13:10:22,037 - CatastoGUI - INFO - DEBUG: InserimentoLocalitaWidget - Chiamata refresh_localita per comune ID: 1
2025-05-27 13:10:22,037 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:10:22,039 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 1: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 1 ORDER BY tipo, nome, civico;
2025-05-27 13:10:22,040 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 22 localit‡ per comune ID 1 (filtro: 'None').
2025-05-27 13:10:22,041 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 rilasciata al pool.
2025-05-27 13:10:34,345 - CatastoGUI - INFO - DEBUG: InserimentoLocalitaWidget - Chiamata refresh_localita per comune ID: 1
2025-05-27 13:10:34,346 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:10:34,347 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 1: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 1 ORDER BY tipo, nome, civico;
2025-05-27 13:10:34,350 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 22 localit‡ per comune ID 1 (filtro: 'None').
2025-05-27 13:10:34,351 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 rilasciata al pool.
2025-05-27 13:10:58,149 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:10:58,150 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 13:10:58,152 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 11 comuni (search_term: 'None').
2025-05-27 13:10:58,153 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 rilasciata al pool.
2025-05-27 13:11:06,537 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:11:06,538 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_possessori_by_comune per comune_id 3
2025-05-27 13:11:06,551 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 99 possessori per comune ID 3.
2025-05-27 13:11:06,552 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 rilasciata al pool.
2025-05-27 13:11:16,180 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:11:16,181 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_localita_by_comune per comune_id 3: SELECT id, nome, tipo, civico FROM catasto.localita WHERE comune_id = 3 ORDER BY tipo, nome, civico;
2025-05-27 13:11:16,182 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 22 localit‡ per comune ID 3 (filtro: 'None').
2025-05-27 13:11:16,183 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 rilasciata al pool.
2025-05-27 13:11:20,026 - CatastoGUI - INFO - LocalitaSelectionDialog: Localit‡ selezionata ID: 102, Nome: 'Borgata CiccioCicci, 5 (borgata)'
2025-05-27 13:11:20,036 - CatastoGUI - INFO - ImmobileDialog: Localit‡ selezionata ID: 102, Nome: 'Borgata CiccioCicci, 5 (borgata)'
2025-05-27 13:11:41,919 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:11:41,919 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione CALL catasto.registra_nuova_proprieta - Params: C_ID=3, Part_N=1000, DataImp=2025-05-27, N_Poss=1, N_Imm=1
2025-05-27 13:11:41,995 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrata nuova propriet‡ con successo: Comune ID 3, Partita N.1000
2025-05-27 13:11:41,996 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 rilasciata al pool.
2025-05-27 13:26:23,083 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:26:23,144 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 13:26:23,146 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 80d68210...
2025-05-27 13:26:23,147 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 rilasciata al pool.
2025-05-27 13:26:24,419 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 13:26:24,421 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 13:26:24,421 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:26:24,423 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 13:26:24,424 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2126643957536 rilasciata al pool.
2025-05-27 13:26:24,487 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 13:26:24,493 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 13:26:24,494 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 13:26:24,494 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 13:26:24,522 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 13:26:38,263 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 13:26:38,374 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 13:26:38,374 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 13:26:38,448 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 13:26:38,449 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461367421664 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:26:38,449 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461367421664 rilasciata al pool.
2025-05-27 13:26:38,450 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 13:26:47,475 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461367421664 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:26:47,476 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 13:26:47,545 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 13:26:47,547 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461367421664 rilasciata al pool.
2025-05-27 13:26:47,918 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 13:26:47,919 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461367421664 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:26:47,953 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione d43701b6...
2025-05-27 13:26:47,953 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461367421664 rilasciata al pool.
2025-05-27 13:26:47,954 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461367421664 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:26:47,955 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=d43701b6...
2025-05-27 13:26:47,955 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461367421664 rilasciata al pool.
2025-05-27 13:26:49,439 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 13:26:49,440 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 13:26:49,440 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 13:26:49,441 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 13:26:49,442 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 13:26:49,499 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461367421664 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:26:49,500 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 13:26:49,504 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 11 comuni per get_all_comuni_details.
2025-05-27 13:26:49,504 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461367421664 rilasciata al pool.
2025-05-27 13:26:49,771 - CatastoGUI - INFO - Chiamata a db_manager.get_historical_periods()...
2025-05-27 13:26:49,772 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461367421664 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:26:49,774 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_historical_periods: SELECT id, nome, anno_inizio, anno_fine, descrizione FROM catasto.periodo_storico ORDER BY anno_inizio;
2025-05-27 13:26:49,780 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 9 periodi storici.
2025-05-27 13:26:49,782 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461367421664 rilasciata al pool.
2025-05-27 13:26:49,783 - CatastoGUI - INFO - Elenco periodi ricevuto da DBManager (tipo: <class 'list'>): [{'id': 4, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√  d'Italia"}, {'id': 7, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 1, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√  d'Italia"}, {'id': 2, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 8, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 5, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 6, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 9, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 3, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}]
2025-05-27 13:26:49,784 - CatastoGUI - INFO - Numero di periodi ricevuti: 9
2025-05-27 13:26:49,801 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461367421664 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:26:49,801 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 13:26:49,803 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 11 comuni (search_term: 'None').
2025-05-27 13:26:49,803 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461367421664 rilasciata al pool.
2025-05-27 13:26:50,199 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461367421664 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:26:50,200 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 13:26:50,208 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 8 righe da mv_statistiche_comune.
2025-05-27 13:26:50,209 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461367421664 rilasciata al pool.
2025-05-27 13:26:50,213 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461367421664 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:26:50,215 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 13:26:50,222 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 26 righe da mv_immobili_per_tipologia.
2025-05-27 13:26:50,223 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461367421664 rilasciata al pool.
2025-05-27 13:26:50,275 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461367421664 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:26:50,276 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 13:26:50,280 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 13:26:50,282 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461367421664 rilasciata al pool.
2025-05-27 13:26:50,355 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461367421664 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:26:50,356 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T13:26:50.353000'::timestamp AND timestamp <= '2025-05-27T13:26:50.354000'::timestamp;
2025-05-27 13:26:50,374 - CatastoDB_catasto_storico_localhost_5432 - INFO - Nessun record di audit log trovato con i filtri specificati.
2025-05-27 13:26:50,459 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 13:26:50,462 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 13:26:50,588 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 13:26:50,591 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 13:26:50,593 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 13:27:02,789 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461365780208 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:27:02,790 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 13:27:02,801 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 11 comuni (search_term: 'None').
2025-05-27 13:27:02,802 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461365780208 rilasciata al pool.
2025-05-27 13:27:07,565 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s AND p.numero_partita = %s ORDER BY c.nome, p.numero_partita - Params: (3, 1)
2025-05-27 13:27:07,566 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461365780208 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:27:07,583 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 0 partite.
2025-05-27 13:27:07,585 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461365780208 rilasciata al pool.
2025-05-27 13:27:10,430 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s ORDER BY c.nome, p.numero_partita - Params: (3,)
2025-05-27 13:27:10,431 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461365780208 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:27:10,484 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 550 partite.
2025-05-27 13:27:10,486 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461365780208 rilasciata al pool.
2025-05-27 13:27:13,640 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461365780208 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:27:13,685 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 1112.
2025-05-27 13:27:13,686 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461365780208 rilasciata al pool.
2025-05-27 13:27:34,866 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s AND p.numero_partita = %s ORDER BY c.nome, p.numero_partita - Params: (3, 1)
2025-05-27 13:27:34,867 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461365780208 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:27:34,869 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 0 partite.
2025-05-27 13:27:34,870 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461365780208 rilasciata al pool.
2025-05-27 13:27:34,910 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461365780208 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:27:34,911 - CatastoDB_catasto_storico_localhost_5432 - INFO - Tentativo di duplicare partita ID 1112 in Nuovo Numero Partita 1. Mantieni Possessori: True, Mantieni Immobili: True
2025-05-27 13:27:34,957 - CatastoDB_catasto_storico_localhost_5432 - INFO - Partita ID 1112 duplicata con successo in Nuovo Numero Partita 1.
2025-05-27 13:27:34,958 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461365780208 rilasciata al pool.
2025-05-27 13:27:47,586 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s AND p.numero_partita = %s ORDER BY c.nome, p.numero_partita - Params: (3, 1)
2025-05-27 13:27:47,587 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461365780208 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:27:47,589 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 1 partite.
2025-05-27 13:27:47,590 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461365780208 rilasciata al pool.
2025-05-27 13:28:15,868 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s AND p.numero_partita = %s ORDER BY c.nome, p.numero_partita - Params: (3, 1)
2025-05-27 13:28:15,869 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461365780208 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:28:15,871 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 1 partite.
2025-05-27 13:28:15,873 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461365780208 rilasciata al pool.
2025-05-27 13:28:20,713 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s AND p.numero_partita = %s ORDER BY c.nome, p.numero_partita - Params: (3, 4)
2025-05-27 13:28:20,714 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461365780208 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:28:20,716 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 0 partite.
2025-05-27 13:28:20,718 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461365780208 rilasciata al pool.
2025-05-27 13:28:20,718 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461365780208 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:28:20,719 - CatastoDB_catasto_storico_localhost_5432 - INFO - Tentativo di duplicare partita ID 1112 in Nuovo Numero Partita 4. Mantieni Possessori: False, Mantieni Immobili: False
2025-05-27 13:28:20,761 - CatastoDB_catasto_storico_localhost_5432 - INFO - Partita ID 1112 duplicata con successo in Nuovo Numero Partita 4.
2025-05-27 13:28:20,762 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461365780208 rilasciata al pool.
2025-05-27 13:39:01,443 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461365780208 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:39:01,455 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 13:39:01,456 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione d43701b6...
2025-05-27 13:39:01,457 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461365780208 rilasciata al pool.
2025-05-27 13:39:02,875 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 13:39:02,876 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 13:39:02,877 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461365780208 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 13:39:02,880 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 13:39:02,880 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2461365780208 rilasciata al pool.
2025-05-27 13:39:02,952 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 13:39:02,953 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 13:39:02,954 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 13:39:02,954 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 13:39:02,974 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 15:31:00,958 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 15:31:01,107 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 15:31:01,118 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 15:31:01,226 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 15:31:01,237 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2207133241664 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:31:01,248 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2207133241664 rilasciata al pool.
2025-05-27 15:31:01,259 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 15:31:08,761 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2207133241664 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:31:08,773 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 15:31:08,821 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 15:31:08,834 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2207133241664 rilasciata al pool.
2025-05-27 15:31:09,098 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 15:31:09,105 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2207133241664 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:31:09,148 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 779ab48a...
2025-05-27 15:31:09,160 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2207133241664 rilasciata al pool.
2025-05-27 15:31:09,172 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2207133241664 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:31:09,186 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=779ab48a...
2025-05-27 15:31:09,199 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2207133241664 rilasciata al pool.
2025-05-27 15:31:10,139 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 15:31:10,144 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 15:31:10,150 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 15:31:10,157 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 15:31:10,163 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 15:31:10,205 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2207133241664 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:31:10,217 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 15:31:10,236 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni per get_all_comuni_details.
2025-05-27 15:31:10,250 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2207133241664 rilasciata al pool.
2025-05-27 15:31:10,348 - CatastoGUI - INFO - Chiamata a db_manager.get_historical_periods()...
2025-05-27 15:31:10,354 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2207133241664 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:31:10,365 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_historical_periods: SELECT id, nome, anno_inizio, anno_fine, descrizione FROM catasto.periodo_storico ORDER BY anno_inizio;
2025-05-27 15:31:10,387 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 6 periodi storici.
2025-05-27 15:31:10,401 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2207133241664 rilasciata al pool.
2025-05-27 15:31:10,429 - CatastoGUI - INFO - Elenco periodi ricevuto da DBManager (tipo: <class 'list'>): [{'id': 1, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 4, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 2, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 5, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 3, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 6, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}]
2025-05-27 15:31:10,438 - CatastoGUI - INFO - Numero di periodi ricevuti: 6
2025-05-27 15:31:10,455 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2207133241664 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:31:10,468 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 15:31:10,481 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-27 15:31:10,494 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2207133241664 rilasciata al pool.
2025-05-27 15:34:46,403 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 15:34:46,562 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 15:34:46,576 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 15:34:46,813 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 15:34:46,825 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836021264 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:34:46,837 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836021264 rilasciata al pool.
2025-05-27 15:34:46,853 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 15:34:52,823 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836021264 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:34:52,835 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 15:34:52,854 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 15:34:52,866 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836021264 rilasciata al pool.
2025-05-27 15:34:53,139 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 15:34:53,145 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836021264 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:34:53,170 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione c60efdd4...
2025-05-27 15:34:53,182 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836021264 rilasciata al pool.
2025-05-27 15:34:53,195 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836021264 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:34:53,209 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=c60efdd4...
2025-05-27 15:34:53,221 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836021264 rilasciata al pool.
2025-05-27 15:34:54,500 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 15:34:54,507 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 15:34:54,513 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 15:34:54,519 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 15:34:54,525 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 15:34:54,553 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836021264 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:34:54,565 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 15:34:54,577 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni per get_all_comuni_details.
2025-05-27 15:34:54,590 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836021264 rilasciata al pool.
2025-05-27 15:34:54,678 - CatastoGUI - INFO - Chiamata a db_manager.get_historical_periods()...
2025-05-27 15:34:54,691 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836021264 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:34:54,741 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_historical_periods: SELECT id, nome, anno_inizio, anno_fine, descrizione FROM catasto.periodo_storico ORDER BY anno_inizio;
2025-05-27 15:34:54,762 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 6 periodi storici.
2025-05-27 15:34:54,776 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836021264 rilasciata al pool.
2025-05-27 15:34:54,790 - CatastoGUI - INFO - Elenco periodi ricevuto da DBManager (tipo: <class 'list'>): [{'id': 1, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 4, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 2, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 5, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 3, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 6, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}]
2025-05-27 15:34:54,797 - CatastoGUI - INFO - Numero di periodi ricevuti: 6
2025-05-27 15:34:54,815 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836021264 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:34:54,826 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 15:34:54,842 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-27 15:34:54,855 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836021264 rilasciata al pool.
2025-05-27 15:34:55,217 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836021264 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:34:55,229 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 15:34:55,245 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 5 righe da mv_statistiche_comune.
2025-05-27 15:34:55,258 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836021264 rilasciata al pool.
2025-05-27 15:34:55,275 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836021264 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:34:55,286 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 15:34:55,304 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 27 righe da mv_immobili_per_tipologia.
2025-05-27 15:34:55,316 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836021264 rilasciata al pool.
2025-05-27 15:34:55,362 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836021264 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:34:55,374 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 15:34:55,387 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 15:34:55,399 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836021264 rilasciata al pool.
2025-05-27 15:34:55,429 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836021264 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:34:55,441 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T15:34:55.426000'::timestamp AND timestamp <= '2025-05-27T15:34:55.426000'::timestamp;
2025-05-27 15:34:55,470 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-26T15:34:55.426000'::timestamp AND timestamp <= '2025-05-27T15:34:55.426000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-27 15:34:55,486 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 3 record di audit log (pagina 1 di 1). Totale filtrati: 3
2025-05-27 15:34:55,525 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 15:34:55,531 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 15:34:55,586 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 15:34:55,592 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 15:34:55,597 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 15:36:08,067 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836022896 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:36:08,080 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 15:36:08,093 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-27 15:36:08,106 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836022896 rilasciata al pool.
2025-05-27 15:36:10,790 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s ORDER BY c.nome, p.numero_partita - Params: (4,)
2025-05-27 15:36:10,805 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836022896 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:36:10,837 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 554 partite.
2025-05-27 15:36:10,849 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836022896 rilasciata al pool.
2025-05-27 15:36:13,165 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836022896 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:36:13,210 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 1663.
2025-05-27 15:36:13,222 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836022896 rilasciata al pool.
2025-05-27 15:36:27,569 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836022896 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:36:27,581 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 15:36:27,594 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-27 15:36:27,606 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836022896 rilasciata al pool.
2025-05-27 15:36:29,958 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s ORDER BY c.nome, p.numero_partita - Params: (3,)
2025-05-27 15:36:29,971 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836022896 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:36:29,990 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 561 partite.
2025-05-27 15:36:30,002 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836022896 rilasciata al pool.
2025-05-27 15:36:31,898 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836022896 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:36:31,916 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 1105.
2025-05-27 15:36:31,928 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836022896 rilasciata al pool.
2025-05-27 15:36:43,166 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836022896 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:36:43,179 - CatastoDB_catasto_storico_localhost_5432 - INFO - Tentativo di trasferire immobile ID 4509 a partita ID 1105. Registra variazione: False
2025-05-27 15:36:44,606 - CatastoDB_catasto_storico_localhost_5432 - INFO - Immobile ID 4509 trasferito con successo a partita ID 1105.
2025-05-27 15:36:44,617 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836022896 rilasciata al pool.
2025-05-27 15:36:48,299 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836022896 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:36:48,314 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 1663.
2025-05-27 15:36:48,326 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836022896 rilasciata al pool.
2025-05-27 15:36:58,526 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s AND p.numero_partita = %s ORDER BY c.nome, p.numero_partita - Params: (4, 11)
2025-05-27 15:36:58,545 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836022896 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:36:58,557 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 0 partite.
2025-05-27 15:36:58,568 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836022896 rilasciata al pool.
2025-05-27 15:37:10,343 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836022896 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:37:10,355 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 15:37:10,368 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-27 15:37:10,379 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836022896 rilasciata al pool.
2025-05-27 15:37:13,158 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s ORDER BY c.nome, p.numero_partita - Params: (3,)
2025-05-27 15:37:13,170 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836022896 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:37:13,187 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 561 partite.
2025-05-27 15:37:13,200 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836022896 rilasciata al pool.
2025-05-27 15:37:15,475 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836022896 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:37:15,489 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 1103.
2025-05-27 15:37:15,501 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836022896 rilasciata al pool.
2025-05-27 15:37:17,870 - CatastoDB - ERROR - Errore Python get_partita_data_for_export (ID: 1103): 'CatastoDBManager' object has no attribute 'execute_query'
2025-05-27 15:39:17,926 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836022896 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:39:17,938 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_possessori_by_comune per comune_id 4
2025-05-27 15:39:17,952 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 100 possessori per comune ID 4.
2025-05-27 15:39:17,965 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1821836022896 rilasciata al pool.
2025-05-27 15:44:57,801 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 15:44:57,944 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 15:44:57,955 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 15:44:58,072 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 15:44:58,084 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019058704 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:44:58,097 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019058704 rilasciata al pool.
2025-05-27 15:44:58,109 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 15:45:11,102 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019058704 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:45:11,114 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 15:45:11,130 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 15:45:11,142 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019058704 rilasciata al pool.
2025-05-27 15:45:11,407 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 15:45:11,413 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019058704 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:45:11,434 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione e2ffa77a...
2025-05-27 15:45:11,448 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019058704 rilasciata al pool.
2025-05-27 15:45:11,459 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019058704 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:45:11,472 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=e2ffa77a...
2025-05-27 15:45:11,485 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019058704 rilasciata al pool.
2025-05-27 15:45:12,533 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 15:45:12,539 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 15:45:12,545 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 15:45:12,551 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 15:45:12,557 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 15:45:12,580 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019058704 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:45:12,591 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 15:45:12,606 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni per get_all_comuni_details.
2025-05-27 15:45:12,624 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019058704 rilasciata al pool.
2025-05-27 15:45:12,732 - CatastoGUI - INFO - Chiamata a db_manager.get_historical_periods()...
2025-05-27 15:45:12,738 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019058704 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:45:12,749 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_historical_periods: SELECT id, nome, anno_inizio, anno_fine, descrizione FROM catasto.periodo_storico ORDER BY anno_inizio;
2025-05-27 15:45:12,760 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 6 periodi storici.
2025-05-27 15:45:12,791 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019058704 rilasciata al pool.
2025-05-27 15:45:12,806 - CatastoGUI - INFO - Elenco periodi ricevuto da DBManager (tipo: <class 'list'>): [{'id': 1, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 4, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 2, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 5, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 3, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 6, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}]
2025-05-27 15:45:12,813 - CatastoGUI - INFO - Numero di periodi ricevuti: 6
2025-05-27 15:45:12,831 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019058704 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:45:12,843 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 15:45:12,853 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-27 15:45:12,865 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019058704 rilasciata al pool.
2025-05-27 15:45:13,224 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019058704 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:45:13,235 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 15:45:13,249 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 5 righe da mv_statistiche_comune.
2025-05-27 15:45:13,260 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019058704 rilasciata al pool.
2025-05-27 15:45:13,275 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019058704 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:45:13,286 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 15:45:13,299 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 27 righe da mv_immobili_per_tipologia.
2025-05-27 15:45:13,310 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019058704 rilasciata al pool.
2025-05-27 15:45:13,339 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019058704 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:45:13,350 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 15:45:13,362 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 15:45:13,374 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019058704 rilasciata al pool.
2025-05-27 15:45:13,497 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019058704 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:45:13,521 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T15:45:13.496000'::timestamp AND timestamp <= '2025-05-27T15:45:13.496000'::timestamp;
2025-05-27 15:45:13,542 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-26T15:45:13.496000'::timestamp AND timestamp <= '2025-05-27T15:45:13.496000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-27 15:45:13,558 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 4 record di audit log (pagina 1 di 1). Totale filtrati: 4
2025-05-27 15:45:13,640 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 15:45:13,646 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 15:45:13,700 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 15:45:13,706 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 15:45:13,711 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 15:45:45,940 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019060336 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:45:45,951 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 15:45:45,964 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-27 15:45:45,976 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019060336 rilasciata al pool.
2025-05-27 15:45:47,741 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s ORDER BY c.nome, p.numero_partita - Params: (3,)
2025-05-27 15:45:47,754 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019060336 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:45:47,778 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 561 partite.
2025-05-27 15:45:47,790 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019060336 rilasciata al pool.
2025-05-27 15:45:50,016 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019060336 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:45:50,052 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 1103.
2025-05-27 15:45:50,065 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019060336 rilasciata al pool.
2025-05-27 15:45:52,925 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s AND p.numero_partita = %s ORDER BY c.nome, p.numero_partita - Params: (3, 1)
2025-05-27 15:45:52,937 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019060336 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:45:52,952 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 0 partite.
2025-05-27 15:45:52,965 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019060336 rilasciata al pool.
2025-05-27 15:45:52,977 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019060336 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:45:52,990 - CatastoDB_catasto_storico_localhost_5432 - INFO - Tentativo di duplicare partita ID 1103 in Nuovo Numero Partita 1. Mantieni Possessori: True, Mantieni Immobili: False
2025-05-27 15:45:53,041 - CatastoDB_catasto_storico_localhost_5432 - INFO - Partita ID 1103 duplicata con successo in Nuovo Numero Partita 1.
2025-05-27 15:45:53,052 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019060336 rilasciata al pool.
2025-05-27 15:46:03,086 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019060336 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:46:03,098 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 15:46:03,110 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-27 15:46:03,122 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019060336 rilasciata al pool.
2025-05-27 15:46:05,462 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s ORDER BY c.nome, p.numero_partita - Params: (4,)
2025-05-27 15:46:05,474 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019060336 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:46:05,492 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 554 partite.
2025-05-27 15:46:05,504 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019060336 rilasciata al pool.
2025-05-27 15:46:07,537 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019060336 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:46:07,552 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 1661.
2025-05-27 15:46:07,563 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019060336 rilasciata al pool.
2025-05-27 15:46:18,052 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019060336 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:46:18,065 - CatastoDB_catasto_storico_localhost_5432 - INFO - Tentativo di trasferire immobile ID 3011 a partita ID 1660. Registra variazione: True
2025-05-27 15:46:18,098 - CatastoDB_catasto_storico_localhost_5432 - INFO - Immobile ID 3011 trasferito con successo a partita ID 1660.
2025-05-27 15:46:18,110 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019060336 rilasciata al pool.
2025-05-27 15:46:19,592 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019060336 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:46:19,607 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 1103.
2025-05-27 15:46:19,619 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019060336 rilasciata al pool.
2025-05-27 15:47:11,555 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019060336 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:47:11,567 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_possessori_by_comune per comune_id 3
2025-05-27 15:47:11,580 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 100 possessori per comune ID 3.
2025-05-27 15:47:11,593 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019060336 rilasciata al pool.
2025-05-27 15:47:18,418 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s AND p.numero_partita = %s ORDER BY c.nome, p.numero_partita - Params: (3, 3)
2025-05-27 15:47:18,431 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019060336 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:47:18,444 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 0 partite.
2025-05-27 15:47:18,456 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019060336 rilasciata al pool.
2025-05-27 15:47:18,468 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019060336 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:47:18,480 - CatastoDB_catasto_storico_localhost_5432 - INFO - Tentativo di registrare passaggio propriet‡ da Partita ID 1103 a Nuova Partita N.3 (Comune ID: 3).
2025-05-27 15:47:18,499 - CatastoDB_catasto_storico_localhost_5432 - ERROR - Errore DB durante registrazione passaggio propriet‡ da Partita ID 1103: ERRORE:  la procedura catasto.registra_passaggio_proprieta(integer, integer, integer, unknown, date, unknown, date, unknown, unknown, jsonb, integer[], unknown) non esiste
LINE 1: CALL catasto.registra_passaggio_proprieta(1103, 3, 3, 'Vendi...
             ^
HINT:  Nessuna procedura trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 1727, in registra_passaggio_proprieta
    cur.execute(call_proc_str, params)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedFunction: ERRORE:  la procedura catasto.registra_passaggio_proprieta(integer, integer, integer, unknown, date, unknown, date, unknown, unknown, jsonb, integer[], unknown) non esiste
LINE 1: CALL catasto.registra_passaggio_proprieta(1103, 3, 3, 'Vendi...
             ^
HINT:  Nessuna procedura trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-27 15:47:18,607 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019060336 rilasciata al pool.
2025-05-27 15:47:40,713 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019060336 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:47:40,727 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 15:47:40,740 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione e2ffa77a...
2025-05-27 15:47:40,752 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019060336 rilasciata al pool.
2025-05-27 15:47:41,638 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 15:47:41,651 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 15:47:41,662 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019060336 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:47:41,676 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 15:47:41,690 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2259019060336 rilasciata al pool.
2025-05-27 15:47:41,721 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 15:47:41,731 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 15:47:41,744 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 15:47:41,751 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 15:47:41,768 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 15:51:35,808 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 15:51:35,935 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 15:51:35,946 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2671234038720 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:51:35,960 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2671234038720 rilasciata al pool.
2025-05-27 15:51:35,971 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 15:51:40,564 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2671234038720 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:51:40,576 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 15:51:40,591 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 15:51:40,603 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2671234038720 rilasciata al pool.
2025-05-27 15:51:40,868 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 15:51:40,874 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2671234038720 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:51:40,893 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 1ec20d38...
2025-05-27 15:51:40,904 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2671234038720 rilasciata al pool.
2025-05-27 15:51:40,917 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2671234038720 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:51:40,930 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=1ec20d38...
2025-05-27 15:51:40,941 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2671234038720 rilasciata al pool.
2025-05-27 15:54:13,318 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 15:54:13,440 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 15:54:13,453 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2248008383424 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:54:13,472 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2248008383424 rilasciata al pool.
2025-05-27 15:54:13,486 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 15:54:20,577 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2248008383424 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:54:20,590 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 15:54:20,606 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 15:54:20,618 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2248008383424 rilasciata al pool.
2025-05-27 15:54:20,888 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 15:54:20,894 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2248008383424 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:54:20,915 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione a427ae30...
2025-05-27 15:54:20,928 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2248008383424 rilasciata al pool.
2025-05-27 15:54:20,940 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2248008383424 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 15:54:20,958 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=a427ae30...
2025-05-27 15:54:20,970 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2248008383424 rilasciata al pool.
2025-05-27 15:54:21,829 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 15:54:21,835 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 15:54:21,841 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 15:54:21,847 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 15:54:21,853 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 16:01:09,567 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 16:01:09,716 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 16:01:09,728 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 16:01:09,837 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 16:01:09,849 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287779287360 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:01:09,862 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287779287360 rilasciata al pool.
2025-05-27 16:01:09,873 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 16:01:15,515 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287779287360 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:01:15,527 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 16:01:15,548 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 16:01:15,560 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287779287360 rilasciata al pool.
2025-05-27 16:01:15,825 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 16:01:15,830 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287779287360 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:01:15,852 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 354d6894...
2025-05-27 16:01:15,864 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287779287360 rilasciata al pool.
2025-05-27 16:01:15,875 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287779287360 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:01:15,888 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=354d6894...
2025-05-27 16:01:15,899 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287779287360 rilasciata al pool.
2025-05-27 16:01:16,902 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 16:01:16,907 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 16:01:16,913 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 16:01:16,919 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 16:01:16,925 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 16:01:16,963 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287779287360 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:01:16,975 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 16:01:16,990 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni per get_all_comuni_details.
2025-05-27 16:01:17,006 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287779287360 rilasciata al pool.
2025-05-27 16:01:17,104 - CatastoGUI - INFO - Chiamata a db_manager.get_historical_periods()...
2025-05-27 16:01:17,110 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287779287360 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:01:17,121 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_historical_periods: SELECT id, nome, anno_inizio, anno_fine, descrizione FROM catasto.periodo_storico ORDER BY anno_inizio;
2025-05-27 16:01:17,134 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 6 periodi storici.
2025-05-27 16:01:17,148 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287779287360 rilasciata al pool.
2025-05-27 16:01:17,160 - CatastoGUI - INFO - Elenco periodi ricevuto da DBManager (tipo: <class 'list'>): [{'id': 1, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 4, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 2, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 5, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 3, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 6, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}]
2025-05-27 16:01:17,166 - CatastoGUI - INFO - Numero di periodi ricevuti: 6
2025-05-27 16:01:17,186 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287779287360 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:01:17,200 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 16:01:17,216 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-27 16:01:17,229 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287779287360 rilasciata al pool.
2025-05-27 16:01:17,709 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287779287360 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:01:17,721 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 16:01:17,735 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 5 righe da mv_statistiche_comune.
2025-05-27 16:01:17,747 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287779287360 rilasciata al pool.
2025-05-27 16:01:17,759 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287779287360 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:01:17,771 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 16:01:17,785 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 27 righe da mv_immobili_per_tipologia.
2025-05-27 16:01:17,805 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287779287360 rilasciata al pool.
2025-05-27 16:01:17,835 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287779287360 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:01:17,846 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 16:01:17,859 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 16:01:17,872 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287779287360 rilasciata al pool.
2025-05-27 16:01:17,901 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287779287360 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:01:17,913 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T16:01:17.899000'::timestamp AND timestamp <= '2025-05-27T16:01:17.899000'::timestamp;
2025-05-27 16:01:17,927 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-26T16:01:17.899000'::timestamp AND timestamp <= '2025-05-27T16:01:17.899000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-27 16:01:17,940 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 8 record di audit log (pagina 1 di 1). Totale filtrati: 8
2025-05-27 16:01:17,989 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 16:01:17,994 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 16:01:18,179 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 16:01:18,185 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 16:01:18,193 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 16:01:29,923 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:01:29,934 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 16:01:29,951 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-27 16:01:29,964 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 rilasciata al pool.
2025-05-27 16:01:34,099 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id ORDER BY c.nome, p.numero_partita - Params: ()
2025-05-27 16:01:34,111 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:01:34,148 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 2764 partite.
2025-05-27 16:01:34,160 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 rilasciata al pool.
2025-05-27 16:01:36,399 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:01:36,435 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 3.
2025-05-27 16:01:36,458 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 rilasciata al pool.
2025-05-27 16:01:42,155 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id ORDER BY c.nome, p.numero_partita - Params: ()
2025-05-27 16:01:42,167 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:01:42,197 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 2764 partite.
2025-05-27 16:01:42,209 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 rilasciata al pool.
2025-05-27 16:01:44,175 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:01:44,191 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 4.
2025-05-27 16:01:44,203 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 rilasciata al pool.
2025-05-27 16:01:53,939 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s AND p.numero_partita = %s ORDER BY c.nome, p.numero_partita - Params: (1, 1)
2025-05-27 16:01:53,951 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:01:53,965 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 0 partite.
2025-05-27 16:01:53,977 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 rilasciata al pool.
2025-05-27 16:01:53,989 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:01:54,001 - CatastoDB_catasto_storico_localhost_5432 - INFO - Tentativo di duplicare partita ID 3 in Nuovo Numero Partita 1. Mantieni Possessori: True, Mantieni Immobili: False
2025-05-27 16:01:54,057 - CatastoDB_catasto_storico_localhost_5432 - INFO - Partita ID 3 duplicata con successo in Nuovo Numero Partita 1.
2025-05-27 16:01:54,068 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 rilasciata al pool.
2025-05-27 16:01:59,611 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id ORDER BY c.nome, p.numero_partita - Params: ()
2025-05-27 16:01:59,623 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:01:59,657 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 2765 partite.
2025-05-27 16:01:59,669 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 rilasciata al pool.
2025-05-27 16:02:03,255 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:02:03,269 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 1.
2025-05-27 16:02:03,283 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 rilasciata al pool.
2025-05-27 16:02:16,298 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:02:16,310 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_possessori_by_comune per comune_id 1
2025-05-27 16:02:16,325 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 100 possessori per comune ID 1.
2025-05-27 16:02:16,336 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 rilasciata al pool.
2025-05-27 16:02:23,306 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s AND p.numero_partita = %s ORDER BY c.nome, p.numero_partita - Params: (1, 1)
2025-05-27 16:02:23,318 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:02:23,331 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 1 partite.
2025-05-27 16:02:23,344 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 rilasciata al pool.
2025-05-27 16:02:35,417 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s AND p.numero_partita = %s ORDER BY c.nome, p.numero_partita - Params: (1, 125)
2025-05-27 16:02:35,430 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:02:35,442 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 0 partite.
2025-05-27 16:02:35,456 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 rilasciata al pool.
2025-05-27 16:02:35,468 - CatastoGUI - INFO - Passaggio Propriet‡: La partita sorgente non ha immobili da trasferire (o tabella non popolata).
2025-05-27 16:02:35,474 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:02:35,486 - CatastoDB_catasto_storico_localhost_5432 - INFO - Tentativo di registrare passaggio propriet‡ da Partita ID 3 a Nuova Partita N.125 (Comune ID: 1).
2025-05-27 16:02:35,498 - CatastoDB_catasto_storico_localhost_5432 - ERROR - Errore DB durante registrazione passaggio propriet‡ da Partita ID 3: ERRORE:  la procedura catasto.registra_passaggio_proprieta(integer, integer, integer, text, date, text, date, text, text, jsonb, unknown, text) non esiste
LINE 1: CALL catasto.registra_passaggio_proprieta(3, 1, 125, 'sa'::T...
             ^
HINT:  Nessuna procedura trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 1738, in registra_passaggio_proprieta
    cur.execute(call_proc_str, params)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedFunction: ERRORE:  la procedura catasto.registra_passaggio_proprieta(integer, integer, integer, text, date, text, date, text, text, jsonb, unknown, text) non esiste
LINE 1: CALL catasto.registra_passaggio_proprieta(3, 1, 125, 'sa'::T...
             ^
HINT:  Nessuna procedura trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-27 16:02:35,605 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 rilasciata al pool.
2025-05-27 16:02:46,145 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:02:46,158 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_possessori_by_comune per comune_id 1
2025-05-27 16:02:46,172 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 100 possessori per comune ID 1.
2025-05-27 16:02:46,184 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 rilasciata al pool.
2025-05-27 16:02:52,897 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s AND p.numero_partita = %s ORDER BY c.nome, p.numero_partita - Params: (1, 125)
2025-05-27 16:02:52,910 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:02:52,922 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 0 partite.
2025-05-27 16:02:52,935 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 rilasciata al pool.
2025-05-27 16:02:52,947 - CatastoGUI - INFO - Passaggio Propriet‡: La partita sorgente non ha immobili da trasferire (o tabella non popolata).
2025-05-27 16:02:52,953 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:02:52,965 - CatastoDB_catasto_storico_localhost_5432 - INFO - Tentativo di registrare passaggio propriet‡ da Partita ID 3 a Nuova Partita N.125 (Comune ID: 1).
2025-05-27 16:02:52,979 - CatastoDB_catasto_storico_localhost_5432 - ERROR - Errore DB durante registrazione passaggio propriet‡ da Partita ID 3: ERRORE:  la procedura catasto.registra_passaggio_proprieta(integer, integer, integer, text, date, text, date, text, text, jsonb, unknown, text) non esiste
LINE 1: CALL catasto.registra_passaggio_proprieta(3, 1, 125, 'sa'::T...
             ^
HINT:  Nessuna procedura trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 1738, in registra_passaggio_proprieta
    cur.execute(call_proc_str, params)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedFunction: ERRORE:  la procedura catasto.registra_passaggio_proprieta(integer, integer, integer, text, date, text, date, text, text, jsonb, unknown, text) non esiste
LINE 1: CALL catasto.registra_passaggio_proprieta(3, 1, 125, 'sa'::T...
             ^
HINT:  Nessuna procedura trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-27 16:02:53,020 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 rilasciata al pool.
2025-05-27 16:03:12,416 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id ORDER BY c.nome, p.numero_partita - Params: ()
2025-05-27 16:03:12,428 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:03:12,460 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 2765 partite.
2025-05-27 16:03:12,472 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 rilasciata al pool.
2025-05-27 16:03:14,901 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:03:14,914 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 2.
2025-05-27 16:03:14,929 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 rilasciata al pool.
2025-05-27 16:03:19,616 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s AND p.numero_partita = %s ORDER BY c.nome, p.numero_partita - Params: (1, 1)
2025-05-27 16:03:19,628 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:03:19,642 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 1 partite.
2025-05-27 16:03:19,654 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 rilasciata al pool.
2025-05-27 16:03:35,463 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id ORDER BY c.nome, p.numero_partita - Params: ()
2025-05-27 16:03:35,476 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:03:35,506 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 2765 partite.
2025-05-27 16:03:35,518 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 rilasciata al pool.
2025-05-27 16:03:38,621 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:03:38,635 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 2.
2025-05-27 16:03:38,648 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 rilasciata al pool.
2025-05-27 16:04:03,479 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s AND p.numero_partita = %s ORDER BY c.nome, p.numero_partita - Params: (1, 123)
2025-05-27 16:04:03,491 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:04:03,504 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 0 partite.
2025-05-27 16:04:03,518 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 rilasciata al pool.
2025-05-27 16:04:03,530 - CatastoGUI - INFO - Passaggio Propriet‡: La partita sorgente non ha immobili da trasferire (o tabella non popolata).
2025-05-27 16:04:03,536 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:04:03,548 - CatastoDB_catasto_storico_localhost_5432 - INFO - Tentativo di registrare passaggio propriet‡ da Partita ID 3 a Nuova Partita N.123 (Comune ID: 1).
2025-05-27 16:04:03,560 - CatastoDB_catasto_storico_localhost_5432 - ERROR - Errore DB durante registrazione passaggio propriet‡ da Partita ID 3: ERRORE:  la procedura catasto.registra_passaggio_proprieta(integer, integer, integer, text, date, text, date, text, text, jsonb, unknown, text) non esiste
LINE 1: CALL catasto.registra_passaggio_proprieta(3, 1, 123, 'sa'::T...
             ^
HINT:  Nessuna procedura trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 1738, in registra_passaggio_proprieta
    cur.execute(call_proc_str, params)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedFunction: ERRORE:  la procedura catasto.registra_passaggio_proprieta(integer, integer, integer, text, date, text, date, text, text, jsonb, unknown, text) non esiste
LINE 1: CALL catasto.registra_passaggio_proprieta(3, 1, 123, 'sa'::T...
             ^
HINT:  Nessuna procedura trovata con nome e tipi di argomenti forniti. Potrebbe essere necessario convertire i tipi esplicitamente.

2025-05-27 16:04:03,602 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2287775349696 rilasciata al pool.
2025-05-27 16:13:09,536 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 16:13:09,687 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 16:13:09,698 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 16:13:09,808 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 16:13:09,821 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101073973568 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:13:09,833 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101073973568 rilasciata al pool.
2025-05-27 16:13:09,844 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 16:13:15,789 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101073973568 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:13:15,802 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 16:13:15,817 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 16:13:15,834 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101073973568 rilasciata al pool.
2025-05-27 16:13:16,102 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 16:13:16,108 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101073973568 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:13:16,128 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 2609df21...
2025-05-27 16:13:16,140 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101073973568 rilasciata al pool.
2025-05-27 16:13:16,151 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101073973568 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:13:16,166 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=2609df21...
2025-05-27 16:13:16,178 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101073973568 rilasciata al pool.
2025-05-27 16:13:16,988 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 16:13:16,994 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 16:13:17,002 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 16:13:17,009 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 16:13:17,015 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 16:13:17,042 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101073973568 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:13:17,054 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 16:13:17,067 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni per get_all_comuni_details.
2025-05-27 16:13:17,078 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101073973568 rilasciata al pool.
2025-05-27 16:13:17,169 - CatastoGUI - INFO - Chiamata a db_manager.get_historical_periods()...
2025-05-27 16:13:17,175 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101073973568 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:13:17,186 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_historical_periods: SELECT id, nome, anno_inizio, anno_fine, descrizione FROM catasto.periodo_storico ORDER BY anno_inizio;
2025-05-27 16:13:17,199 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 6 periodi storici.
2025-05-27 16:13:17,210 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101073973568 rilasciata al pool.
2025-05-27 16:13:17,222 - CatastoGUI - INFO - Elenco periodi ricevuto da DBManager (tipo: <class 'list'>): [{'id': 1, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 4, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 2, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 5, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 3, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 6, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}]
2025-05-27 16:13:17,228 - CatastoGUI - INFO - Numero di periodi ricevuti: 6
2025-05-27 16:13:17,245 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101073973568 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:13:17,261 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 16:13:17,273 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-27 16:13:17,288 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101073973568 rilasciata al pool.
2025-05-27 16:13:17,765 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101073973568 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:13:17,777 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 16:13:17,791 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 5 righe da mv_statistiche_comune.
2025-05-27 16:13:17,803 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101073973568 rilasciata al pool.
2025-05-27 16:13:17,819 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101073973568 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:13:17,830 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 16:13:17,843 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 27 righe da mv_immobili_per_tipologia.
2025-05-27 16:13:17,854 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101073973568 rilasciata al pool.
2025-05-27 16:13:17,884 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101073973568 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:13:17,896 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 16:13:17,909 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 16:13:17,921 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101073973568 rilasciata al pool.
2025-05-27 16:13:17,951 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101073973568 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:13:17,965 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T16:13:17.947000'::timestamp AND timestamp <= '2025-05-27T16:13:17.947000'::timestamp;
2025-05-27 16:13:17,980 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-26T16:13:17.947000'::timestamp AND timestamp <= '2025-05-27T16:13:17.947000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-27 16:13:18,000 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 10 record di audit log (pagina 1 di 1). Totale filtrati: 10
2025-05-27 16:13:18,047 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 16:13:18,055 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 16:13:18,271 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 16:13:18,279 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 16:13:18,285 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 16:13:54,189 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id ORDER BY c.nome, p.numero_partita - Params: ()
2025-05-27 16:13:54,300 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101070035904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:13:54,334 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 2765 partite.
2025-05-27 16:13:54,346 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101070035904 rilasciata al pool.
2025-05-27 16:13:56,970 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101070035904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:13:56,990 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 1.
2025-05-27 16:13:57,003 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101070035904 rilasciata al pool.
2025-05-27 16:14:05,245 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id ORDER BY c.nome, p.numero_partita - Params: ()
2025-05-27 16:14:05,257 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101070035904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:14:05,286 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 2765 partite.
2025-05-27 16:14:05,299 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101070035904 rilasciata al pool.
2025-05-27 16:14:08,707 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101070035904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:14:08,721 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 22.
2025-05-27 16:14:08,734 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101070035904 rilasciata al pool.
2025-05-27 16:14:42,052 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id ORDER BY c.nome, p.numero_partita - Params: ()
2025-05-27 16:14:42,064 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101070035904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:14:42,095 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 2765 partite.
2025-05-27 16:14:42,107 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101070035904 rilasciata al pool.
2025-05-27 16:14:44,321 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101070035904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:14:44,336 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 3.
2025-05-27 16:14:44,349 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101070035904 rilasciata al pool.
2025-05-27 16:14:55,845 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s AND p.numero_partita = %s ORDER BY c.nome, p.numero_partita - Params: (1, 5)
2025-05-27 16:14:55,857 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101070035904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:14:55,871 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 0 partite.
2025-05-27 16:14:55,883 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101070035904 rilasciata al pool.
2025-05-27 16:14:58,784 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101070035904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:14:58,795 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_possessori_by_comune per comune_id 1
2025-05-27 16:14:58,808 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 100 possessori per comune ID 1.
2025-05-27 16:14:58,821 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101070035904 rilasciata al pool.
2025-05-27 16:15:04,364 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s AND p.numero_partita = %s ORDER BY c.nome, p.numero_partita - Params: (1, 5)
2025-05-27 16:15:04,377 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101070035904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:15:04,389 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 0 partite.
2025-05-27 16:15:04,400 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101070035904 rilasciata al pool.
2025-05-27 16:15:04,412 - CatastoGUI - INFO - Passaggio Propriet‡: La partita sorgente non ha immobili da trasferire (o tabella non popolata).
2025-05-27 16:15:04,434 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101070035904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:15:04,446 - CatastoDB_catasto_storico_localhost_5432 - INFO - Tentativo di registrare passaggio propriet‡ da Partita ID 3 a Nuova Partita N.5 (Comune ID: 1).
2025-05-27 16:15:04,471 - CatastoDB_catasto_storico_localhost_5432 - ERROR - Errore DB durante registrazione passaggio propriet‡ da Partita ID 3: ERRORE:  [registra_passaggio_proprieta] Errore: La partita di origine √® gi√† inattiva
CONTEXT:  funzione PL/pgSQL registra_passaggio_proprieta(integer,integer,integer,character varying,date,character varying,date,character varying,character varying,json,integer[],text) riga 79 a RAISE
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 1738, in registra_passaggio_proprieta
    cur.execute(call_proc_str, params)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.RaiseException: ERRORE:  [registra_passaggio_proprieta] Errore: La partita di origine √® gi√† inattiva
CONTEXT:  funzione PL/pgSQL registra_passaggio_proprieta(integer,integer,integer,character varying,date,character varying,date,character varying,character varying,json,integer[],text) riga 79 a RAISE

2025-05-27 16:15:04,588 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101070035904 rilasciata al pool.
2025-05-27 16:15:17,260 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101070035904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:15:17,274 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 16:15:17,285 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 2609df21...
2025-05-27 16:15:17,296 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101070035904 rilasciata al pool.
2025-05-27 16:15:18,377 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 16:15:18,389 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 16:15:18,400 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101070035904 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:15:18,413 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 16:15:18,425 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2101070035904 rilasciata al pool.
2025-05-27 16:15:18,454 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 16:15:18,461 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 16:15:18,473 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 16:15:18,479 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 16:15:18,496 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 16:23:17,754 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 16:23:17,904 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 16:23:17,916 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 16:23:18,027 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 16:23:18,039 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1797017783552 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:23:18,051 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1797017783552 rilasciata al pool.
2025-05-27 16:23:18,062 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 16:23:23,658 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1797017783552 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:23:23,681 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 16:23:23,695 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 16:23:23,742 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1797017783552 rilasciata al pool.
2025-05-27 16:23:24,017 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 16:23:24,023 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1797017783552 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:23:24,042 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 2e66859a...
2025-05-27 16:23:24,053 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1797017783552 rilasciata al pool.
2025-05-27 16:23:24,065 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1797017783552 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:23:24,078 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=2e66859a...
2025-05-27 16:23:24,090 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1797017783552 rilasciata al pool.
2025-05-27 16:23:25,030 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 16:23:25,036 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 16:23:25,041 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 16:23:25,047 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 16:23:25,056 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 16:23:25,083 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1797017783552 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:23:25,095 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 16:23:25,109 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni per get_all_comuni_details.
2025-05-27 16:23:25,122 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1797017783552 rilasciata al pool.
2025-05-27 16:23:25,210 - CatastoGUI - INFO - Chiamata a db_manager.get_historical_periods()...
2025-05-27 16:23:25,215 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1797017783552 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:23:25,226 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_historical_periods: SELECT id, nome, anno_inizio, anno_fine, descrizione FROM catasto.periodo_storico ORDER BY anno_inizio;
2025-05-27 16:23:25,238 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 6 periodi storici.
2025-05-27 16:23:25,251 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1797017783552 rilasciata al pool.
2025-05-27 16:23:25,263 - CatastoGUI - INFO - Elenco periodi ricevuto da DBManager (tipo: <class 'list'>): [{'id': 1, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 4, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 2, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 5, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 3, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 6, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}]
2025-05-27 16:23:25,269 - CatastoGUI - INFO - Numero di periodi ricevuti: 6
2025-05-27 16:23:25,284 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1797017783552 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:23:25,296 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 16:23:25,308 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-27 16:23:25,321 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1797017783552 rilasciata al pool.
2025-05-27 16:23:25,758 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1797017783552 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:23:25,770 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 16:23:25,783 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 5 righe da mv_statistiche_comune.
2025-05-27 16:23:25,795 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1797017783552 rilasciata al pool.
2025-05-27 16:23:25,808 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1797017783552 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:23:25,821 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 16:23:25,835 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 27 righe da mv_immobili_per_tipologia.
2025-05-27 16:23:25,847 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1797017783552 rilasciata al pool.
2025-05-27 16:23:25,878 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1797017783552 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:23:25,890 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 16:23:25,901 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 16:23:25,913 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1797017783552 rilasciata al pool.
2025-05-27 16:23:25,945 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1797017783552 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:23:25,957 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T16:23:25.943000'::timestamp AND timestamp <= '2025-05-27T16:23:25.943000'::timestamp;
2025-05-27 16:23:25,970 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-26T16:23:25.943000'::timestamp AND timestamp <= '2025-05-27T16:23:25.943000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-27 16:23:25,983 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 10 record di audit log (pagina 1 di 1). Totale filtrati: 10
2025-05-27 16:23:26,032 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 16:23:26,038 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 16:23:26,214 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 16:23:26,220 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 16:23:26,227 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 16:26:34,270 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1797017785184 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:26:34,306 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 16:26:34,343 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione 2e66859a...
2025-05-27 16:26:34,354 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1797017785184 rilasciata al pool.
2025-05-27 16:26:35,397 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 16:26:35,409 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 16:26:35,426 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1797017785184 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:26:35,440 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 16:26:35,451 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 1797017785184 rilasciata al pool.
2025-05-27 16:26:35,478 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 16:26:35,485 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 16:26:35,497 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 16:26:35,503 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 16:26:35,527 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 16:48:10,077 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 16:48:10,292 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 16:48:10,304 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 16:48:10,527 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 16:48:10,539 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2558145170688 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:48:10,551 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2558145170688 rilasciata al pool.
2025-05-27 16:48:10,562 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 16:48:51,915 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2558145170688 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:48:51,926 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 16:48:51,942 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 16:48:51,954 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2558145170688 rilasciata al pool.
2025-05-27 16:48:52,218 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 16:48:52,224 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2558145170688 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:48:52,244 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione cece3978...
2025-05-27 16:48:52,255 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2558145170688 rilasciata al pool.
2025-05-27 16:48:52,267 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2558145170688 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:48:52,281 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=cece3978...
2025-05-27 16:48:52,293 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2558145170688 rilasciata al pool.
2025-05-27 16:48:53,075 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 16:48:53,080 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 16:48:53,086 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 16:48:53,092 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 16:48:53,099 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 16:48:53,125 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2558145170688 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:48:53,136 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 16:48:53,151 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni per get_all_comuni_details.
2025-05-27 16:48:53,162 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2558145170688 rilasciata al pool.
2025-05-27 16:48:53,252 - CatastoGUI - INFO - Chiamata a db_manager.get_historical_periods()...
2025-05-27 16:48:53,257 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2558145170688 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:48:53,269 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_historical_periods: SELECT id, nome, anno_inizio, anno_fine, descrizione FROM catasto.periodo_storico ORDER BY anno_inizio;
2025-05-27 16:48:53,284 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 6 periodi storici.
2025-05-27 16:48:53,300 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2558145170688 rilasciata al pool.
2025-05-27 16:48:53,311 - CatastoGUI - INFO - Elenco periodi ricevuto da DBManager (tipo: <class 'list'>): [{'id': 1, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 4, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 2, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 5, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 3, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 6, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}]
2025-05-27 16:48:53,329 - CatastoGUI - INFO - Numero di periodi ricevuti: 6
2025-05-27 16:48:53,348 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2558145170688 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:48:53,365 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 16:48:53,378 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-27 16:48:53,389 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2558145170688 rilasciata al pool.
2025-05-27 16:55:37,293 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 16:55:37,412 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 16:55:37,424 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 16:55:37,532 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 16:55:37,544 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2460594130176 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:55:37,555 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2460594130176 rilasciata al pool.
2025-05-27 16:55:37,567 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 16:55:43,322 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2460594130176 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:55:43,340 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 16:55:43,378 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 16:55:43,390 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2460594130176 rilasciata al pool.
2025-05-27 16:55:43,656 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 16:55:43,662 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2460594130176 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:55:43,798 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione adeefac9...
2025-05-27 16:55:43,811 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2460594130176 rilasciata al pool.
2025-05-27 16:55:43,837 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2460594130176 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:55:43,850 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=adeefac9...
2025-05-27 16:55:43,862 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2460594130176 rilasciata al pool.
2025-05-27 16:55:44,644 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 16:55:44,649 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 16:55:44,656 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 16:55:44,662 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 16:55:44,667 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 16:55:44,695 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2460594130176 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:55:44,706 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 16:55:44,719 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni per get_all_comuni_details.
2025-05-27 16:55:44,732 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2460594130176 rilasciata al pool.
2025-05-27 16:55:44,826 - CatastoGUI - INFO - Chiamata a db_manager.get_historical_periods()...
2025-05-27 16:55:44,832 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2460594130176 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:55:44,844 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_historical_periods: SELECT id, nome, anno_inizio, anno_fine, descrizione FROM catasto.periodo_storico ORDER BY anno_inizio;
2025-05-27 16:55:44,857 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 6 periodi storici.
2025-05-27 16:55:44,871 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2460594130176 rilasciata al pool.
2025-05-27 16:55:44,883 - CatastoGUI - INFO - Elenco periodi ricevuto da DBManager (tipo: <class 'list'>): [{'id': 1, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 4, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 2, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 5, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 3, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 6, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}]
2025-05-27 16:55:44,890 - CatastoGUI - INFO - Numero di periodi ricevuti: 6
2025-05-27 16:55:44,907 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2460594130176 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 16:55:44,921 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 16:55:44,934 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-27 16:55:44,945 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2460594130176 rilasciata al pool.
2025-05-27 17:34:45,619 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 17:34:45,774 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 17:34:45,785 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 17:34:45,903 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 17:34:45,916 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190594576 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 17:34:45,928 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190594576 rilasciata al pool.
2025-05-27 17:34:45,942 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 17:34:51,902 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190594576 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 17:34:51,915 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 17:34:51,935 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 17:34:51,948 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190594576 rilasciata al pool.
2025-05-27 17:34:52,210 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 17:34:52,216 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190594576 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 17:34:52,239 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione c471c06e...
2025-05-27 17:34:52,271 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190594576 rilasciata al pool.
2025-05-27 17:34:52,292 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190594576 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 17:34:52,305 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=c471c06e...
2025-05-27 17:34:52,315 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190594576 rilasciata al pool.
2025-05-27 17:34:53,162 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 17:34:53,168 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 17:34:53,175 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 17:34:53,180 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 17:34:53,186 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 17:34:53,213 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190594576 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 17:34:53,224 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 17:34:53,239 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni per get_all_comuni_details.
2025-05-27 17:34:53,252 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190594576 rilasciata al pool.
2025-05-27 17:34:53,351 - CatastoGUI - INFO - Chiamata a db_manager.get_historical_periods()...
2025-05-27 17:34:53,357 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190594576 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 17:34:53,368 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_historical_periods: SELECT id, nome, anno_inizio, anno_fine, descrizione FROM catasto.periodo_storico ORDER BY anno_inizio;
2025-05-27 17:34:53,382 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 6 periodi storici.
2025-05-27 17:34:53,393 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190594576 rilasciata al pool.
2025-05-27 17:34:53,408 - CatastoGUI - INFO - Elenco periodi ricevuto da DBManager (tipo: <class 'list'>): [{'id': 1, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 4, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 2, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 5, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 3, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 6, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}]
2025-05-27 17:34:53,414 - CatastoGUI - INFO - Numero di periodi ricevuti: 6
2025-05-27 17:34:53,432 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190594576 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 17:34:53,447 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 17:34:53,460 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-27 17:34:53,471 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190594576 rilasciata al pool.
2025-05-27 17:34:53,834 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190594576 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 17:34:53,847 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 17:34:53,860 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 5 righe da mv_statistiche_comune.
2025-05-27 17:34:53,872 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190594576 rilasciata al pool.
2025-05-27 17:34:53,886 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190594576 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 17:34:53,898 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 17:34:53,911 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 27 righe da mv_immobili_per_tipologia.
2025-05-27 17:34:53,922 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190594576 rilasciata al pool.
2025-05-27 17:34:53,956 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190594576 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 17:34:53,971 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 17:34:53,984 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 17:34:53,996 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190594576 rilasciata al pool.
2025-05-27 17:34:54,030 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190594576 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 17:34:54,043 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T17:34:54.029000'::timestamp AND timestamp <= '2025-05-27T17:34:54.029000'::timestamp;
2025-05-27 17:34:54,058 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-26T17:34:54.029000'::timestamp AND timestamp <= '2025-05-27T17:34:54.029000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-27 17:34:54,073 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 7 record di audit log (pagina 1 di 1). Totale filtrati: 7
2025-05-27 17:34:54,118 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 17:34:54,125 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 17:34:54,195 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 17:34:54,205 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 17:34:54,210 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 17:35:25,559 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 17:35:25,571 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 17:35:25,585 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-27 17:35:25,597 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 rilasciata al pool.
2025-05-27 17:35:28,279 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s ORDER BY c.nome, p.numero_partita - Params: (3,)
2025-05-27 17:35:28,291 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 17:35:28,314 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 562 partite.
2025-05-27 17:35:28,327 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 rilasciata al pool.
2025-05-27 17:35:31,444 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 17:35:31,469 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 1101.
2025-05-27 17:35:31,480 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 rilasciata al pool.
2025-05-27 17:35:34,000 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s AND p.numero_partita = %s ORDER BY c.nome, p.numero_partita - Params: (3, 4)
2025-05-27 17:35:34,012 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 17:35:34,025 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 0 partite.
2025-05-27 17:35:34,037 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 rilasciata al pool.
2025-05-27 17:35:34,049 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 17:35:34,061 - CatastoDB_catasto_storico_localhost_5432 - INFO - Tentativo di duplicare partita ID 1101 in Nuovo Numero Partita 4. Mantieni Possessori: True, Mantieni Immobili: False
2025-05-27 17:35:34,110 - CatastoDB_catasto_storico_localhost_5432 - INFO - Partita ID 1101 duplicata con successo in Nuovo Numero Partita 4.
2025-05-27 17:35:34,122 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 rilasciata al pool.
2025-05-27 17:35:50,048 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s AND p.numero_partita = %s ORDER BY c.nome, p.numero_partita - Params: (3, 100)
2025-05-27 17:35:50,061 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 17:35:50,073 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 0 partite.
2025-05-27 17:35:50,085 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 rilasciata al pool.
2025-05-27 17:35:50,097 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 17:35:50,109 - CatastoDB_catasto_storico_localhost_5432 - INFO - Tentativo di duplicare partita ID 1101 in Nuovo Numero Partita 100. Mantieni Possessori: True, Mantieni Immobili: False
2025-05-27 17:35:50,133 - CatastoDB_catasto_storico_localhost_5432 - INFO - Partita ID 1101 duplicata con successo in Nuovo Numero Partita 100.
2025-05-27 17:35:50,145 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 rilasciata al pool.
2025-05-27 17:35:54,888 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s AND p.numero_partita = %s ORDER BY c.nome, p.numero_partita - Params: (3, 1)
2025-05-27 17:35:54,900 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 17:35:54,913 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 1 partite.
2025-05-27 17:35:54,925 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 rilasciata al pool.
2025-05-27 17:36:09,776 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 17:36:09,788 - CatastoDB_catasto_storico_localhost_5432 - INFO - Tentativo di trasferire immobile ID 3005 a partita ID 4. Registra variazione: True
2025-05-27 17:36:09,817 - CatastoDB_catasto_storico_localhost_5432 - INFO - Immobile ID 3005 trasferito con successo a partita ID 4.
2025-05-27 17:36:09,830 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 rilasciata al pool.
2025-05-27 17:36:11,477 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 17:36:11,491 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 1101.
2025-05-27 17:36:11,503 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 rilasciata al pool.
2025-05-27 17:36:36,608 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 17:36:36,620 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_possessori_by_comune per comune_id 3
2025-05-27 17:36:36,634 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 100 possessori per comune ID 3.
2025-05-27 17:36:36,647 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 rilasciata al pool.
2025-05-27 17:36:44,120 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 17:36:44,132 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_possessori_by_comune per comune_id 3
2025-05-27 17:36:44,146 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 100 possessori per comune ID 3.
2025-05-27 17:36:44,158 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 rilasciata al pool.
2025-05-27 17:37:00,160 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s AND p.numero_partita = %s ORDER BY c.nome, p.numero_partita - Params: (3, 140)
2025-05-27 17:37:00,172 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 17:37:00,184 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 0 partite.
2025-05-27 17:37:00,197 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 rilasciata al pool.
2025-05-27 17:37:00,209 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 17:37:00,220 - CatastoDB_catasto_storico_localhost_5432 - INFO - Tentativo di registrare passaggio propriet‡ da Partita ID 1101 a Nuova Partita N.140 (Comune ID: 3).
2025-05-27 17:37:00,239 - CatastoDB_catasto_storico_localhost_5432 - ERROR - Errore DB durante registrazione passaggio propriet‡ da Partita ID 1101: ERRORE:  [registra_passaggio_proprieta] Errore: il valore nullo nella colonna "cognome_nome" della relazione "possessore" viola il vincolo non nullo
CONTEXT:  funzione PL/pgSQL registra_passaggio_proprieta(integer,integer,integer,character varying,date,character varying,date,character varying,character varying,json,integer[],text) riga 79 a RAISE
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 1738, in registra_passaggio_proprieta
    cur.execute(call_proc_str, params)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.RaiseException: ERRORE:  [registra_passaggio_proprieta] Errore: il valore nullo nella colonna "cognome_nome" della relazione "possessore" viola il vincolo non nullo
CONTEXT:  funzione PL/pgSQL registra_passaggio_proprieta(integer,integer,integer,character varying,date,character varying,date,character varying,character varying,json,integer[],text) riga 79 a RAISE

2025-05-27 17:37:00,343 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 rilasciata al pool.
2025-05-27 17:37:34,800 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 17:37:34,814 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 17:37:34,826 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione c471c06e...
2025-05-27 17:37:34,838 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 rilasciata al pool.
2025-05-27 17:37:36,140 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 17:37:36,154 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 17:37:36,172 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 17:37:36,185 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 17:37:36,200 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2152190596208 rilasciata al pool.
2025-05-27 17:37:36,234 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 17:37:36,240 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 17:37:36,253 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 17:37:36,258 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 17:37:36,274 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 18:51:12,821 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 18:51:12,965 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 18:51:12,977 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 18:51:13,086 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 18:51:13,099 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517428240 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 18:51:13,111 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517428240 rilasciata al pool.
2025-05-27 18:51:13,122 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 18:51:18,904 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517428240 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 18:51:18,917 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 18:51:18,937 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 18:51:18,950 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517428240 rilasciata al pool.
2025-05-27 18:51:19,214 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 18:51:19,220 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517428240 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 18:51:19,242 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione c602c97a...
2025-05-27 18:51:19,254 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517428240 rilasciata al pool.
2025-05-27 18:51:19,267 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517428240 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 18:51:19,280 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=c602c97a...
2025-05-27 18:51:19,293 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517428240 rilasciata al pool.
2025-05-27 18:51:20,815 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 18:51:20,821 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 18:51:20,826 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 18:51:20,832 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 18:51:20,838 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 18:51:20,864 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517428240 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 18:51:20,876 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 18:51:20,891 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni per get_all_comuni_details.
2025-05-27 18:51:20,902 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517428240 rilasciata al pool.
2025-05-27 18:51:20,991 - CatastoGUI - INFO - Chiamata a db_manager.get_historical_periods()...
2025-05-27 18:51:20,997 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517428240 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 18:51:21,012 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_historical_periods: SELECT id, nome, anno_inizio, anno_fine, descrizione FROM catasto.periodo_storico ORDER BY anno_inizio;
2025-05-27 18:51:21,025 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 6 periodi storici.
2025-05-27 18:51:21,039 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517428240 rilasciata al pool.
2025-05-27 18:51:21,052 - CatastoGUI - INFO - Elenco periodi ricevuto da DBManager (tipo: <class 'list'>): [{'id': 1, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 4, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 2, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 5, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 3, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 6, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}]
2025-05-27 18:51:21,059 - CatastoGUI - INFO - Numero di periodi ricevuti: 6
2025-05-27 18:51:21,072 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517428240 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 18:51:21,084 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 18:51:21,098 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-27 18:51:21,113 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517428240 rilasciata al pool.
2025-05-27 18:51:21,498 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517428240 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 18:51:21,513 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 18:51:21,528 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 5 righe da mv_statistiche_comune.
2025-05-27 18:51:21,541 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517428240 rilasciata al pool.
2025-05-27 18:51:21,555 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517428240 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 18:51:21,571 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 18:51:21,587 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 27 righe da mv_immobili_per_tipologia.
2025-05-27 18:51:21,602 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517428240 rilasciata al pool.
2025-05-27 18:51:21,633 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517428240 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 18:51:21,649 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 18:51:21,663 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 18:51:21,676 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517428240 rilasciata al pool.
2025-05-27 18:51:21,710 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517428240 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 18:51:21,724 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T18:51:21.709000'::timestamp AND timestamp <= '2025-05-27T18:51:21.709000'::timestamp;
2025-05-27 18:51:21,741 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-26T18:51:21.709000'::timestamp AND timestamp <= '2025-05-27T18:51:21.709000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-27 18:51:21,758 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 13 record di audit log (pagina 1 di 1). Totale filtrati: 13
2025-05-27 18:51:21,811 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 18:51:21,817 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 18:51:21,883 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 18:51:21,890 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 18:51:21,898 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 18:52:07,365 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id ORDER BY c.nome, p.numero_partita - Params: ()
2025-05-27 18:52:07,475 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 18:52:07,513 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 2767 partite.
2025-05-27 18:52:07,525 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 rilasciata al pool.
2025-05-27 18:52:23,722 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id ORDER BY c.nome, p.numero_partita - Params: ()
2025-05-27 18:52:23,734 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 18:52:23,766 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 2767 partite.
2025-05-27 18:52:23,780 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 rilasciata al pool.
2025-05-27 18:52:25,679 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 18:52:25,698 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 2.
2025-05-27 18:52:25,710 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 rilasciata al pool.
2025-05-27 18:52:28,862 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 18:52:28,875 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_possessori_by_comune per comune_id 1
2025-05-27 18:52:28,892 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 100 possessori per comune ID 1.
2025-05-27 18:52:28,905 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 rilasciata al pool.
2025-05-27 18:52:32,652 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 18:52:32,664 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_possessore_full_details per possessore_id 11: 
            SELECT
                p.id,
                p.cognome_nome,
                p.paternita,
                p.nome_completo,
                p.attivo,
                p.comune_id AS comune_riferimento_id, 
                c.nome AS comune_riferimento_nome, -- Nome del comune dalla tabella comune
                p.data_creazione,
                p.data_modifica
            FROM
                catasto.possessore p
            LEFT JOIN 
                catasto.comune c ON p.comune_id = c.id -- LEFT JOIN per gestire possessori senza comune (anche se comune_id Ë NOT NULL nel tuo schema)
            WHERE
                p.id = 11;
        
2025-05-27 18:52:32,685 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli recuperati per il possessore ID 11.
2025-05-27 18:52:32,698 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 rilasciata al pool.
2025-05-27 18:52:35,850 - CatastoGUI - INFO - Avvio procedura _esegui_passaggio_proprieta.
2025-05-27 18:52:35,857 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s AND p.numero_partita = %s ORDER BY c.nome, p.numero_partita - Params: (1, 1)
2025-05-27 18:52:35,870 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 18:52:35,885 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 1 partite.
2025-05-27 18:52:35,899 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 rilasciata al pool.
2025-05-27 18:52:48,942 - CatastoGUI - INFO - Avvio procedura _esegui_passaggio_proprieta.
2025-05-27 18:52:48,948 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s AND p.numero_partita = %s ORDER BY c.nome, p.numero_partita - Params: (1, 125)
2025-05-27 18:52:48,961 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 18:52:48,976 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 0 partite.
2025-05-27 18:52:48,991 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 rilasciata al pool.
2025-05-27 18:52:49,004 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 18:52:49,017 - CatastoDB_catasto_storico_localhost_5432 - INFO - Tentativo di registrare passaggio propriet‡ da Partita ID 2 a Nuova Partita N.125 (Comune ID: 1).
2025-05-27 18:52:49,068 - CatastoDB_catasto_storico_localhost_5432 - ERROR - Errore DB durante registrazione passaggio propriet‡ da Partita ID 2: ERRORE:  [registra_passaggio_proprieta] Errore: la nuova riga per la relazione "variazione" viola il vincolo di controllo "variazione_tipo_check"
CONTEXT:  funzione PL/pgSQL registra_passaggio_proprieta(integer,integer,integer,character varying,date,character varying,date,character varying,character varying,json,integer[],text) riga 79 a RAISE
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 1738, in registra_passaggio_proprieta
    cur.execute(call_proc_str, params)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.RaiseException: ERRORE:  [registra_passaggio_proprieta] Errore: la nuova riga per la relazione "variazione" viola il vincolo di controllo "variazione_tipo_check"
CONTEXT:  funzione PL/pgSQL registra_passaggio_proprieta(integer,integer,integer,character varying,date,character varying,date,character varying,character varying,json,integer[],text) riga 79 a RAISE

2025-05-27 18:52:49,172 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 rilasciata al pool.
2025-05-27 18:52:49,183 - CatastoGUI - ERROR - Errore durante la registrazione del passaggio di propriet‡: Errore database durante la registrazione del passaggio di propriet‡: ERRORE:  [registra_passaggio_proprieta] Errore: la nuova riga per la relazione "variazione" viola il vincolo di controllo "variazione_tipo_check"
CONTEXT:  funzione PL/pgSQL registra_passaggio_proprieta(integer,integer,integer,character varying,date,character varying,date,character varying,character varying,json,integer[],text) riga 79 a RAISE
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 1738, in registra_passaggio_proprieta
    cur.execute(call_proc_str, params)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.RaiseException: ERRORE:  [registra_passaggio_proprieta] Errore: la nuova riga per la relazione "variazione" viola il vincolo di controllo "variazione_tipo_check"
CONTEXT:  funzione PL/pgSQL registra_passaggio_proprieta(integer,integer,integer,character varying,date,character varying,date,character varying,character varying,json,integer[],text) riga 79 a RAISE


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "U:\catasto\gemini\prova.py", line 3004, in _esegui_passaggio_proprieta
    success = self.db_manager.registra_passaggio_proprieta(
        partita_origine_id=self.selected_partita_id_source,
    ...<10 lines>...
        note_variazione=note_variazione
    )
  File "U:\catasto\gemini\catasto_db_manager.py", line 1747, in registra_passaggio_proprieta
    raise DBMError(f"Errore database durante la registrazione del passaggio di propriet‡: {pgerror_msg}") from db_err
catasto_db_manager.DBMError: Errore database durante la registrazione del passaggio di propriet‡: ERRORE:  [registra_passaggio_proprieta] Errore: la nuova riga per la relazione "variazione" viola il vincolo di controllo "variazione_tipo_check"
CONTEXT:  funzione PL/pgSQL registra_passaggio_proprieta(integer,integer,integer,character varying,date,character varying,date,character varying,character varying,json,integer[],text) riga 79 a RAISE

2025-05-27 18:53:14,031 - CatastoGUI - INFO - Avvio procedura _esegui_passaggio_proprieta.
2025-05-27 18:53:14,037 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s AND p.numero_partita = %s ORDER BY c.nome, p.numero_partita - Params: (1, 125)
2025-05-27 18:53:14,051 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 18:53:14,065 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 0 partite.
2025-05-27 18:53:14,079 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 rilasciata al pool.
2025-05-27 18:53:14,090 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 18:53:14,104 - CatastoDB_catasto_storico_localhost_5432 - INFO - Tentativo di registrare passaggio propriet‡ da Partita ID 2 a Nuova Partita N.125 (Comune ID: 1).
2025-05-27 18:53:14,126 - CatastoDB_catasto_storico_localhost_5432 - ERROR - Errore DB durante registrazione passaggio propriet‡ da Partita ID 2: ERRORE:  [registra_passaggio_proprieta] Errore: la nuova riga per la relazione "variazione" viola il vincolo di controllo "variazione_tipo_check"
CONTEXT:  funzione PL/pgSQL registra_passaggio_proprieta(integer,integer,integer,character varying,date,character varying,date,character varying,character varying,json,integer[],text) riga 79 a RAISE
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 1738, in registra_passaggio_proprieta
    cur.execute(call_proc_str, params)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.RaiseException: ERRORE:  [registra_passaggio_proprieta] Errore: la nuova riga per la relazione "variazione" viola il vincolo di controllo "variazione_tipo_check"
CONTEXT:  funzione PL/pgSQL registra_passaggio_proprieta(integer,integer,integer,character varying,date,character varying,date,character varying,character varying,json,integer[],text) riga 79 a RAISE

2025-05-27 18:53:14,168 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 rilasciata al pool.
2025-05-27 18:53:14,181 - CatastoGUI - ERROR - Errore durante la registrazione del passaggio di propriet‡: Errore database durante la registrazione del passaggio di propriet‡: ERRORE:  [registra_passaggio_proprieta] Errore: la nuova riga per la relazione "variazione" viola il vincolo di controllo "variazione_tipo_check"
CONTEXT:  funzione PL/pgSQL registra_passaggio_proprieta(integer,integer,integer,character varying,date,character varying,date,character varying,character varying,json,integer[],text) riga 79 a RAISE
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 1738, in registra_passaggio_proprieta
    cur.execute(call_proc_str, params)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.RaiseException: ERRORE:  [registra_passaggio_proprieta] Errore: la nuova riga per la relazione "variazione" viola il vincolo di controllo "variazione_tipo_check"
CONTEXT:  funzione PL/pgSQL registra_passaggio_proprieta(integer,integer,integer,character varying,date,character varying,date,character varying,character varying,json,integer[],text) riga 79 a RAISE


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "U:\catasto\gemini\prova.py", line 3004, in _esegui_passaggio_proprieta
    success = self.db_manager.registra_passaggio_proprieta(
        partita_origine_id=self.selected_partita_id_source,
    ...<10 lines>...
        note_variazione=note_variazione
    )
  File "U:\catasto\gemini\catasto_db_manager.py", line 1747, in registra_passaggio_proprieta
    raise DBMError(f"Errore database durante la registrazione del passaggio di propriet‡: {pgerror_msg}") from db_err
catasto_db_manager.DBMError: Errore database durante la registrazione del passaggio di propriet‡: ERRORE:  [registra_passaggio_proprieta] Errore: la nuova riga per la relazione "variazione" viola il vincolo di controllo "variazione_tipo_check"
CONTEXT:  funzione PL/pgSQL registra_passaggio_proprieta(integer,integer,integer,character varying,date,character varying,date,character varying,character varying,json,integer[],text) riga 79 a RAISE

2025-05-27 18:53:37,767 - CatastoGUI - INFO - Avvio procedura _esegui_passaggio_proprieta.
2025-05-27 18:53:37,773 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s AND p.numero_partita = %s ORDER BY c.nome, p.numero_partita - Params: (1, 125)
2025-05-27 18:53:37,785 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 18:53:37,797 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 0 partite.
2025-05-27 18:53:37,810 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 rilasciata al pool.
2025-05-27 18:53:37,822 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 18:53:37,836 - CatastoDB_catasto_storico_localhost_5432 - INFO - Tentativo di registrare passaggio propriet‡ da Partita ID 2 a Nuova Partita N.125 (Comune ID: 1).
2025-05-27 18:53:37,855 - CatastoDB_catasto_storico_localhost_5432 - ERROR - Errore DB durante registrazione passaggio propriet‡ da Partita ID 2: ERRORE:  [registra_passaggio_proprieta] Errore: la nuova riga per la relazione "variazione" viola il vincolo di controllo "variazione_tipo_check"
CONTEXT:  funzione PL/pgSQL registra_passaggio_proprieta(integer,integer,integer,character varying,date,character varying,date,character varying,character varying,json,integer[],text) riga 79 a RAISE
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 1738, in registra_passaggio_proprieta
    cur.execute(call_proc_str, params)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.RaiseException: ERRORE:  [registra_passaggio_proprieta] Errore: la nuova riga per la relazione "variazione" viola il vincolo di controllo "variazione_tipo_check"
CONTEXT:  funzione PL/pgSQL registra_passaggio_proprieta(integer,integer,integer,character varying,date,character varying,date,character varying,character varying,json,integer[],text) riga 79 a RAISE

2025-05-27 18:53:37,897 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 rilasciata al pool.
2025-05-27 18:53:37,909 - CatastoGUI - ERROR - Errore durante la registrazione del passaggio di propriet‡: Errore database durante la registrazione del passaggio di propriet‡: ERRORE:  [registra_passaggio_proprieta] Errore: la nuova riga per la relazione "variazione" viola il vincolo di controllo "variazione_tipo_check"
CONTEXT:  funzione PL/pgSQL registra_passaggio_proprieta(integer,integer,integer,character varying,date,character varying,date,character varying,character varying,json,integer[],text) riga 79 a RAISE
Traceback (most recent call last):
  File "U:\catasto\gemini\catasto_db_manager.py", line 1738, in registra_passaggio_proprieta
    cur.execute(call_proc_str, params)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.RaiseException: ERRORE:  [registra_passaggio_proprieta] Errore: la nuova riga per la relazione "variazione" viola il vincolo di controllo "variazione_tipo_check"
CONTEXT:  funzione PL/pgSQL registra_passaggio_proprieta(integer,integer,integer,character varying,date,character varying,date,character varying,character varying,json,integer[],text) riga 79 a RAISE


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "U:\catasto\gemini\prova.py", line 3004, in _esegui_passaggio_proprieta
    success = self.db_manager.registra_passaggio_proprieta(
        partita_origine_id=self.selected_partita_id_source,
    ...<10 lines>...
        note_variazione=note_variazione
    )
  File "U:\catasto\gemini\catasto_db_manager.py", line 1747, in registra_passaggio_proprieta
    raise DBMError(f"Errore database durante la registrazione del passaggio di propriet‡: {pgerror_msg}") from db_err
catasto_db_manager.DBMError: Errore database durante la registrazione del passaggio di propriet‡: ERRORE:  [registra_passaggio_proprieta] Errore: la nuova riga per la relazione "variazione" viola il vincolo di controllo "variazione_tipo_check"
CONTEXT:  funzione PL/pgSQL registra_passaggio_proprieta(integer,integer,integer,character varying,date,character varying,date,character varying,character varying,json,integer[],text) riga 79 a RAISE

2025-05-27 18:55:50,300 - CatastoGUI - INFO - Avvio procedura _esegui_passaggio_proprieta.
2025-05-27 18:55:50,306 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s AND p.numero_partita = %s ORDER BY c.nome, p.numero_partita - Params: (1, 125)
2025-05-27 18:55:50,318 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 18:55:50,332 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 0 partite.
2025-05-27 18:55:50,345 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 rilasciata al pool.
2025-05-27 18:55:50,358 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 18:55:50,370 - CatastoDB_catasto_storico_localhost_5432 - INFO - Tentativo di registrare passaggio propriet‡ da Partita ID 2 a Nuova Partita N.125 (Comune ID: 1).
2025-05-27 18:55:50,421 - CatastoDB_catasto_storico_localhost_5432 - INFO - Passaggio di propriet‡ registrato con successo tramite procedura.
2025-05-27 18:55:50,434 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 rilasciata al pool.
2025-05-27 18:55:51,889 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 18:55:51,905 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 2.
2025-05-27 18:55:51,918 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 rilasciata al pool.
2025-05-27 19:49:48,537 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 19:49:48,556 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 19:49:48,568 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione c602c97a...
2025-05-27 19:49:48,580 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 rilasciata al pool.
2025-05-27 19:49:49,750 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 19:49:49,761 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 19:49:49,774 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 19:49:49,787 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 19:49:49,799 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2169517429872 rilasciata al pool.
2025-05-27 19:49:49,829 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 19:49:49,836 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 19:49:49,846 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 19:49:49,852 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 19:49:49,876 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
2025-05-27 19:59:44,480 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 19:59:44,625 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 19:59:44,637 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 19:59:44,740 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 19:59:44,752 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2059311484160 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 19:59:44,763 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2059311484160 rilasciata al pool.
2025-05-27 19:59:44,775 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 19:59:51,240 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2059311484160 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 19:59:51,251 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 19:59:51,267 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 19:59:51,279 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2059311484160 rilasciata al pool.
2025-05-27 19:59:51,547 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 19:59:51,553 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2059311484160 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 19:59:51,581 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione c73fda55...
2025-05-27 19:59:51,593 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2059311484160 rilasciata al pool.
2025-05-27 19:59:51,608 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2059311484160 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 19:59:51,624 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=c73fda55...
2025-05-27 19:59:51,638 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2059311484160 rilasciata al pool.
2025-05-27 19:59:52,382 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 19:59:52,388 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 19:59:52,394 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 19:59:52,399 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 19:59:52,405 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 19:59:52,434 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2059311484160 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 19:59:52,445 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 19:59:52,459 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni per get_all_comuni_details.
2025-05-27 19:59:52,471 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2059311484160 rilasciata al pool.
2025-05-27 19:59:52,557 - CatastoGUI - INFO - Chiamata a db_manager.get_historical_periods()...
2025-05-27 19:59:52,562 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2059311484160 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 19:59:52,574 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_historical_periods: SELECT id, nome, anno_inizio, anno_fine, descrizione FROM catasto.periodo_storico ORDER BY anno_inizio;
2025-05-27 19:59:52,586 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 6 periodi storici.
2025-05-27 19:59:52,598 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2059311484160 rilasciata al pool.
2025-05-27 19:59:52,612 - CatastoGUI - INFO - Elenco periodi ricevuto da DBManager (tipo: <class 'list'>): [{'id': 1, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 4, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 2, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 5, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 3, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 6, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}]
2025-05-27 19:59:52,619 - CatastoGUI - INFO - Numero di periodi ricevuti: 6
2025-05-27 19:59:52,635 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2059311484160 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 19:59:52,646 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 19:59:52,660 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-27 19:59:52,676 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2059311484160 rilasciata al pool.
2025-05-27 20:05:38,461 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 20:05:38,781 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 20:05:38,963 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 20:05:39,352 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 20:05:39,534 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2801813310720 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:05:39,703 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2801813310720 rilasciata al pool.
2025-05-27 20:05:39,872 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 20:05:46,384 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2801813310720 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:05:46,568 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 20:05:46,750 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 20:05:46,917 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2801813310720 rilasciata al pool.
2025-05-27 20:05:47,352 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 20:05:47,436 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2801813310720 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:05:47,624 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione e529a677...
2025-05-27 20:05:47,809 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2801813310720 rilasciata al pool.
2025-05-27 20:05:47,991 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2801813310720 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:05:48,177 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=e529a677...
2025-05-27 20:05:48,351 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2801813310720 rilasciata al pool.
2025-05-27 20:05:50,843 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 20:05:50,928 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 20:05:51,013 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 20:05:51,098 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 20:05:51,183 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 20:05:51,299 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2801813310720 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:05:51,481 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 20:05:51,662 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni per get_all_comuni_details.
2025-05-27 20:05:51,829 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2801813310720 rilasciata al pool.
2025-05-27 20:05:52,074 - CatastoGUI - INFO - Chiamata a db_manager.get_historical_periods()...
2025-05-27 20:05:52,161 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2801813310720 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:05:52,342 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_historical_periods: SELECT id, nome, anno_inizio, anno_fine, descrizione FROM catasto.periodo_storico ORDER BY anno_inizio;
2025-05-27 20:05:52,516 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 6 periodi storici.
2025-05-27 20:05:52,684 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2801813310720 rilasciata al pool.
2025-05-27 20:05:52,855 - CatastoGUI - INFO - Elenco periodi ricevuto da DBManager (tipo: <class 'list'>): [{'id': 1, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 4, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 2, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 5, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 3, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 6, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}]
2025-05-27 20:05:52,940 - CatastoGUI - INFO - Numero di periodi ricevuti: 6
2025-05-27 20:05:53,041 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2801813310720 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:05:53,223 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 20:05:53,407 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-27 20:05:53,581 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2801813310720 rilasciata al pool.
2025-05-27 20:10:02,881 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 20:10:10,463 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 20:10:10,646 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 20:10:10,931 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 20:10:11,113 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2197587512576 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:10:11,297 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2197587512576 rilasciata al pool.
2025-05-27 20:10:11,474 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 20:10:23,756 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2197587512576 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:10:23,922 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 20:10:24,101 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 20:10:24,267 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2197587512576 rilasciata al pool.
2025-05-27 20:10:24,706 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 20:10:24,792 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2197587512576 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:10:24,981 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione 56a86ab3...
2025-05-27 20:10:25,162 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2197587512576 rilasciata al pool.
2025-05-27 20:10:25,339 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2197587512576 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:10:25,513 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=56a86ab3...
2025-05-27 20:10:25,683 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2197587512576 rilasciata al pool.
2025-05-27 20:10:27,377 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 20:10:27,458 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 20:10:27,541 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 20:10:27,627 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 20:10:27,712 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 20:10:27,819 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2197587512576 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:10:28,004 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 20:10:28,193 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni per get_all_comuni_details.
2025-05-27 20:10:28,367 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2197587512576 rilasciata al pool.
2025-05-27 20:10:28,611 - CatastoGUI - INFO - Chiamata a db_manager.get_historical_periods()...
2025-05-27 20:10:28,703 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2197587512576 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:10:28,890 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_historical_periods: SELECT id, nome, anno_inizio, anno_fine, descrizione FROM catasto.periodo_storico ORDER BY anno_inizio;
2025-05-27 20:10:29,067 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 6 periodi storici.
2025-05-27 20:10:29,240 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2197587512576 rilasciata al pool.
2025-05-27 20:10:29,412 - CatastoGUI - INFO - Elenco periodi ricevuto da DBManager (tipo: <class 'list'>): [{'id': 1, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 4, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 2, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 5, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 3, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 6, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}]
2025-05-27 20:10:29,501 - CatastoGUI - INFO - Numero di periodi ricevuti: 6
2025-05-27 20:10:29,613 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2197587512576 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:10:29,796 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 20:10:29,982 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-27 20:10:30,154 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2197587512576 rilasciata al pool.
2025-05-27 20:17:07,990 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 20:17:08,312 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoApp_Pool' inizializzato (min:1, max:5).
2025-05-27 20:17:08,496 - CatastoDB_catasto_storico_localhost_5432 - INFO - Inizializzato gestore DB (solo pool) per catasto_storico@localhost
2025-05-27 20:17:08,801 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni 'CatastoAppGUI_Main' inizializzato (min:1, max:5).
2025-05-27 20:17:08,990 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528449792 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:17:09,172 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528449792 rilasciata al pool.
2025-05-27 20:17:09,345 - CatastoGUI - INFO - Test di connessione iniziale al pool riuscito.
2025-05-27 20:17:18,456 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528449792 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:17:18,639 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_user_credentials per username: admin
2025-05-27 20:17:18,829 - CatastoDB_catasto_storico_localhost_5432 - INFO - Credenziali recuperate per utente: admin, Ruolo: admin
2025-05-27 20:17:18,996 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528449792 rilasciata al pool.
2025-05-27 20:17:19,437 - CatastoGUI - INFO - Login GUI OK per ID: 1
2025-05-27 20:17:19,528 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528449792 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:17:19,730 - CatastoDB_catasto_storico_localhost_5432 - INFO - Registrato accesso: Utente ID 1, Azione login, Esito True, Sessione c0a7658b...
2025-05-27 20:17:19,898 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528449792 rilasciata al pool.
2025-05-27 20:17:20,072 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528449792 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:17:20,244 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione per audit impostate: app_user_id=1, session_id=c0a7658b...
2025-05-27 20:17:20,416 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528449792 rilasciata al pool.
2025-05-27 20:17:20,823 - CatastoGUI - INFO - >>> CatastoMainWindow: Inizio perform_initial_setup
2025-05-27 20:17:20,915 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_manager e pool esistono.
2025-05-27 20:17:21,008 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_name recuperato: catasto_storico
2025-05-27 20:17:21,100 - CatastoGUI - INFO - DEBUG perform_initial_setup: db_status_label IMPOSTATO A: 'Database: Connesso (catasto_storico)'
2025-05-27 20:17:21,195 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a setup_tabs
2025-05-27 20:17:21,326 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528449792 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:17:21,514 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_all_comuni_details: 
            SELECT id, nome AS nome_comune, provincia, regione, 
                data_creazione, data_modifica 
            FROM catasto.comune ORDER BY nome_comune;
        
2025-05-27 20:17:21,692 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni per get_all_comuni_details.
2025-05-27 20:17:21,863 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528449792 rilasciata al pool.
2025-05-27 20:17:22,124 - CatastoGUI - INFO - Chiamata a db_manager.get_historical_periods()...
2025-05-27 20:17:22,207 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528449792 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:17:22,377 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_historical_periods: SELECT id, nome, anno_inizio, anno_fine, descrizione FROM catasto.periodo_storico ORDER BY anno_inizio;
2025-05-27 20:17:22,551 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 6 periodi storici.
2025-05-27 20:17:22,722 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528449792 rilasciata al pool.
2025-05-27 20:17:22,892 - CatastoGUI - INFO - Elenco periodi ricevuto da DBManager (tipo: <class 'list'>): [{'id': 1, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 4, 'nome': 'Regno di Sardegna', 'anno_inizio': 1720, 'anno_fine': 1861, 'descrizione': "Periodo del Regno di Sardegna prima dell'unit√\xa0 d'Italia"}, {'id': 2, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 5, 'nome': "Regno d'Italia", 'anno_inizio': 1861, 'anno_fine': 1946, 'descrizione': "Periodo del Regno d'Italia"}, {'id': 3, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}, {'id': 6, 'nome': 'Repubblica Italiana', 'anno_inizio': 1946, 'anno_fine': None, 'descrizione': 'Periodo della Repubblica Italiana'}]
2025-05-27 20:17:22,978 - CatastoGUI - INFO - Numero di periodi ricevuti: 6
2025-05-27 20:17:23,077 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528449792 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:17:23,259 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 20:17:23,443 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-27 20:17:23,625 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528449792 rilasciata al pool.
2025-05-27 20:17:26,216 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528449792 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:17:26,399 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_statistiche_comune: SELECT * FROM catasto.mv_statistiche_comune ORDER BY comune;
2025-05-27 20:17:26,589 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 5 righe da mv_statistiche_comune.
2025-05-27 20:17:26,759 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528449792 rilasciata al pool.
2025-05-27 20:17:26,938 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528449792 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:17:27,103 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_immobili_per_tipologia: SELECT * FROM catasto.mv_immobili_per_tipologia ORDER BY comune_nome, classificazione LIMIT 100;
2025-05-27 20:17:27,317 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperate 27 righe da mv_immobili_per_tipologia.
2025-05-27 20:17:27,489 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528449792 rilasciata al pool.
2025-05-27 20:17:27,702 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528449792 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:17:27,895 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_utenti: SELECT id, username, nome_completo, email, ruolo, attivo, ultimo_accesso FROM catasto.utente ORDER BY username;
2025-05-27 20:17:28,080 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 1 utenti.
2025-05-27 20:17:28,261 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528449792 rilasciata al pool.
2025-05-27 20:17:28,451 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528449792 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:17:28,636 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Count Query: SELECT COUNT(*) FROM catasto.audit_log WHERE timestamp >= '2025-05-26T20:17:28.446000'::timestamp AND timestamp <= '2025-05-27T20:17:28.446000'::timestamp;
2025-05-27 20:17:28,824 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Audit Log Data Query: 
            SELECT id, timestamp, app_user_id, session_id, tabella, operazione, record_id, ip_address, utente, dati_prima, dati_dopo
            FROM catasto.audit_log
            WHERE timestamp >= '2025-05-26T20:17:28.446000'::timestamp AND timestamp <= '2025-05-27T20:17:28.446000'::timestamp
            ORDER BY timestamp DESC, id DESC
            LIMIT 100 OFFSET 0;
        
2025-05-27 20:17:29,000 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 21 record di audit log (pagina 1 di 1). Totale filtrati: 21
2025-05-27 20:17:29,217 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a update_ui_based_on_role
2025-05-27 20:17:29,303 - CatastoGUI - INFO - >>> CatastoMainWindow: Chiamata a self.show()
2025-05-27 20:17:31,551 - CatastoGUI - INFO - >>> CatastoMainWindow: self.show() completato. Fine perform_initial_setup
2025-05-27 20:17:31,642 - CatastoGUI - INFO - >>> run_gui_app: Login successo, preparazione per app.exec_()
2025-05-27 20:17:31,731 - CatastoGUI - INFO - >>> run_gui_app: STA PER ESSERE CHIAMATO app.exec_()
2025-05-27 20:17:48,939 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528451424 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:17:49,124 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_comuni: SELECT id, nome, provincia, regione FROM catasto.comune ORDER BY nome
2025-05-27 20:17:49,313 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 5 comuni (search_term: 'None').
2025-05-27 20:17:49,481 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528451424 rilasciata al pool.
2025-05-27 20:17:52,485 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s ORDER BY c.nome, p.numero_partita - Params: (4,)
2025-05-27 20:17:52,667 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528451424 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:17:52,850 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 554 partite.
2025-05-27 20:17:53,030 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528451424 rilasciata al pool.
2025-05-27 20:17:55,258 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528451424 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:17:55,454 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 1663.
2025-05-27 20:17:55,617 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528451424 rilasciata al pool.
2025-05-27 20:18:36,423 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528451424 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:18:36,585 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione get_possessori_by_comune per comune_id 4
2025-05-27 20:18:36,758 - CatastoDB_catasto_storico_localhost_5432 - INFO - Recuperati 100 possessori per comune ID 4.
2025-05-27 20:18:36,927 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528451424 rilasciata al pool.
2025-05-27 20:18:40,517 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528451424 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:18:40,689 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Esecuzione query get_possessore_full_details per possessore_id 313: 
            SELECT
                p.id,
                p.cognome_nome,
                p.paternita,
                p.nome_completo,
                p.attivo,
                p.comune_id AS comune_riferimento_id, 
                c.nome AS comune_riferimento_nome, -- Nome del comune dalla tabella comune
                p.data_creazione,
                p.data_modifica
            FROM
                catasto.possessore p
            LEFT JOIN 
                catasto.comune c ON p.comune_id = c.id -- LEFT JOIN per gestire possessori senza comune (anche se comune_id Ë NOT NULL nel tuo schema)
            WHERE
                p.id = 313;
        
2025-05-27 20:18:40,862 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli recuperati per il possessore ID 313.
2025-05-27 20:18:41,032 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528451424 rilasciata al pool.
2025-05-27 20:18:46,731 - CatastoGUI - INFO - Avvio _esegui_passaggio_proprieta.
2025-05-27 20:18:46,819 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - CatastoDBManager.search_partite - Query: SELECT DISTINCT p.id, c.nome as comune_nome, p.numero_partita, p.tipo, p.stato FROM catasto.partita p JOIN catasto.comune c ON p.comune_id = c.id WHERE p.comune_id = %s AND p.numero_partita = %s ORDER BY c.nome, p.numero_partita - Params: (4, 144)
2025-05-27 20:18:47,002 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528451424 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:18:47,186 - CatastoDB_catasto_storico_localhost_5432 - INFO - CatastoDBManager.search_partite - Trovate 0 partite.
2025-05-27 20:18:47,360 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528451424 rilasciata al pool.
2025-05-27 20:18:47,532 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528451424 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:18:47,704 - CatastoDB_catasto_storico_localhost_5432 - INFO - Tentativo di registrare passaggio propriet‡ da Partita ID 1663 a Nuova Partita N.144 (Comune ID: 4).
2025-05-27 20:18:47,948 - CatastoDB_catasto_storico_localhost_5432 - INFO - Passaggio di propriet‡ registrato con successo tramite procedura.
2025-05-27 20:18:48,132 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528451424 rilasciata al pool.
2025-05-27 20:18:49,840 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528451424 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:18:50,028 - CatastoDB_catasto_storico_localhost_5432 - INFO - Dettagli completi recuperati per partita ID 1663.
2025-05-27 20:18:50,198 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528451424 rilasciata al pool.
2025-05-27 20:18:56,178 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528451424 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:18:56,364 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Variabili di sessione audit resettate (usando connessione esistente per logout).
2025-05-27 20:18:56,548 - CatastoDB_catasto_storico_localhost_5432 - INFO - Logout registrato per utente ID 1, sessione c0a7658b...
2025-05-27 20:18:56,725 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528451424 rilasciata al pool.
2025-05-27 20:18:58,914 - CatastoDB_catasto_storico_localhost_5432 - INFO - Reset variabili di sessione applicative (app.user_id, app.ip_address).
2025-05-27 20:18:59,092 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Tentativo di impostare var sessione app: app.user_id='None', app.ip_address='None'
2025-05-27 20:18:59,261 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528451424 ottenuta dal pool. DSN: user=postgres password=xxx dbname=catasto_storico host=localhost port=5432 options='-c search_path=catasto,public -c application_name=\'CatastoAppGUI_Main\''
2025-05-27 20:18:59,436 - CatastoDB_catasto_storico_localhost_5432 - INFO - Variabili di sessione applicative impostate: app.user_id='None', app.ip_address='None'
2025-05-27 20:18:59,606 - CatastoDB_catasto_storico_localhost_5432 - DEBUG - Connessione 2094528451424 rilasciata al pool.
2025-05-27 20:18:59,797 - CatastoGUI - INFO - Evento closeEvent intercettato in CatastoMainWindow.
2025-05-27 20:18:59,888 - CatastoDB_catasto_storico_localhost_5432 - INFO - Pool di connessioni chiuso con successo.
2025-05-27 20:19:00,070 - CatastoGUI - INFO - Pool di connessioni al database chiuso.
2025-05-27 20:19:00,162 - CatastoGUI - INFO - Applicazione GUI Catasto Storico terminata.
2025-05-27 20:19:00,257 - CatastoGUI - INFO - >>> run_gui_app: app.exec_() TERMINATO con codice: 0
